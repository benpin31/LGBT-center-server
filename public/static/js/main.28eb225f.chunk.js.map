{"version":3,"sources":["Components/Auth/UserContext.jsx","Components/Auth/withUser.jsx","Components/ProtectedRoute.jsx","Assets/trash-icon.svg","Assets/edit-icon.svg","Components/UsersSettings/CardAdminsVolunteer.jsx","Components/UsersSettings/Admins.jsx","Components/UsersSettings/Volunteer.jsx","apiHandler/apiHandler.js","Components/UsersSettings/FormCreateUpdateAdmin.jsx","Components/UsersSettings/DeleteUser.jsx","Assets/plus-icon.svg","Views/Settings/SettingsUsers.jsx","Components/GlobalElements/HeaderFlag.jsx","Assets/logo.svg","Components/FormLogIn.jsx","Views/Home.jsx","Assets/exit-icon.svg","Assets/drop-down-downarrow.svg","Assets/drop-down-uparrow.svg","Components/GlobalElements/DashboardNavBar.jsx","Components/Visits/VisitCardInfo.jsx","Views/Visits/History.jsx","Assets/info-icon.svg","Components/Visits/CategoryCard.jsx","Assets/purple-plus-icon.svg","Assets/minus-icon.svg","Assets/wait-icon.svg","Assets/check-icon.svg","Components/Visits/CreateVisitForm.jsx","Components/GlobalElements/FormHeader.jsx","Views/Visits/CreateVisit.jsx","Views/Visits/UpdateVisit.jsx","Assets/archive-icon.svg","Assets/on-off-icon.svg","Components/CategoriesContacts/CardCatCont.jsx","Components/CategoriesContacts/AllItems.jsx","Components/CategoriesContacts/FormCreateUpdateCategory.jsx","Components/CategoriesContacts/FormCreateUpdateContact.jsx","Views/Settings/SettingsCatCont.jsx","Components/DataVizHeader.jsx","Views/Insights/CategoriesDistribution.jsx","Views/Insights/HotDay.jsx","Views/Insights/HotTime.jsx","Views/Insights/RetrieveData.jsx","Views/NotFound.jsx","App.jsx","reportWebVitals.js","Components/Auth/UserProvider.jsx","index.js"],"names":["UserContext","React","createContext","withUser","ComponentToPassUserContextTo","props","Consumer","context","Component","component","protectionLevel","rest","isLoading","isLoggedIn","user","isAdmin","render","to","state","isHovering","handleMouseEnterCard","setState","handleMouseLeaveCard","this","users","handlePopup","handlePopupDelete","console","log","name","login","toUpperCase","substring","onMouseEnter","onMouseLeave","className","_id","onClick","src","editIcon","alt","binIcon","Admins","getAllUsers","map","Volunteer","service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","signin","userInfo","post","then","res","catch","get","logout","getUsers","getOneUser","itemId","createUser","newUser","deleteUser","userId","delete","updateUser","updatedInfo","patch","getVisits","createVisit","visitInfo","updateVisit","visitId","deleteVisit","getCategories","createCategory","catefgoryInfo","updateCategory","categoryId","getContactTypes","createContactType","contactTypeInfo","updateContactType","contactTypeId","repartitionByCategory","dates","hotTime","weekDays","join","repartitionByWeeks","getVisitsDateRange","FormCreateUpdateAdmin","value","password","isLoginLengthValidated","isLoginFree","isPasswordValidated","isTestMode","wrapperRef","createRef","handleClickOutside","event","current","contains","target","handleChange","key","handleSubmit","a","preventDefault","action","newValue","find","length","formAction","document","addEventListener","removeEventListener","ref","onSubmit","htmlFor","onChange","type","id","placeholder","substr","DeleteUser","handleDelete","api","nameFirstLetterUp","SettingsUsers","isShownCreate","isShownUpdate","isShownDelete","handlePopupCreate","handlePopupUpdate","handleHidePopup","plusIcon","HeaderFlag","location","pathname","flag","withRouter","FormLogIn","username","onLoggedIn","isValidSignin","updateValidSignin","logo","Home","signInStyle","flagStyle","helloStyle","handleLoggedin","apiHandler","setUser","display","transform","animation","setTimeout","history","push","prevProps","style","DashboardNavBar","rapportClicked","handleOpen","handleClose","handleLogout","removeUser","exact","activeClassName","arrowUp","arrowDown","VisitCardInfo","visit","onDelete","date","Date","hour","getHours","minutes","getMinutes","category","contactType","deleteIcon","History","allVisits","filterDeletedVisit","filter","err","CategoryCard","isHoveringInfoIcon","handleMouseEnter","handleMouseLeave","handleTouchInfo","e","handleTouchEnd","handleSelectItem","requiredComment","isMobileOnly","description","opacity","onTouchStart","onTouchEnd","infoIcon","ChooseCategory","nbOfPerson","comment","allCategories","allContactTypes","visitToUpdate","isUpdateVisit","handleDecrease","handleIncrease","properties","item","undefined","handleComment","handleChangeItem","i","activeCategories","cat","isActive","activeContacts","cont","toto","dateFormat","toLocaleDateString","year","month","day","checkedIcon","minusIcon","waitIcon","contact","cols","rows","FormHeader","handleCancel","title","CreateVisit","CreateVisitForm","UpdateVisit","CardItemWidget","onOffItem","handleUpdateView","updateItem","handleOpenUpdate","archiveIcon","onOffIcone","AllItems","items","showCreateForm","showUpdateForm","getAllItmes","handleOpenCreate","handleCloseCreate","handleCloseUpdate","activeitems","inactiveitems","buttonName","FormCreateUpdateComponent","formCreateAction","titleFormat","CardCatCont","formType","formName","closeForm","values","FormCreateUpdateCategory","isNameValidated","isdescriptionValidated","prevName","FormCreateUpdateContact","SettingsCatCont","DataVizHeader","calendarClicked","setStartDate","openCalendar","selectDayClicked","openFilterDay","leaveSelectDay","isCheckboxes","handleToggleDay","defaultChecked","includes","selectRange","RADIAN","Math","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","toFixed","CategoriesDistribution","plotLegend","chartRef","colors","exportChart","exportComponentAsPNG","dateBegin","toISOString","dateEnd","ResponsiveContainer","width","height","PieChart","Legend","verticalAlign","align","Pie","startAngle","endAngle","dataKey","label","labelLine","legendType","entry","index","Cell","Tooltip","contentStyle","borderRadius","boxShadow","border","fontFamily","fontSize","reduce","acc","curr","CustomizedDot","viewBox","maskUnits","d","mask","CustomizedLabel","stroke","dy","PureComponent","HotDay","agregatedData","updatedDates","UTC","getFullYear","getMonth","getDate","paddingTop","LineChart","margin","top","right","left","bottom","XAxis","tick","tickMargin","YAxis","axisLine","padding","cursor","Line","dot","activeDot","indexOf","splice","status","BarChart","tickLine","Bar","position","flatData","datas","categoryName","categoryIsActive","contactTypeName","contactTypeIsActive","separator","NotFound","App","path","HotTime","RetrieveData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","UserProvider","authValues","Provider","children","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.28eb225f.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const UserContext = React.createContext();","import React from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\n// This is what we call a HOC (Higher Order Component).\r\n// It takes a component as a parameter and it returns a component.\r\n// This technique can be used to abstract some logic in order to pass\r\n// some data down as props to the component sent as parameter.\r\n\r\n// The use case of this one is to make it easy to access the user context to\r\n// any component in our app.\r\n\r\n/* ******************************************************** */\r\n\r\n//  How to use:  =>\r\n// YourComponent.jsx\r\n// import React from \"react\"\r\n// function or class YourComponent()\r\n//\r\n// ... your implementation.\r\n//\r\n// export default withUser(YourComponent)\r\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\r\n\r\n// This component is not exported as default, so you have to import it\r\n// this way :\r\n// import { withUser } from \"../relative/path/to/this/file\"\r\n\r\nexport const withUser = (ComponentToPassUserContextTo) => {\r\n  return function (props) {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {(context) => (\r\n          <ComponentToPassUserContextTo {...props} context={context} />\r\n        )}\r\n      </UserContext.Consumer>\r\n    );\r\n  };\r\n};","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { withUser } from \"./Auth/withUser\";\r\n\r\nconst ProtectedRoute = ({ component: Component, context,protectionLevel, ...rest }) => {\r\n  if (context.isLoading) {\r\n    return null;\r\n  } else if (context.isLoggedIn) {\r\n    if (protectionLevel === \"volunteer\" || context.user.isAdmin) {\r\n      return <Route {...rest} render={(props) => <Component {...props} />} />;\r\n    } else {\r\n      return <Redirect to=\"/new-visit\" />;\r\n    }\r\n  } else {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n};\r\n\r\nexport default withUser(ProtectedRoute);","export default __webpack_public_path__ + \"static/media/trash-icon.adbd3cc3.svg\";","export default __webpack_public_path__ + \"static/media/edit-icon.0d2adfe8.svg\";","import React, { Component } from \"react\";\r\nimport binIcon from \"../../Assets/trash-icon.svg\";\r\nimport editIcon from \"../../Assets/edit-icon.svg\";\r\nimport { withUser } from \"../Auth/withUser\";\r\nimport \"../../Styles/CardAdminsVolunteer.css\";\r\n\r\n\r\nclass CardAdminsVolunteer extends Component {\r\n  state = {\r\n    isHovering: false,\r\n  };\r\n\r\n  handleMouseEnterCard = () => {\r\n    this.setState({ isHovering: true });\r\n  };\r\n\r\n  handleMouseLeaveCard = () => {\r\n    this.setState({ isHovering: false });\r\n  };\r\n\r\n  render() {\r\n    const {users, context, handlePopup, handlePopupDelete} = this.props;\r\n    console.log(this.props);\r\n    const name = users.login[0].toUpperCase() + users.login.substring(1);\r\n\r\n    return (\r\n      <div\r\n        onMouseEnter={this.handleMouseEnterCard}\r\n        onMouseLeave={this.handleMouseLeaveCard}\r\n        className=\"CardContainerAdminsVolunteer\"\r\n      >\r\n        {users.isAdmin && (\r\n          <div>\r\n            <div className=\"card-info-admins-volunteer\">\r\n              <div>Admin</div>\r\n              <p>{name}</p>\r\n            </div>\r\n            {this.state.isHovering && (\r\n              <aside>\r\n                {!context.isLoading &&\r\n                  context.user._id === users._id && (\r\n                    <img\r\n                      onClick={handlePopup}\r\n                      src={editIcon}\r\n                      alt=\"edit-icon\"\r\n                    />\r\n                  )}\r\n                {!context.isLoading &&\r\n                  context.user._id !== users._id && (\r\n                    <img\r\n                      onClick={ handlePopupDelete }\r\n                      src={binIcon}\r\n                      alt=\"trash-icon\"\r\n                    />\r\n                  )}\r\n              </aside>\r\n            )}\r\n          </div>\r\n        )}\r\n        {!users.isAdmin && (\r\n          <div>\r\n            <div className=\"card-info-admins-volunteer\">\r\n              <div>Bnvole</div>\r\n              <p>{name}</p>\r\n            </div>\r\n            {this.state.isHovering && (\r\n              <aside onClick={handlePopup}>\r\n                <img src={editIcon} alt=\"edit-icon\" />\r\n              </aside>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(CardAdminsVolunteer);\r\n","import React, { Component } from \"react\";\r\nimport Card from \"./CardAdminsVolunteer\";\r\n\r\nclass Admins extends Component {\r\n  render() {\r\n    const { users, handlePopup, handlePopupDelete, getAllUsers } = this.props;\r\n\r\n    return (\r\n      <>\r\n        {users && \r\n        users.map(user => {\r\n          return (\r\n            user.isAdmin \r\n              && \r\n            <Card \r\n              key={user._id} \r\n                users={user} \r\n                handlePopup = {() => handlePopup(user)}\r\n                getAllUsers={getAllUsers}  \r\n                handlePopupDelete={() => handlePopupDelete(user)}   \r\n              />)\r\n        })}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admins;\r\n","import React, { Component } from \"react\";\r\nimport Card from \"./CardAdminsVolunteer\";\r\n\r\nclass Volunteer extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.users &&\r\n        this.props.users.map(user => {\r\n          return (\r\n            !user.isAdmin \r\n              && \r\n            <Card \r\n              key={user._id} \r\n              users={user} \r\n              handlePopup = {() => this.props.handlePopup(user)}\r\n              getAllUsers={this.props.getAllUsers}            \r\n            />)\r\n        })}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Volunteer;\r\n","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\r\n\twithCredentials: true\r\n});\r\n\r\nfunction errorHandler(error) {\r\n\tif (error.response.data) {\r\n\t\tthrow error;\r\n\t}\r\n\tthrow error;\r\n}\r\n\r\nexport default {\r\n\tservice,\r\n\r\n\t// ---AUTH--- \r\n\tsignin(userInfo) {\r\n\t\treturn service\r\n\t\t\t.post(\"/api/auth/signin\", userInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tisLoggedIn() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/auth/isLoggedIn\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tlogout() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/auth/logout\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\t// ---USER CRUD---\r\n\tgetUsers() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/user\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tgetOneUser(itemId) {\r\n\t\treturn service\r\n\t\t\t.get(`/api/user${itemId}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tcreateUser(newUser) {\r\n\t\treturn service\r\n\t\t\t.post(\"/api/user/create\", newUser)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tdeleteUser(userId) {\r\n\t\treturn service\r\n\t\t\t.delete(`/api/user/delete/${userId}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tupdateUser(userId, updatedInfo) {\r\n\t\treturn service\r\n\t\t\t.patch(`/api/user/edit/${userId}`, updatedInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\t// ---VISITS--- \r\n\tgetVisits() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/visits\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tcreateVisit(visitInfo) {\r\n\t\treturn service\r\n\t\t\t.post(\"/api/visits\", visitInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tupdateVisit(visitId, visitInfo) {\r\n\t\treturn service\r\n\t\t\t.patch(`/api/visits/${visitId}`, visitInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tdeleteVisit(visitId) {\r\n\t\treturn service\r\n\t\t\t.delete(`/api/visits/${visitId}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\t// ---CATEGORIES--- \r\n\tgetCategories() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/categories\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tcreateCategory(catefgoryInfo) {\r\n\t\treturn service\r\n\t\t\t.post(\"/api/categories\", catefgoryInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tupdateCategory(categoryId, catefgoryInfo) {\r\n\t\treturn service\r\n\t\t\t.patch(`/api/categories/${categoryId}`, catefgoryInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\t// ---CONTACT TYPE--- \r\n\tgetContactTypes() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/contactTypes\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tcreateContactType(contactTypeInfo) {\r\n\t\treturn service\r\n\t\t\t.post(\"/api/contactTypes\", contactTypeInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tupdateContactType(contactTypeId, contactTypeInfo) {\r\n\t\treturn service\r\n\t\t\t.patch(`/api/contactTypes/${contactTypeId}`, contactTypeInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\t//  Insights\r\n\trepartitionByCategory(data) {\r\n\t\treturn service\r\n\t\t\t.get(`/api/insight/get-category-repartition?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\thotTime(data) {\r\n\t\treturn service\r\n\t\t\t.get(`/api/insight/get-popular-hours?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}${data.weekDays?\"&weekDays=\"+data.weekDays.join(\",\"):\"\"}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\trepartitionByWeeks(data) {\r\n\t\treturn service\r\n\t\t\t.get(`/api/insight/get-popular-days?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tgetVisitsDateRange(data) {\r\n\t\treturn service\r\n\t\t\t.get(`/api/visits?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t}\r\n\r\n\r\n};\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport \"../../Styles/FormCreateCatCont.css\";\r\n\r\nclass FormCreateUpdateAdmin extends Component {\r\n  state = {\r\n    login: this.props.value ? this.props.value.login[0].toUpperCase() + this.props.value.login.substring(1) : \"\",\r\n    password: \"\",\r\n    isAdmin: this.props.value ? this.props.value.isAdmin : true,\r\n\r\n    //  input validation\r\n    isLoginLengthValidated: true,\r\n    isLoginFree: true,\r\n    isPasswordValidated: true,\r\n\r\n    //prevent update user if test mode\r\n    isTestMode: false\r\n  };\r\n\r\n  wrapperRef = React.createRef();\r\n\r\n  handleClickOutside = event => {\r\n    if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\r\n      this.props.handlePopup();\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const key = event.target.name;\r\n    this.setState({ [key]: event.target.value, isLoginLengthValidated:true,  isPasswordValidated: true});\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    \r\n    event.preventDefault();\r\n\r\n    const { login, password, isAdmin } = this.state;\r\n    const { users } = this.props;\r\n\r\n    if(this.props.action === 'modifier' && process.env.REACT_APP_TEST === 'true') {\r\n      this.setState({isTestMode: true});\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const newValue = { login, isAdmin };\r\n\r\n      //  input validation\r\n      let isLoginLengthValidated = true,\r\n        isLoginFree = true,\r\n        isPasswordValidated = true;\r\n\r\n      if (\r\n        users.find(\r\n          (user) =>\r\n            user.login === login && user.login !== this.props.value?.login\r\n        )\r\n      ) {\r\n        isLoginFree = false;\r\n      }\r\n\r\n      if (login.length < 3) {\r\n        isLoginLengthValidated = false;\r\n      }\r\n\r\n      if (password.length < 3) {\r\n        if (password.length !== 0 || !this.props.value) {\r\n          // in case of update (when this.props.value is not empty ), the input may be \"\" which mean that the user keep the same password\r\n          isPasswordValidated = false;\r\n        }\r\n      }\r\n\r\n      if (!isLoginLengthValidated || !isLoginFree || !isPasswordValidated) {\r\n        this.setState({\r\n          isLoginLengthValidated,\r\n          isLoginFree,\r\n          isPasswordValidated,\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (password !== \"\") {\r\n        newValue.password = password;\r\n      }\r\n\r\n      await this.props.formAction(newValue);\r\n      this.props.getAllUsers();\r\n      this.props.handlePopup();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      isLoginLengthValidated,\r\n      isLoginFree,\r\n      isPasswordValidated,\r\n      isTestMode\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className=\"shadow-pop-up\">\r\n        <div ref={this.wrapperRef} className=\"FormCreateUpdateContact\">\r\n          <div>\r\n            <h1>{this.props.action} une utilisateurice</h1>\r\n            <div className=\"close-pop-up\" onClick={this.props.handlePopup}>Annuler</div>\r\n          </div>\r\n          <form onSubmit={this.handleSubmit} className=\"form-update-create\">\r\n            <label htmlFor=\"login\">nom utilisateurice</label>\r\n            <input\r\n              className={!isLoginLengthValidated || !isLoginFree || isTestMode ?  \"error-input\" : \"\"}\r\n              onChange={this.handleChange}\r\n              value={this.state.login}\r\n              type=\"text\"\r\n              name=\"login\"\r\n              id=\"login\"\r\n            />\r\n            {!isLoginLengthValidated && (\r\n              <div className=\"error-message user-name-error\">\r\n                <p>Le login doit contenir au moins 3 caractres.</p>\r\n              </div>\r\n            )}\r\n            {!isLoginFree && (\r\n              <div className=\"error-message user-name-error\">\r\n                <p>Ce nom dutilisateur est dj pris.</p>\r\n              </div>\r\n            )} \r\n\r\n            <label htmlFor=\"password\">mot de passe</label>\r\n            <input\r\n              className={!isPasswordValidated || !isLoginFree || isTestMode ?  \"error-input\" : \"\"}\r\n              onChange={this.handleChange}\r\n              value={this.props.password}\r\n              type=\"password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              placeholder={this.props.action === \"ajouter\" ? '' : ''}\r\n            />\r\n            {!isPasswordValidated && (\r\n              <div className=\"error-message name-error-contact\">\r\n                <p>Le mot de passe doit contenir au moins 3 caractres.</p>\r\n              </div>\r\n            )}\r\n\r\n            {isTestMode && (\r\n              <div className=\"error-message name-error-contact\">\r\n                <p>Action impossible sur la version test</p>\r\n              </div>\r\n            )} \r\n\r\n            <button>{this.props.action[0].toUpperCase() + this.props.action.substr(1)}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormCreateUpdateAdmin;\r\n","import React, { Component } from 'react';\r\nimport \"../../Styles/FormCreateCatCont.css\";\r\nimport api from \"../../apiHandler/apiHandler\";\r\n\r\nexport class DeleteUser extends Component {\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n\r\n    wrapperRef = React.createRef();\r\n\r\n    handleClickOutside = event => {\r\n        if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\r\n          this.props.handlePopup();\r\n        }\r\n    }\r\n\r\n    handleDelete = () => {\r\n        api\r\n          .deleteUser(this.props.user._id)\r\n          .then(() => {\r\n            this.props.getAllUsers();\r\n            this.props.handlePopup();\r\n          })\r\n          .catch((error) => console.log(error));\r\n    };\r\n\r\n    render() {\r\n        const { handlePopup, user } = this.props;\r\n        const nameFirstLetterUp = user.login[0].toUpperCase() + user.login.substring(1)\r\n\r\n        return (\r\n            <div className=\"shadow-pop-up\">\r\n                <div ref={this.wrapperRef} className=\"delete-user-container\">\r\n                    <h1>supprimer le compte de {nameFirstLetterUp} ?</h1>\r\n                    <div className=\"delete-user-buttons\">\r\n                        <button\r\n                            onClick={this.handleDelete}\r\n                        >\r\n                            oui\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={handlePopup}\r\n                        >\r\n                            non\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DeleteUser\r\n","export default __webpack_public_path__ + \"static/media/plus-icon.cc463e15.svg\";","import React, { Component } from \"react\";\r\n\r\nimport Admins from \"../../Components/UsersSettings/Admins\";\r\nimport Volunteer from \"../../Components/UsersSettings/Volunteer\";\r\nimport api from \"../../apiHandler/apiHandler\";\r\nimport FormUser from \"../../Components/UsersSettings/FormCreateUpdateAdmin\";\r\nimport DeleteUserPopup from './../../Components/UsersSettings/DeleteUser';\r\n\r\nimport \"../../Styles/SettingsUsers.css\";\r\nimport plusIcon from \"../../Assets/plus-icon.svg\";\r\n\r\nclass SettingsUsers extends Component {\r\n  state = {\r\n    users: null,\r\n    isShownCreate: false,\r\n    isShownUpdate: null,\r\n    isShownDelete: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    api\r\n      .getUsers()\r\n      .then((response) => this.setState({ users: response }))\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  getAllUsers = () => {\r\n    api\r\n      .getUsers()\r\n      .then((response) => this.setState({ users: response }))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  handlePopupCreate = () => {\r\n    this.setState({\r\n      isShownCreate: !this.state.isShownCreate,\r\n      isShownUpdate: null,\r\n    });\r\n  };\r\n\r\n  handlePopupUpdate = (user) => {\r\n    this.setState({ isShownUpdate: user, isShownCreate: false });\r\n  };\r\n\r\n  handlePopupDelete = (user) => {\r\n    this.setState({ isShownDelete: user });\r\n  }\r\n\r\n  handleHidePopup = () => {\r\n    this.setState({ isShownUpdate: null, isShownCreate: false, isShownDelete: null });\r\n  };\r\n\r\n  render() {\r\n    const {users, isShownCreate, isShownUpdate, isShownDelete} = this.state;\r\n\r\n    return (\r\n      <div id=\"settings-users\">\r\n        <div id=\"header-users\">\r\n          <h1>utilisateurices</h1>\r\n          <button onClick={this.handlePopupCreate}>\r\n            <img src={plusIcon} alt=\"plus-icon\" />\r\n            <p>Ajouter une utilisateurice</p>\r\n          </button>\r\n        </div>\r\n        <div className=\"users-container\">\r\n          <Admins\r\n            users={users}\r\n            handlePopup={this.handlePopupUpdate}\r\n            getAllUsers={this.getAllUsers}\r\n            handlePopupDelete={this.handlePopupDelete}\r\n          />\r\n        </div>\r\n        <div className=\"users-container\">\r\n          <Volunteer\r\n            users={users}\r\n            handlePopup={this.handlePopupUpdate}\r\n            getAllUsers={this.getAllUsers}\r\n          />\r\n        </div>\r\n        {isShownCreate && (\r\n          <FormUser\r\n            formAction={api.createUser}\r\n            handlePopup={this.handleHidePopup}\r\n            getAllUsers={this.getAllUsers}\r\n            users={users}\r\n            action=\"ajouter\"\r\n          />\r\n        )}\r\n        {isShownUpdate && (\r\n          <FormUser\r\n            formAction={(value) =>\r\n              api.updateUser(isShownUpdate._id, value)\r\n            }\r\n            handlePopup={this.handleHidePopup}\r\n            getAllUsers={this.getAllUsers}\r\n            value={isShownUpdate}\r\n            users={users}\r\n            action=\"modifier\"\r\n          />\r\n        )}\r\n        {isShownDelete && (\r\n          <DeleteUserPopup \r\n            handlePopup={this.handleHidePopup}\r\n            user={isShownDelete}\r\n            getAllUsers={this.getAllUsers}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SettingsUsers;\r\n","import React, { Component } from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nexport class HeaderFlag extends Component {\r\n    render() {\r\n        const flags = [\"red\", \"orange\", \"yellow\", \"green\", \"blue\", \"purple\"];\r\n        return (\r\n            <>\r\n                {this.props.location.pathname !== '/' &&\r\n                    <div id=\"header-flag\">\r\n                        \r\n                        {flags.map(flag => \r\n                            <div key={flag} id={flag}></div>\r\n                        )} \r\n                        \r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(HeaderFlag);\r\n","export default __webpack_public_path__ + \"static/media/logo.362bd950.svg\";","import React, { Component } from 'react';\r\nimport './../Styles/LogIn.css';\r\nimport logo from './../Assets/logo.svg';\r\n\r\nclass FormLogIn extends Component {\r\n    state = {\r\n        username : \"\",\r\n        password : \"\"\r\n    }\r\n\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const {username: login, password} = this.state ;        \r\n\r\n        try {\r\n            await this.props.onLoggedIn({login, password});\r\n        } catch(err) {\r\n            console.log(err)\r\n        }\r\n    } \r\n\r\n    render() {\r\n\r\n        const { isValidSignin, updateValidSignin } = this.props ;\r\n\r\n        return (\r\n            <div className=\"form-container\">\r\n                <img src={logo} alt=\"\"/>\r\n                <form className=\"form-signin\" onSubmit={this.handleSubmit}>\r\n                    <label htmlFor=\"username\">Nom d'utilisateur.ice</label>\r\n                    <input \r\n                        className={!isValidSignin ?  \"error-input\" : \"\"}\r\n                        onChange={(event) => {\r\n                            this.setState({username : event.target.value})\r\n                            updateValidSignin()\r\n                        }}\r\n                        value={this.state.username}\r\n                        type=\"text\" \r\n                        id=\"username\" \r\n                        name=\"username\"\r\n                    />\r\n\r\n                    <label htmlFor=\"password\">Mot de passe</label>\r\n                    <input \r\n                        className={!isValidSignin ?  \"error-input\" : \"\"}\r\n                        onChange={(event) => {\r\n                            this.setState({password : event.target.value})\r\n                            updateValidSignin()\r\n                        }}\r\n                        value={this.state.password}\r\n                        type=\"password\" \r\n                        id=\"password\" \r\n                        name=\"password \"\r\n                    />\r\n                    {   !isValidSignin \r\n                            && \r\n                        <div className=\"error-message\"><p>Mauvais mot de passe et/ou nom d'utilisateur.ice</p></div>\r\n                    }\r\n                    <button >Connexion</button>\r\n                </form> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FormLogIn\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { withUser } from \"./../Components/Auth/withUser\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport FormLogIn from './../Components/FormLogIn';\r\nimport './../Styles/LogIn.css';\r\n\r\nimport apiHandler from './../apiHandler/apiHandler'\r\n\r\nclass Home extends React.Component {\r\n    state = {\r\n        signInStyle : null,\r\n        flagStyle : null,\r\n        helloStyle : null,\r\n        isValidSignin: true\r\n    };\r\n\r\n    componentDidMount() {\r\n        //Dealing with arriving on Home page animation\r\n        if(!this.props.context.isLoggedIn & !this.props.context.isLoading) {\r\n            //css deals with making flag move up\r\n            // then after 700ms I want the \"bonjour\" to display \r\n            setTimeout(() => {\r\n                this.setState({\r\n                    helloStyle : {\r\n                        display : 'block',\r\n                    }\r\n                })\r\n            }, 700);\r\n            //then after 900ms I want the login form to move down\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    signInStyle: {\r\n                        display : 'block',\r\n                        animation : 'signinsweep 0.9s ease-out'\r\n                    }\r\n                })\r\n            }, 900);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        //Dealing with arriving at Home page animation\r\n        //but same time dealing with loading isLoggedIn asynchrone issues\r\n\r\n        //TO REFACTOR : we have the same animation twice\r\n        if (prevProps.context.isLoading !== this.props.context.isLoading) {\r\n            if (this.props.context.isLoggedIn) {\r\n                this.props.history.push(\"/new-visit\")\r\n            } else  {\r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        helloStyle : {\r\n                            display : 'block',\r\n                        }\r\n                    })\r\n                }, 700);\r\n\r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        signInStyle: {\r\n                            display : 'block',\r\n                            animation : 'signinsweep 0.9s ease-out'\r\n                        }\r\n                    })\r\n                }, 900);\r\n            }\r\n        }\r\n    }\r\n\r\n    handleLoggedin = (user) => {\r\n        //changer de route aprs le timeOut\r\n        apiHandler\r\n            .signin(user)\r\n            .then((data) => {\r\n                this.props.context.setUser(data);\r\n\r\n                this.setState({\r\n                    signInStyle: {\r\n                        display : 'block',\r\n                        transform : 'translateY(-100%)',\r\n                        animation : 'outro-sweep 1s ease-out'\r\n                    },\r\n                    helloStyle : {\r\n                        display : 'none',\r\n                    }\r\n                })\r\n        \r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        flagStyle : {\r\n                            display : 'block',\r\n                            transform : 'translateY(calc(-100% + 6px))',\r\n                            animation : 'outro-sweep 0.5s ease-out'\r\n                        }\r\n                    })\r\n                }, 700);\r\n        \r\n                setTimeout(() => this.props.history.push(\"/history\"), 1500) ;\r\n            })\r\n            .catch((error) => {\r\n                this.setState({isValidSignin: false})\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    //show error message if sign in is not good\r\n    //to do = setState only if !isValidSignin\r\n    updateValidSignin = () => {\r\n        this.setState({isValidSignin: true})\r\n    }\r\n\r\n    render() {\r\n\r\n        const flags = [\"red\", \"orange\", \"yellow\", \"green\", \"blue\", \"purple\"];\r\n        const {isValidSignin} = this.state ;\r\n\r\n        return (\r\n            <div>\r\n                <div id=\"signin\" style={this.state.signInStyle}>\r\n                    <FormLogIn \r\n                        onLoggedIn={this.handleLoggedin} \r\n                        isValidSignin={isValidSignin}\r\n                        updateValidSignin={this.updateValidSignin}\r\n                    />\r\n                </div>\r\n\r\n                <div id=\"flag-container\">\r\n                    <p style={this.state.helloStyle}>bonjour</p>\r\n                    {flags.map(flag => \r\n                        <div key={flag} id={flag} style={this.state.flagStyle}></div>\r\n                    )} \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(withUser(Home))\r\n","export default __webpack_public_path__ + \"static/media/exit-icon.ee9ecdda.svg\";","export default __webpack_public_path__ + \"static/media/drop-down-downarrow.55d8cc96.svg\";","export default __webpack_public_path__ + \"static/media/drop-down-uparrow.3d642aba.svg\";","import React, { Component } from 'react';\r\nimport {withRouter, NavLink} from 'react-router-dom';\r\nimport { withUser } from \"./../../Components/Auth/withUser\";\r\nimport apiHandler from './../../apiHandler/apiHandler'\r\n\r\nimport './../../Styles/NavDashboard.css';\r\nimport logo from './../../Assets/logo.svg';\r\nimport logout from './../../Assets/exit-icon.svg';\r\nimport arrowDown from './../../Assets/drop-down-downarrow.svg';\r\nimport arrowUp from './../../Assets/drop-down-uparrow.svg';\r\n\r\nclass DashboardNavBar extends Component {\r\n\r\n    state = {\r\n        rapportClicked: false\r\n    }\r\n\r\n    handleOpen = () => {\r\n        this.setState({rapportClicked: !this.state.rapportClicked});\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({rapportClicked: false});\r\n    }\r\n\r\n    handleLogout = () => {\r\n        const {context} = this.props ;\r\n\r\n        apiHandler\r\n          .logout()\r\n          .then(() => {\r\n            context.removeUser();\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { context } = this.props ;\r\n        const { rapportClicked } = this.state\r\n\r\n        return (\r\n            <>\r\n            {this.props.location.pathname !== '/' &&\r\n                <div id=\"DashboardNavBar\">\r\n                    <img className=\"logo\" src={logo} alt=\"\"/>\r\n\r\n                    <NavLink \r\n                        exact\r\n                        to=\"/history\"\r\n                        className=\"link\" \r\n                        activeClassName=\"selected\"\r\n                        onClick={this.handleClose}\r\n                    >\r\n                        Visites\r\n                    </NavLink>\r\n                    <div className=\"rapport-container\">\r\n                        <div \r\n                            className=\"rapport\" \r\n                            onClick={this.handleOpen}\r\n                        >\r\n                            <p>Rapport</p>\r\n                            <img src={rapportClicked ? arrowUp : arrowDown} alt=\"\"/>\r\n                        </div>\r\n                        {rapportClicked &&\r\n                            <div \r\n                                onMouseLeave={this.handleClose}\r\n                                className=\"drop-down-rapport\"\r\n                            >\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/categories-repartition\"\r\n                                    className=\"sublink\" \r\n                                    activeClassName=\"selected\"\r\n                                >\r\n                                    Rpartition des visites\r\n                                </NavLink>\r\n\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/jour-affluence\"\r\n                                    className=\"sublink\"\r\n                                    activeClassName=\"selected\" \r\n                                >\r\n                                    Jours d'affluence\r\n                                </NavLink>\r\n\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/heure-affluence\"\r\n                                    className=\"sublink\" \r\n                                    activeClassName=\"selected\"\r\n                                >\r\n                                    Heures d'affluence\r\n                                </NavLink>\r\n\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/exporter\"\r\n                                    className=\"sublink\" \r\n                                    activeClassName=\"selected\"\r\n                                >\r\n                                    Exporter\r\n                                </NavLink>\r\n                            </div>\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    {\r\n                        !context.isLoading && context.isLoggedIn && context.user.isAdmin &&\r\n                        <NavLink \r\n                            exact\r\n                            to=\"/parameters\"\r\n                            className=\"link\" \r\n                            activeClassName=\"selected\"\r\n                            onClick={this.handleClose}\r\n                        >\r\n                        Paramtres\r\n                        </NavLink>\r\n                    }\r\n\r\n                    {\r\n                        !context.isLoading && context.isLoggedIn && context.user.isAdmin &&\r\n                        <NavLink \r\n                            exact\r\n                            to=\"/users\"\r\n                            className=\"link\" \r\n                            activeClassName=\"selected\"\r\n                            onClick={this.handleClose}\r\n                        >\r\n                        Utilisateurices\r\n                        </NavLink>\r\n                    }\r\n\r\n\r\n                    <div className=\"logout\" onClick={this.handleLogout}>\r\n                        <img src={logout} alt=\"\"/>\r\n                        <p>Dconnexion</p>\r\n                    </div>\r\n                </div>\r\n            }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withUser(withRouter(DashboardNavBar))\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './../../Styles/VisitCardInfo.css';\r\nimport editIcon from './../../Assets/edit-icon.svg';\r\nimport deleteIcon from './../../Assets/trash-icon.svg';\r\n\r\nclass VisitCardInfo extends Component {\r\n    state = {\r\n        isHovering: false\r\n    }\r\n\r\n    handleMouseEnterCard = () => {\r\n        this.setState({isHovering: true})\r\n      }\r\n    \r\n    handleMouseLeaveCard = () => {\r\n        this.setState({isHovering: false})\r\n    }\r\n\r\n    render() {\r\n        const {isHovering} = this.state;\r\n        const {visit, onDelete} = this.props;\r\n\r\n        const date = new Date(visit.date);\r\n        const hour = date.getHours();\r\n        let minutes = date.getMinutes();\r\n        minutes = minutes < 10 ? '0' + minutes : minutes;\r\n    \r\n        return (\r\n            <div \r\n                onMouseEnter={this.handleMouseEnterCard}\r\n                onMouseLeave={this.handleMouseLeaveCard}\r\n                className=\"CardContainer\"\r\n            >\r\n                <div className=\"card-info\">\r\n                    <p>{`${hour}h${minutes}`}</p>\r\n                    <div>{visit.category.name}</div>\r\n                    <div>{visit.contactType.name}</div>\r\n                </div>\r\n                {isHovering &&\r\n                    <aside>\r\n                        <Link to={{\r\n                            pathname:\"/update-visit\",\r\n                            state: {\r\n                                visitId: visit\r\n                            }\r\n                        }}>\r\n                            <img src={editIcon} alt=\"\"/>\r\n                        </Link>\r\n                        <img onClick={() => onDelete(visit._id)} src={deleteIcon} alt=\"trash-can\"/>\r\n                    </aside>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default VisitCardInfo\r\n","import React, { Component } from 'react';\r\nimport apiHandler from './../../apiHandler/apiHandler';\r\nimport CardInfo from '../../Components/Visits/VisitCardInfo';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport './../../Styles/History.css';\r\nimport plusIcon from './../../Assets/plus-icon.svg';\r\n\r\nclass History extends Component {\r\n    state = {\r\n        allVisits: null\r\n    } \r\n\r\n    componentDidMount() {\r\n        apiHandler\r\n        .getVisits()\r\n        .then(res => {\r\n            this.setState({allVisits : res});\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    onDelete = (visitId) => {\r\n        apiHandler\r\n        .deleteVisit(visitId)\r\n        .then(res => {\r\n            const filterDeletedVisit = this.state.allVisits\r\n            .filter(visit => visit._id !== res._id);\r\n            \r\n            this.setState({allVisits : filterDeletedVisit});\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {allVisits} = this.state;\r\n\r\n        return (\r\n            <div id=\"History\">\r\n                <div id=\"header\">\r\n                    <p>dernires visites</p>\r\n                    <Link\r\n                        exact=\"true\"\r\n                        to='/new-visit'\r\n                        className=\"link\"\r\n                    >\r\n                        <button>\r\n                            <img src={plusIcon} alt=\"\"/>\r\n                            <p>Ajouter une visite </p>\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n                {allVisits && allVisits.map(visit =>\r\n                    <CardInfo \r\n                        key={visit._id}\r\n                        visit={visit}\r\n                        onDelete={this.onDelete}\r\n                    />\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default History\r\n","export default __webpack_public_path__ + \"static/media/info-icon.d796eed5.svg\";","import React, { Component } from 'react';\r\nimport infoIcon from './../../Assets/info-icon.svg';\r\nimport {isMobileOnly} from 'react-device-detect';\r\n\r\nexport class CategoryCard extends Component {\r\n    state = {\r\n        isHoveringInfoIcon: false\r\n    } \r\n\r\n    handleMouseEnter = () => {\r\n        this.setState({isHoveringInfoIcon: true});\r\n    } \r\n\r\n    handleMouseLeave = () => {\r\n        this.setState({isHoveringInfoIcon: false});\r\n    } \r\n\r\n    handleTouchInfo = (e) => {\r\n        e.preventDefault();\r\n        this.setState({isHoveringInfoIcon: !this.state.isHoveringInfoIcon});\r\n    }\r\n\r\n    handleTouchEnd = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        const {category, handleSelectItem} = this.props;\r\n        const {isHoveringInfoIcon} = this.state;\r\n\r\n        return (\r\n            <div className=\"cat-cont-card\">\r\n                <div \r\n                    onClick={() => handleSelectItem({id: category._id, name: category.name, requiredComment: category.requiredComment}, \"category\")}\r\n                    className=\"cat-cont\"\r\n                >\r\n\r\n                    {isHoveringInfoIcon && !isMobileOnly &&\r\n                        <div className=\"info-toolbox\">\r\n                            <h3>{category.description}</h3> \r\n                            <div></div>\r\n                        </div>\r\n                    }\r\n\r\n                    <p>{category.name}</p> \r\n                    \r\n                    <img \r\n                        onMouseEnter={this.handleMouseEnter}\r\n                        onMouseLeave={this.handleMouseLeave}\r\n                        style= {{opacity : isHoveringInfoIcon ? \"1\" : \"0.5\"}}\r\n                        onTouchStart={this.handleTouchInfo}\r\n                        onTouchEnd={this.handleTouchEnd}\r\n                        src={infoIcon} alt=\"\"\r\n                    />\r\n                \r\n                </div>\r\n                \r\n                {isMobileOnly && isHoveringInfoIcon &&\r\n                    <div className=\"description-mobile\">\r\n                        <p>{category.description}</p>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CategoryCard\r\n","export default __webpack_public_path__ + \"static/media/purple-plus-icon.e544e5d6.svg\";","export default __webpack_public_path__ + \"static/media/minus-icon.6e71681a.svg\";","export default __webpack_public_path__ + \"static/media/wait-icon.bf1db0d1.svg\";","export default __webpack_public_path__ + \"static/media/check-icon.36bd77f3.svg\";","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\nimport CategoryCard from './CategoryCard';\r\n\r\nimport './../../Styles/CreateVisit.css';\r\nimport plusIcon from './../../Assets/purple-plus-icon.svg';\r\nimport minusIcon from './../../Assets/minus-icon.svg';\r\nimport editIcon from './../../Assets/edit-icon.svg';\r\nimport waitIcon from './../../Assets/wait-icon.svg';\r\nimport checkedIcon from './../../Assets/check-icon.svg';\r\n\r\nexport class ChooseCategory extends Component {\r\n    state = {\r\n        nbOfPerson: 1,\r\n        date: new Date(),\r\n\r\n        category: null,\r\n        contactType: null,\r\n        comment: null,\r\n\r\n        allCategories: null,\r\n        allContactTypes: null,\r\n\r\n        visitToUpdate: null,\r\n        isUpdateVisit: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        apiHandler\r\n            .getCategories()\r\n            .then(res => {\r\n                const activeCategories = res.filter(cat => cat.isActive);\r\n                this.setState({ allCategories: activeCategories })\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n        apiHandler\r\n            .getContactTypes()\r\n            .then(res => {\r\n                const activeContacts = res.filter(cont => cont.isActive);\r\n                this.setState({ allContactTypes: activeContacts });\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n        //if there is a visitId props, it means that I come from update a visit\r\n        //then I need the visit Information and isUpdateVisit\r\n        if (this.props.visitId) {\r\n            this.setState({ visitToUpdate: this.props.visitId, isUpdateVisit: true })\r\n        }\r\n    }\r\n\r\n    handleDecrease = () => {\r\n        if (this.state.nbOfPerson > 1)\r\n            this.setState({ nbOfPerson: this.state.nbOfPerson - 1 });\r\n    }\r\n\r\n    handleIncrease = () => {\r\n        this.setState({ nbOfPerson: this.state.nbOfPerson + 1 });\r\n    }\r\n\r\n    handleSelectItem = (properties, item) => {\r\n        const { id, name, requiredComment } = properties;\r\n        this.setState({ [item]: { id, name, ...requiredComment !== undefined && { requiredComment } } });\r\n    }\r\n\r\n    handleComment = event => {\r\n        this.setState({ comment: event.target.value })\r\n    }\r\n\r\n    //if user change their mind about selecting a category or contact type\r\n    //if user was here to update it resets information \r\n    handleChangeItem = (item) => {\r\n        this.setState({ [item]: null, isUpdateVisit: false });\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const { nbOfPerson, category, contactType, visitToUpdate, comment } = this.state;\r\n\r\n        if (visitToUpdate) {\r\n\r\n            apiHandler\r\n                .updateVisit(visitToUpdate._id, {\r\n                    date: visitToUpdate.date,\r\n                    category: category.id,\r\n                    contactType: contactType.id,\r\n                    ...comment && { comment }\r\n                })\r\n                .then(() => this.props.history.push('/history'))\r\n                .catch(error => console.log(error))\r\n\r\n        } else {\r\n\r\n            for (let i = 0; i < nbOfPerson; i++) {\r\n                apiHandler\r\n                    .createVisit({\r\n                        category: category.id,\r\n                        contactType: contactType.id,\r\n                        ...comment && { comment }\r\n                    })\r\n                    .then(() => {\r\n                        if (i === nbOfPerson - 1) {\r\n                            this.props.history.push('/history')\r\n                        }\r\n                    })\r\n                    .catch(error => console.log(error));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { allCategories, category, allContactTypes, contactType, date, nbOfPerson, visitToUpdate, isUpdateVisit, comment } = this.state\r\n        console.log({ ...visitToUpdate && { toto: visitToUpdate.category } })\r\n\r\n\r\n        const dateFormat = date.toLocaleDateString('fr-FR', { year: 'numeric', month: 'long', day: 'numeric' });\r\n\r\n        return (\r\n            <form\r\n                onSubmit={this.handleSubmit}\r\n                id=\"CreateForm\"\r\n            >\r\n                {/* if visit to update we don't want the user to change nbofperson and/or date */}\r\n                {!visitToUpdate &&\r\n                    <div id=\"first-form\">\r\n                        <div id=\"nb-of-person\">\r\n                            <div className=\"input-header\">\r\n                                <h2>nombre de personnes</h2>\r\n                                {nbOfPerson &&\r\n                                    <img src={checkedIcon} alt=\"\" />\r\n                                }\r\n                            </div>\r\n                            <div className=\"input-content\">\r\n                                <img\r\n                                    onClick={this.handleDecrease}\r\n                                    src={minusIcon} alt=\"\"\r\n                                />\r\n                                <p className=\"validated-input\">\r\n                                    {nbOfPerson} personne{nbOfPerson > 1 ? 's' : ''}\r\n                                </p>\r\n                                <img\r\n                                    onClick={this.handleIncrease}\r\n                                    src={plusIcon} alt=\"\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"date\">\r\n                            <div className=\"input-header\">\r\n                                <h2>date</h2>\r\n                                {date &&\r\n                                    <img src={checkedIcon} alt=\"\" />\r\n                                }\r\n                            </div>\r\n                            <div className=\"input-content\">\r\n                                <p className=\"validated-input\">{dateFormat}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"input-header\">\r\n                    <h2>objet de la demande</h2>\r\n                    {category && \r\n                        <img src={checkedIcon} alt=\"\"/>\r\n                    }\r\n                </div>\r\n                <div className=\"cat-cont-container\">\r\n                    {!isUpdateVisit &&\r\n                        !category &&\r\n                        allCategories &&\r\n                        allCategories.map(category =>\r\n                            <CategoryCard key={category._id} category={category} handleSelectItem={this.handleSelectItem} />\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n                {/* probably an OR guardian for this one, to check on v2 */}\r\n                {category &&\r\n                    <div\r\n                        onClick={() => this.handleChangeItem('category')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{category.name}</p>\r\n                        <img src={editIcon} alt=\"\" />\r\n                    </div>\r\n                }\r\n\r\n                {isUpdateVisit &&\r\n                    <div\r\n                        onClick={() => this.handleChangeItem('category')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{visitToUpdate.category.name}</p>\r\n                        <img src={editIcon} alt=\"\" />\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"input-header\">\r\n                    <h2>mode de contact utilis</h2>\r\n                    {!category &&\r\n                        <img\r\n                            src={waitIcon}\r\n                            alt=\"\"\r\n                        />\r\n                    }\r\n                    {contactType &&\r\n                        category &&\r\n                        <img src={checkedIcon} alt=\"\" />\r\n                    }\r\n                </div>\r\n                <div className=\"cat-cont-container\">\r\n                    {category &&\r\n                        !contactType &&\r\n                        allContactTypes &&\r\n                        allContactTypes.map(contact =>\r\n                            <div className=\"cat-cont-card\">\r\n                                <div\r\n                                    onClick={() => this.handleSelectItem({ id: contact._id, name: contact.name }, \"contactType\")}\r\n                                    key={contact._id}\r\n                                    className=\"cat-cont\"\r\n                                >\r\n                                    <p>{contact.name}</p>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n                {category && contactType &&\r\n                    <div\r\n                        onClick={() => this.handleChangeItem('contactType')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{contactType.name}</p>\r\n                        <img src={editIcon} alt=\"\" />\r\n                    </div>\r\n                }\r\n\r\n                {isUpdateVisit &&\r\n                    <div\r\n                        onClick={() => this.handleChangeItem('contactType')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{visitToUpdate.contactType.name}</p>\r\n                        <img src={editIcon} alt=\"\" />\r\n                    </div>\r\n                }\r\n\r\n\r\n                <div className=\"input-header\">\r\n                    {(\r\n                        (category && category.requiredComment && allContactTypes)\r\n                        ||\r\n                        (visitToUpdate && visitToUpdate.category.requiredComment)\r\n                    ) &&\r\n                        <h2>Commentaire</h2>\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"cat-cont-container\">\r\n                    {(\r\n                        (category && category.requiredComment && allContactTypes)\r\n                        ||\r\n                        (visitToUpdate && visitToUpdate.category.requiredComment)\r\n                    ) &&\r\n                        <textarea\r\n                            name=\"comment\"\r\n                            id=\"comment\"\r\n                            cols=\"30\"\r\n                            rows=\"10\"\r\n                            onChange={this.handleComment}\r\n                            value={comment}\r\n                        />\r\n                    }\r\n                </div>\r\n\r\n\r\n                {category && contactType &&\r\n                    <button>Enregistrer</button>\r\n                }\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ChooseCategory);\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './../../Styles/FormHeader.css';\r\n\r\n\r\nclass FormHeader extends Component {\r\n    handleCancel = () => {\r\n        this.props.history.push('/history');\r\n    } \r\n\r\n    render() {\r\n        return (\r\n            <div className=\"FormHeader\">\r\n                <h1>{this.props.title}</h1>\r\n                <button onClick={this.handleCancel}> <p> Annuler </p> </button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(FormHeader);\r\n","import React, { Component } from 'react';\r\nimport CreateVisitForm from '../../Components/Visits/CreateVisitForm';\r\nimport FormHeader from '../../Components/GlobalElements/FormHeader';\r\n\r\n\r\nclass CreateVisit extends Component {\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <>\r\n                <FormHeader title=\"ajouter une nouvelle visite\"/>\r\n                <CreateVisitForm />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreateVisit\r\n","import React, { Component } from 'react';\r\nimport UpdateVisitForm from './../../Components/Visits/CreateVisitForm';\r\nimport FormHeader from '../../Components/GlobalElements/FormHeader';\r\n\r\nclass UpdateVisit extends Component {\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                <FormHeader title=\"modifier une visite\"/>\r\n                {this.props.location.state.visitId &&\r\n                 <UpdateVisitForm visitId={this.props.location.state.visitId}/>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UpdateVisit\r\n","export default __webpack_public_path__ + \"static/media/archive-icon.3b723ef2.svg\";","export default __webpack_public_path__ + \"static/media/on-off-icon.3d90d127.svg\";","import React, { Component } from \"react\";\r\nimport archiveIcon from \"./../../Assets/archive-icon.svg\";\r\nimport editIcon from \"./../../Assets/edit-icon.svg\";\r\nimport onOffIcone from \"./../../Assets/on-off-icon.svg\";\r\n\r\nimport './../../Styles/CatContCard.css';\r\n\r\nexport class CardItemWidget extends Component {\r\n  state = {\r\n    isHovering: false\r\n  }\r\n\r\n  onOffItem = async () => {\r\n    const { _id, isActive, name, description } = this.props.item;\r\n    const { handleUpdateView } = this.props;\r\n    console.log(_id);\r\n    try {\r\n      await this.props.updateItem(_id, {\r\n        name,\r\n        description,\r\n        isActive: !isActive,\r\n      });\r\n      handleUpdateView();\r\n    } catch (err) {\r\n      console.log(err);\r\n      handleUpdateView();\r\n    }\r\n  };\r\n\r\n  handleMouseEnterCard = () => {\r\n    this.setState({isHovering: true})\r\n  }\r\n\r\n  handleMouseLeaveCard = () => {\r\n    this.setState({isHovering: false})\r\n  }\r\n\r\n  render() {\r\n    const {item, handleOpenUpdate} = this.props;\r\n\r\n    return (\r\n      <div \r\n        onMouseEnter={this.handleMouseEnterCard}\r\n        onMouseLeave={this.handleMouseLeaveCard}\r\n        className=\"CardContainerItem\"\r\n      >\r\n        <div className=\"left-container\">\r\n          <div className=\"status-container\">\r\n            <p>\r\n              {item.isActive ? \"actif\" : \"archiv\"}\r\n            </p>\r\n          </div>\r\n          <p>{item.name}</p>\r\n        </div>\r\n        {this.state.isHovering &&\r\n        item.isActive && (\r\n          <aside>\r\n            <img\r\n              src={editIcon}\r\n              alt=\"edit-icone\"\r\n              onClick={handleOpenUpdate}\r\n            />\r\n            <img\r\n              src={archiveIcon}\r\n              alt=\"archive-icon\"\r\n              onClick={this.onOffItem}\r\n            />\r\n          </aside>\r\n        )}\r\n        {this.state.isHovering &&\r\n        !item.isActive && (\r\n          <aside>\r\n            <img src={onOffIcone} alt=\"archive-icon\" onClick={this.onOffItem} />\r\n          </aside>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CardItemWidget;\r\n","import React, { Component } from \"react\";\r\nimport CardCatCont from \"./CardCatCont\";\r\n\r\nimport \"../../Styles/SettingsCatCont.css\";\r\nimport plusIcon from \"../../Assets/plus-icon.svg\";\r\n\r\nexport class AllItems extends Component {\r\n  state = {\r\n    items: null,\r\n    showCreateForm: false,\r\n    //  when click to add an item : become true and show the form popup by guardian\r\n    showUpdateForm: null,\r\n    //  When click to update an item : become become the full object (and so become truthy)\r\n    //  and the update form apears by guardian. Then one can use the content of the state to fill the form\r\n    //  with actual values\r\n  };\r\n\r\n  async componentDidMount() {\r\n    // Get the total list of items when the component is monted\r\n    try {\r\n      const items = await this.props.getAllItmes();\r\n      this.setState({ items });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  handleUpdateView = async () => {\r\n    // Use to update the list of items when an update has been done\r\n    try {\r\n      const items = await this.props.getAllItmes();\r\n      this.setState({ items });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  handleOpenCreate = () => {\r\n    this.setState({ showUpdateForm: null, showCreateForm: true });\r\n  };\r\n\r\n  handleOpenUpdate = (item) => {\r\n    this.setState({ showCreateForm: false, showUpdateForm: item });\r\n  };\r\n\r\n  handleCloseCreate = () => {\r\n    this.setState({ showCreateForm: false });\r\n  };\r\n\r\n  handleCloseUpdate = () => {\r\n    this.setState({ showUpdateForm: null });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      title,\r\n      buttonName,\r\n      updateItem,\r\n      FormCreateUpdateComponent,\r\n      formCreateAction,\r\n    } = this.props;\r\n    const { items, showCreateForm, showUpdateForm } = this.state;\r\n    \r\n    const titleFormat = title === \"Type de contact\" ? \"un type de contact\" : \"une catgorie\"\r\n\r\n    let activeitems, inactiveitems;\r\n\r\n    if (items) {\r\n      activeitems = items.filter((item) => item.isActive);\r\n      inactiveitems = items.filter((item) => !item.isActive);\r\n    }\r\n\r\n    return (\r\n      <div id=\"item-collection-container\"> \r\n        <div id=\"header-cat-cont\">\r\n          <p>{title}</p>\r\n          <div onClick={this.handleOpenCreate}>\r\n            <img src={plusIcon} alt=\"plus-icon\" />\r\n            <p>{buttonName}</p>\r\n          </div>\r\n        </div>\r\n        {items && (\r\n          <div id=\"items-container\">\r\n            <div className=\"dashboard-cat-cont\">\r\n              {activeitems.map((item) => (\r\n                <CardCatCont\r\n                  item={item}\r\n                  updateItem={updateItem}\r\n                  handleOpenUpdate={() => this.handleOpenUpdate(item)}\r\n                  handleUpdateView={this.handleUpdateView}\r\n                  // To update views after deleting an item for instance\r\n                  key={item._id}\r\n                />\r\n              ))}\r\n            </div>\r\n            <div className=\"dashboard-cat-cont\">\r\n              {inactiveitems.map((item) => (\r\n                <CardCatCont\r\n                  item={item}\r\n                  updateItem={updateItem}\r\n                  handleOpenUpdate={() => this.handleOpenUpdate(item)}\r\n                  handleUpdateView={this.handleUpdateView}\r\n                  key={item._id}\r\n                />\r\n              ))\r\n            }\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {showCreateForm && (\r\n          // appears only the the state is true\r\n          <FormCreateUpdateComponent\r\n            formType={\"Ajouter \"}\r\n            formName={titleFormat}\r\n            formAction={formCreateAction}\r\n            handleUpdateView={this.handleUpdateView}\r\n            closeForm={this.handleCloseCreate}\r\n          />\r\n        )}\r\n\r\n        {showUpdateForm && (\r\n          // appears only the the state is not empty/ here the state is a full item so that one can use\r\n          // its informations to fill the form\r\n          <FormCreateUpdateComponent\r\n            formType={\"Modifier \"}\r\n            formName={titleFormat}\r\n            formAction={(value) =>\r\n              updateItem(this.state.showUpdateForm._id, value)\r\n            }\r\n            handleUpdateView={this.handleUpdateView}\r\n            closeForm={this.handleCloseUpdate}\r\n            values={this.state.showUpdateForm}\r\n            // current value of the item\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AllItems;\r\n","import React, { Component } from \"react\";\r\nimport \"./../../Styles/FormCreateCatCont.css\";\r\n\r\nexport default class FormCreateUpdateCategory extends Component {\r\n    state={\r\n        name: this.props.values ? this.props.values.name: \"\",\r\n        description: this.props.values ? this.props.values.description: \"\",\r\n\r\n        isNameValidated: true,\r\n        isdescriptionValidated : true\r\n    }\r\n\r\n    wrapperRef = React.createRef();\r\n\r\n    handleClickOutside = event => {\r\n      if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\r\n        this.props.closeForm();\r\n      }\r\n    }\r\n  \r\n    componentDidMount() {\r\n      document.addEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      document.removeEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        //  when the user want to change the upfateform without closing the previous one\r\n        if (prevProps.values) {\r\n            const {name: prevName} = prevProps.values\r\n            if (this.props.values.name !== prevName) {\r\n                this.setState({name: this.props.values.name}) ;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit =  async event => {\r\n        event.preventDefault()\r\n\r\n        const {formAction, handleUpdateView, closeForm} = this.props ;\r\n        const {name, description} = this.state ;\r\n\r\n        if (name.length < 3 || description.length < 3) {\r\n            this.setState({isNameValidated: name.length >= 3, isdescriptionValidated: description.length >= 3}) ;\r\n            return ;\r\n        }\r\n\r\n        try {\r\n            await formAction({...this.state, isActive: true}) ;\r\n            handleUpdateView() ;\r\n            closeForm() ;\r\n        } catch(err) {\r\n            console.log(err) ;\r\n            closeForm() ;\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value, isNameValidated: true, isdescriptionValidated: true});\r\n    };\r\n\r\n\r\n  render() {\r\n    const { formType, formName, closeForm } = this.props;\r\n    const {name, description, isNameValidated, isdescriptionValidated} = this.state ;\r\n\r\n    return (\r\n      <div className=\"shadow-pop-up\">\r\n        <div ref={this.wrapperRef} className=\"FormCreateUpdateContact\">\r\n            <div>\r\n                <h1>{formType}{formName}</h1>\r\n                <div className=\"close-pop-up\" onClick={closeForm}>\r\n                Annuler\r\n                </div>\r\n            </div>\r\n          <form onSubmit={this.handleSubmit} className=\"form-update-create\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input\r\n              className={!isNameValidated ?  \"error-input\" : \"\"}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              id=\"name\"\r\n              value={name}\r\n              onChange={this.handleChange}\r\n            />\r\n            {!isNameValidated && \r\n              <div className=\"error-message name-error\">\r\n                <p>Le nom doit contenir au moins 3 caractres</p>\r\n              </div> \r\n            }\r\n\r\n            <label htmlFor=\"description\">Description</label>\r\n            <textarea\r\n              className={!isdescriptionValidated ?  \"error-input\" : \"\"}\r\n              name=\"description\"\r\n              id=\"description\"\r\n              value={description}\r\n              onChange={this.handleChange}\r\n            />\r\n            {!isdescriptionValidated && \r\n              <div className=\"error-message description-error\">\r\n                <p>La description doit contenir au moins 3 caractres</p>\r\n              </div>\r\n            }\r\n            <button>{formType}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './../../Styles/FormCreateCatCont.css';\r\n\r\nexport default class FormCreateUpdateContact extends Component {\r\n\r\n    state={\r\n        name: this.props.values ? this.props.values.name: \"\",\r\n        //  if update type, this.props.values is given and the initial values of the item are given\r\n        isNameValidated: true \r\n    }\r\n\r\n    wrapperRef = React.createRef();\r\n\r\n    handleClickOutside = event => {\r\n      if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\r\n        this.props.closeForm();\r\n      }\r\n    }\r\n  \r\n    componentDidMount() {\r\n      document.addEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      document.removeEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        //  when the user want to change the updateform without closing the previous one\r\n        if (prevProps.values) {\r\n            // the fact that the props contains values property indicates the form is used for update\r\n            const {name: prevName} = prevProps.values ;\r\n            if (this.props.values.name !== prevName) {\r\n                // update only if change or name\r\n                this.setState({name: this.props.values.name}) ;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = event => {\r\n        this.setState({name: event.target.value, isNameValidated:true})\r\n    }\r\n\r\n    handleSubmit =  async event => {\r\n        event.preventDefault()\r\n\r\n        const {formAction, handleUpdateView, closeForm} = this.props ;\r\n        const {name} = this.state ;\r\n\r\n        if (name.length < 3) {\r\n            this.setState({isNameValidated: false}) ;\r\n            return ;\r\n        }\r\n\r\n        try {\r\n            await formAction({name, isActive: true}) \r\n            handleUpdateView() ;\r\n            closeForm() ;\r\n        } catch(err) {\r\n            console.log(err) ;\r\n            closeForm() ;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const { formType, formName,closeForm } = this.props ;\r\n        const { name, isNameValidated}  = this.state ;\r\n        return (\r\n            <div className=\"shadow-pop-up\">\r\n                <div ref={this.wrapperRef} className=\"FormCreateUpdateContact\">\r\n                    <div>\r\n                        <h1>{formType}{formName}</h1>\r\n                        <div className=\"close-pop-up\" onClick={closeForm}>Annuler</div>\r\n                    </div>\r\n                    <form className=\"form-update-create\" onSubmit={this.handleSubmit}>\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input \r\n                            className={!isNameValidated ?  \"error-input\" : \"\"}\r\n                            type=\"text\" \r\n                            name=\"name\" \r\n                            id=\"name\"\r\n                            value={name}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        {!isNameValidated && \r\n                            <div className=\"error-message name-error-contact\">\r\n                            <p>Le nom doit contenir au moins 3 caractres</p>\r\n                            </div> \r\n                        }\r\n                    <button>{formType}</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport apiHandler from \"./../../apiHandler/apiHandler\";\r\n\r\nimport AllItems from \"./../../Components/CategoriesContacts/AllItems\";\r\nimport FormCreateUpdateCategory from \"./../../Components/CategoriesContacts/FormCreateUpdateCategory\";\r\nimport FormCreateUpdateContact from \"./../../Components/CategoriesContacts/FormCreateUpdateContact\";\r\n\r\n// Render a the catgory and contact management\r\n// The wiews contain two parts :\r\n//  - The display of all categories\r\n//  - the display of all contact type\r\n// those ewo parts arre render with the same component AllItems, use with diffeent props\r\n\r\nfunction SettingsCatCont() {\r\n  return (\r\n    <>\r\n      {/* Category lists */}\r\n      <AllItems\r\n        title={\"Catgories\"}\r\n        buttonName={\"Ajouter une catgorie\"}\r\n        getAllItmes={apiHandler.getCategories}\r\n        //  CRUD part\r\n        //  the list contains there own crud form used to update or crete a new item.\r\n        //  The form is different according the the item type, but is is the same for update and create.\r\n        //  So, we giva as props the form action for both case : here updateCatgery for the update part\r\n        //  and createCategort for the createPart. The user can't delete coompletely an item : it's only\r\n        //  a logic delete (isActive become false), so the delete part is managed by an update\r\n        FormCreateUpdateComponent={FormCreateUpdateCategory}\r\n        updateItem={apiHandler.updateCategory}\r\n        formCreateAction={apiHandler.createCategory}\r\n      />\r\n\r\n      {/* Contact lists */}\r\n      <AllItems\r\n        title={\"Type de contact\"}\r\n        buttonName={\"Ajouter un type de contact\"}\r\n        getAllItmes={apiHandler.getContactTypes}\r\n        FormCreateUpdateComponent={FormCreateUpdateContact}\r\n        updateItem={apiHandler.updateContactType}\r\n        formCreateAction={apiHandler.createContactType}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SettingsCatCont;\r\n","import React, { Component } from 'react';\r\nimport Calendar from 'react-calendar';\r\n\r\nexport class DataVizHeader extends Component {\r\n\r\n    render() {\r\n        const {calendarClicked, setStartDate, openCalendar, date, selectDayClicked, openFilterDay, weekDays, leaveSelectDay, title} = this.props;\r\n        \r\n        return (\r\n            <div className=\"Graph-header\">\r\n                <h2>{title}</h2>\r\n                <div className= \"filter-container\">\r\n                    {this.props.isCheckboxes &&\r\n                        <div className=\"select-day-container\">\r\n                            <p \r\n                            className={selectDayClicked ? \"selected-filter\" : \"\"}\r\n                            onClick={openFilterDay}>\r\n                                Choisir jours\r\n                            </p>\r\n                            {selectDayClicked &&\r\n                                <div \r\n                                    onMouseLeave={leaveSelectDay}\r\n                                    className=\"select-day-drop-down\">\r\n                                    <div>\r\n                                        <label htmlFor=\"Lundi\">Lundi</label>\r\n                                        <input type=\"checkbox\" name=\"Lundi\" id=\"Lundi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Lundi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Mardi\">Mardi</label>\r\n                                        <input type=\"checkbox\" name=\"Mardi\" id=\"Mardi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Mardi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Mercredi\">Mercredi</label>\r\n                                        <input type=\"checkbox\" name=\"Mercredi\" id=\"Mercredi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Mercredi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Jeudi\">Jeudi</label>\r\n                                        <input type=\"checkbox\" name=\"Jeudi\" id=\"Jeudi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Jeudi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Vendredi\">Vendredi</label>\r\n                                        <input type=\"checkbox\" name=\"Vendredi\" id=\"Vendredi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Vendredi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Samedi\">Samedi</label>\r\n                                        <input type=\"checkbox\" name=\"Samedi\" id=\"Samedi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Samedi\")}/>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    }\r\n                    <p \r\n                        className={calendarClicked ? \"selected-filter\" : \"\"}\r\n                        onClick={openCalendar}>Choisir dates</p>\r\n                    {calendarClicked &&\r\n                        <div onMouseLeave={leaveSelectDay}>\r\n                            <Calendar\r\n                                onChange={setStartDate}\r\n                                selectRange={true}\r\n                                value={date}\r\n                                className=\"small-calendar\"\r\n                            />\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DataVizHeader\r\n","import React, { Component, createRef } from 'react';\r\nimport { PieChart, Pie, Tooltip, Cell, ResponsiveContainer, Legend } from \"recharts\";\r\nimport { exportComponentAsPNG } from 'react-component-export-image';\r\n\r\nimport './../../Styles/Calendar.css';\r\nimport './../../Styles/DataViz.css';\r\n\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\n\r\nimport Header from './../../Components/DataVizHeader';\r\n\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, name }) => {\r\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n\tconst x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n\tconst y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n\treturn (\r\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n\t\t\t{`${(percent * 100).toFixed(0)}%`}\r\n\t\t</text>\r\n\t);\r\n};\r\n\r\n\r\nexport class CategoriesDistribution extends Component {\r\n\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tdate: [new Date(), new Date()],\r\n\t\tcalendarClicked: false,\r\n\t\tplotLegend: false\r\n\t}\r\n\r\n\tchartRef = createRef();\r\n\r\n\tcolors = [\"#ffb0b0\", \"#fac696\", \"#f7e68f\", \"#a7f2a5\", \"#96f2ef\", \"#b5c8ff\", \"#F5C7FF\", \"#C4C4C4\"];\r\n\r\n\tsetStartDate = date => {\r\n\t\tthis.setState({ date },\r\n\t\t\t() => apiHandler.repartitionByCategory({ dates: date })\r\n\t\t\t\t.then(res => this.setState({ data: res }))\r\n\t\t\t\t.catch(err => console.log(err))\r\n\t\t);\r\n\r\n\t\tthis.setState({ calendarClicked: false });\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst dateBegin = this.state.date[0].toISOString().substring(0, 10) + \" 00:00:00\";\r\n\t\tconst dateEnd = this.state.date[1].toISOString().substring(0, 10) + \" 23:59:59\";\r\n\t\tapiHandler.repartitionByCategory({ dates: [dateBegin, dateEnd] })\r\n\t\t\t.then(res => this.setState({ data: res }))\r\n\t\t\t.catch(err => console.log(err))\r\n\t};\r\n\r\n\topenCalendar = () => {\r\n\t\tthis.setState({ calendarClicked: !this.state.calendarClicked });\r\n\t};\r\n\r\n\tleaveSelectDay = () => {\r\n\t\tthis.setState({ calendarClicked: false });\r\n\t}\r\n\r\n\texportChart = () => {\r\n\t\tthis.setState({ plotLegend: true }, () => {\r\n\t\t\texportComponentAsPNG(this.chartRef);\r\n\t\t\tthis.setState({ plotLegend: false })\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { date, data, calendarClicked, plotLegend } = this.state;\r\n\t\tconst dateBegin = date[0].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n\t\tconst dateEnd = date[1].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"main-container\">\r\n\t\t\t\t<Header\r\n\t\t\t\t\tsetStartDate={this.setStartDate}\r\n\t\t\t\t\tcalendarClicked={calendarClicked}\r\n\t\t\t\t\topenCalendar={this.openCalendar}\r\n\t\t\t\t\tleaveSelectDay={this.leaveSelectDay}\r\n\t\t\t\t\tdate={date}\r\n\t\t\t\t\ttitle=\"rpartitions des semaines\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"background-container\" ref={this.chartRef}>\r\n\t\t\t\t\t<div className=\"Graph-container\">\r\n\t\t\t\t\t\t<div className=\"dates-data-header\">\r\n\t\t\t\t\t\t\t<div className=\"date-range-container\">\r\n\t\t\t\t\t\t\t\t<p>du {dateBegin} au {dateEnd}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"download-dataviz\" onClick={this.exportChart} style={{ display: plotLegend ? 'none' : 'flex' }}>\r\n\t\t\t\t\t\t\t\t<p>Exporter en PNG</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t\t&&\r\n\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height=\"100%\" >\r\n\t\t\t\t\t\t\t\t<PieChart >\r\n\t\t\t\t\t\t\t\t\t<Legend verticalAlign=\"top\" align=\"center\" height=\"30px\" />\r\n\t\t\t\t\t\t\t\t\t<Pie\r\n\t\t\t\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\t\t\t\tstartAngle={180}\r\n\t\t\t\t\t\t\t\t\t\tendAngle={0}\r\n\t\t\t\t\t\t\t\t\t\tdataKey=\"value\"\r\n\t\t\t\t\t\t\t\t\t\touterRadius=\"100%\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={plotLegend && renderCustomizedLabel}\r\n\t\t\t\t\t\t\t\t\t\tlabelLine={false}\r\n\t\t\t\t\t\t\t\t\t\theight={20}\r\n\t\t\t\t\t\t\t\t\t\tlegendType={plotLegend ? \"square\" : \"none\"}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{data.map((entry, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Cell key={`cell-${index}`} fill={this.colors[index % this.colors.length]} />\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</Pie>\r\n\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\tcontentStyle={{ borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border: \"none\", fontFamily: \"Asap\", fontSize: \"12px\", transform: \"translate(-60%, -100%)\" }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</PieChart>\r\n\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t<div className=\"bottom-container\">\r\n\t\t\t\t\t\t\t{data &&\r\n\t\t\t\t\t\t\t\t<div className=\"total\">\r\n\t\t\t\t\t\t\t\t\t<h2>total des visites</h2>\r\n\t\t\t\t\t\t\t\t\t<p>{data.reduce((acc, curr) => acc + curr.value, 0)}</p>\r\n\t\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n};\r\n\r\nexport default CategoriesDistribution\r\n","import React, { Component, PureComponent, createRef } from \"react\";\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer } from \"recharts\";\r\nimport { exportComponentAsPNG } from 'react-component-export-image';\r\n\r\nimport apiHandler from \"../../apiHandler/apiHandler\";\r\nimport Header from \"../../Components/DataVizHeader\";\r\n\r\nconst CustomizedDot = (props) => {\r\n\tconst { cx, cy } = props;\r\n\treturn (\r\n\t\t<svg x={cx - 20} y={cy - 20} width={80} height={80} fill=\"red\" viewBox=\"0 0 1024 1024\">\r\n\t\t\t<mask id=\"a\" width=\"503\" height=\"457\" x=\"17\" y=\"44\" maskUnits=\"userSpaceOnUse\">\r\n\t\t\t\t<path fill=\"#FFFFFF\" d=\"M60.832 87.832c58.443-58.443 153.197-58.443 211.64 0l196.645 196.645c6.248 6.248 6.248 16.379 0 22.627L280.104 496.117c-6.248 6.248-16.379 6.248-22.627 0L60.832 299.472c-58.443-58.443-58.443-153.197 0-211.64z\" />\r\n\t\t\t\t<path fill=\"#FFFFFF\" d=\"M475.758 87.832c-58.443-58.443-153.197-58.443-211.64 0L67.474 284.477c-6.249 6.248-6.249 16.379 0 22.627l189.012 189.013c6.249 6.248 16.379 6.248 22.628 0l196.644-196.645c58.443-58.443 58.443-153.197 0-211.64z\" />\r\n\t\t\t</mask>\r\n\t\t\t<g mask=\"url(#a)\">\r\n\t\t\t\t<path fill=\"#FFB0B0\" d=\"M17 44h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#FAC696\" d=\"M17 110.143h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#F7E68F\" d=\"M17 176.286h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#A7F2A5\" d=\"M17 242.429h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#96F2EF\" d=\"M17 308.571h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#B5C8FF\" d=\"M17 374.714h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#F5C7FF\" d=\"M17 440.857h503V507H17z\" />\r\n\t\t\t</g>\r\n\t\t</svg>\r\n\t);\r\n};\r\n\r\nclass CustomizedLabel extends PureComponent {\r\n\trender() {\r\n\t\tconst { x, y, stroke, value } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<text x={x} y={y} dy={-20} fill={stroke} fontSize={10} textAnchor=\"middle\">\r\n\t\t\t\t{value}\r\n\t\t\t</text>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport class HotDay extends Component {\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tdate: [new Date(new Date() - 31 * 24 * 3600 * 1000), new Date()],\r\n\t\t//  default view : 1 month of data\r\n\t\tcalendarClicked: false,\r\n\r\n\t\tplotLegend: false\r\n\t};\r\n\r\n\tchartRef = createRef();\r\n\r\n\tsetStartDate = (date) => {\r\n\t\tthis.setState({ date }, () =>\r\n\t\t\tapiHandler\r\n\t\t\t\t.repartitionByWeeks({ dates: date })\r\n\t\t\t\t.then((res) =>\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdata: res.agregatedData,\r\n\t\t\t\t\t\tdate: res.updatedDates.map((date) => new Date(date)),\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t\t.catch((err) => console.log(err))\r\n\t\t);\r\n\t\tthis.setState({ calendarClicked: false });\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { date } = this.state;\r\n\r\n\t\tconst dateBegin = new Date(\r\n\t\t\tDate.UTC(date[0].getFullYear(), date[0].getMonth(), date[0].getDate())\r\n\t\t);\r\n\t\tconst dateEnd = new Date(\r\n\t\t\tDate.UTC(date[1].getFullYear(), date[1].getMonth(), date[1].getDate(), 23, 59, 59)\r\n\t\t);\r\n\r\n\t\tapiHandler\r\n\t\t\t.repartitionByWeeks({ dates: [dateBegin, dateEnd] })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: res.agregatedData,\r\n\t\t\t\t\tdate: res.updatedDates.map((date) => new Date(date)),\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}\r\n\r\n\topenCalendar = () => {\r\n\t\tthis.setState({ calendarClicked: !this.state.calendarClicked });\r\n\t};\r\n\r\n\tleaveSelectDay = () => {\r\n\t\tthis.setState({ calendarClicked: false });\r\n\t}\r\n\r\n\texportChart = () => {\r\n\t\tthis.setState({ plotLegend: true }, () => {\r\n\t\t\texportComponentAsPNG(this.chartRef);\r\n\t\t\tthis.setState({ plotLegend: false })\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { date, data, calendarClicked, plotLegend } = this.state;\r\n\t\tconst dateBegin = date[0].toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"numeric\", day: \"numeric\" });\r\n\t\tconst dateEnd = date[1].toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"numeric\", day: \"numeric\" });\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"main-container\" >\r\n\t\t\t\t<Header\r\n\t\t\t\t\tsetStartDate={this.setStartDate}\r\n\t\t\t\t\tcalendarClicked={calendarClicked}\r\n\t\t\t\t\topenCalendar={this.openCalendar}\r\n\t\t\t\t\tleaveSelectDay={this.leaveSelectDay}\r\n\t\t\t\t\tdate={date}\r\n\t\t\t\t\ttitle=\"jours d'affluence\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"background-hot-day\" ref={this.chartRef}>\r\n\r\n\t\t\t\t\t<div className=\"dates-data-header hot-day-dd-header\">\r\n\t\t\t\t\t\t\t<div className=\"date-range-container\">\r\n\t\t\t\t\t\t\t\t<p>du {dateBegin} au {dateEnd}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"download-dataviz\" onClick={this.exportChart} style={{ display: plotLegend ? 'none' : 'flex' }}>\r\n\t\t\t\t\t\t\t\t<p>Exporter en PNG</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"Graph-hot-day\">\r\n\t\t\t\t\t\t{this.state.data && (\r\n\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height=\"70%\" style={{ paddingTop: \"50px\" }}>\r\n\t\t\t\t\t\t\t\t<LineChart\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\theight=\"100%\"\r\n\t\t\t\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t\t\t\t\tmargin={{ top: 5, right: 30, left: 20, bottom: 5 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{/* <CartesianGrid strokeDasharray=\"3 3\" /> */}\r\n\t\t\t\t\t\t\t\t\t<XAxis\r\n\t\t\t\t\t\t\t\t\t\tdataKey=\"name\"\r\n\t\t\t\t\t\t\t\t\t\ttick={{ fill: \"#706C7A\", fontSize: 14 }}\r\n\t\t\t\t\t\t\t\t\t\ttickMargin={15}\r\n\t\t\t\t\t\t\t\t\t\tstroke=\"#706C7A\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<YAxis axisLine={false} tick={false} padding={{ top: 20 }} />\r\n\t\t\t\t\t\t\t\t\t<Tooltip cursor={false} contentStyle={{ borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border: \"none\", fontFamily: \"Asap\", fontSize: \"12px\", transform: \"translate(-60%, -100%)\" }} />\r\n\t\t\t\t\t\t\t\t\t{/* <Legend /> */}\r\n\t\t\t\t\t\t\t\t\t<Line\r\n\t\t\t\t\t\t\t\t\t\ttype=\"monotone\"\r\n\t\t\t\t\t\t\t\t\t\tdataKey=\"value\"\r\n\t\t\t\t\t\t\t\t\t\tstroke=\"#B5C8FF\"\r\n\t\t\t\t\t\t\t\t\t\tdot={<CustomizedDot />}\r\n\t\t\t\t\t\t\t\t\t\tname=\"Visites\"\r\n\t\t\t\t\t\t\t\t\t\tactiveDot={false}\r\n\t\t\t\t\t\t\t\t\t\tlabel={plotLegend && <CustomizedLabel />}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{/* <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" /> */}\r\n\t\t\t\t\t\t\t\t</LineChart>\r\n\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{data && (\r\n\t\t\t\t\t\t<div className=\"total-hot-day\">\r\n\t\t\t\t\t\t\t<h2>moyenne des visites en semaine</h2>\r\n\t\t\t\t\t\t\t<p>{data.reduce((acc, curr) => acc + curr.value, 0)}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default HotDay;\r\n","import React, { Component, createRef } from 'react';\r\nimport { BarChart, Tooltip, ResponsiveContainer, XAxis, Bar, Cell } from \"recharts\";\r\nimport { exportComponentAsPNG } from 'react-component-export-image';\r\n\r\n\r\nimport './../../Styles/Calendar.css';\r\nimport './../../Styles/DataViz.css';\r\n\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\n\r\nimport Header from './../../Components/DataVizHeader';\r\n\r\n\r\nexport class CategoriesDistribution extends Component {\r\n\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tdate: [new Date(new Date() - 31 * 24 * 3600 * 1000), new Date()],\r\n\t\t//  default view : 1 month of data\r\n\t\tweekDays: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\r\n\t\tcalendarClicked: false,\r\n\t\tselectDayClicked: false,\r\n\t\tisCheckboxes: true,\r\n\r\n\t\tplotLegend: false\r\n\t}\r\n\r\n\tcolors = [\"#ffb0b0\", \"#fac696\", \"#f7e68f\", \"#a7f2a5\", \"#96f2ef\", \"#b5c8ff\", \"#F5C7FF\", \"#C4C4C4\"];\r\n\r\n\tchartRef = createRef();\r\n\r\n\tsetStartDate = date => {\r\n\t\tconst { weekDays } = this.state;\r\n\r\n\t\tthis.setState({ date },\r\n\t\t\t() => apiHandler.hotTime({ dates: date, weekDays })\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.setState({ data: res });\r\n\t\t\t\t\tthis.setState({ calendarClicked: false });\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.log(err))\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { date } = this.state;\r\n\r\n\t\tconst dateBegin = new Date(Date.UTC(date[0].getFullYear(), date[0].getMonth(), date[0].getDate()));\r\n\t\tconst dateEnd = new Date(Date.UTC(date[1].getFullYear(), date[1].getMonth(), date[1].getDate(), 23, 59, 59));\r\n\r\n\t\tapiHandler.hotTime({ dates: [dateBegin, dateEnd] })\r\n\t\t\t.then(res => this.setState({ data: res }))\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\r\n\thandleToggleDay = event => {\r\n\t\tconst { date } = this.state;\r\n\r\n\t\tconst dateBegin = new Date(Date.UTC(date[0].getFullYear(), date[0].getMonth(), date[0].getDate()));\r\n\t\tconst dateEnd = new Date(Date.UTC(date[1].getFullYear(), date[1].getMonth(), date[1].getDate(), 23, 59, 59));\r\n\r\n\t\tconst { weekDays } = this.state;\r\n\t\tconst day = event.target.name;\r\n\t\tconst index = weekDays.indexOf(day);\r\n\r\n\t\tif (index > 0) {\r\n\t\t\tweekDays.splice(index, 1);\r\n\t\t} else {\r\n\t\t\tweekDays.push(day);\r\n\t\t}\r\n\r\n\t\tapiHandler.hotTime({ dates: [dateBegin, dateEnd], weekDays })\r\n\t\t\t.then(res => this.setState({ data: res }))\r\n\t\t\t.catch(err => console.log(err))\r\n\r\n\t}\r\n\r\n\topenCalendar = () => {\r\n\t\tthis.setState({ calendarClicked: !this.state.calendarClicked });\r\n\t\tthis.setState({ selectDayClicked: false });\r\n\t};\r\n\r\n\topenFilterDay = () => {\r\n\t\tthis.setState({ selectDayClicked: !this.state.selectDayClicked });\r\n\t\tthis.setState({ calendarClicked: false });\r\n\t}\r\n\r\n\tleaveSelectDay = () => {\r\n\t\tthis.setState({ selectDayClicked: false, calendarClicked: false });\r\n\t}\r\n\r\n\texportChart = () => {\r\n\t\tthis.setState({ plotLegend: true }, () => {\r\n\t\t\texportComponentAsPNG(this.chartRef);\r\n\t\t\tthis.setState({ plotLegend: false })\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { date, calendarClicked, isCheckboxes, selectDayClicked, weekDays, data, plotLegend } = this.state;\r\n\t\tconst dateBegin = date[0].toLocaleDateString(\"fr-FR\", {\r\n\t\t\tyear: \"numeric\",\r\n\t\t\tmonth: \"numeric\",\r\n\t\t\tday: \"numeric\",\r\n\t\t});\r\n\t\tconst dateEnd = date[1].toLocaleDateString(\"fr-FR\", {\r\n\t\t\tyear: \"numeric\",\r\n\t\t\tmonth: \"numeric\",\r\n\t\t\tday: \"numeric\",\r\n\t\t});\r\n\r\n\t\tlet name, visit;\r\n\t\tif (this.state.value) {\r\n\t\t\tname = this.state.status.name;\r\n\t\t\tvisit = this.state.status.visit;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"main-container\" >\r\n\t\t\t\t<Header\r\n\t\t\t\t\tsetStartDate={this.setStartDate}\r\n\t\t\t\t\tdate={date}\r\n\t\t\t\t\thandleToggleDay={this.handleToggleDay}\r\n\t\t\t\t\tweekDays={weekDays}\r\n\t\t\t\t\ttitle=\"heures d'affluence\"\r\n\r\n\t\t\t\t\t//Props passed for UI details\r\n\t\t\t\t\tcalendarClicked={calendarClicked}\r\n\t\t\t\t\tselectDayClicked={selectDayClicked}\r\n\t\t\t\t\topenCalendar={this.openCalendar}\r\n\t\t\t\t\topenFilterDay={this.openFilterDay}\r\n\t\t\t\t\tisCheckboxes={isCheckboxes}\r\n\t\t\t\t\tleaveSelectDay={this.leaveSelectDay}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"background-container-hot-time\" ref={this.chartRef}>\r\n\r\n\t\t\t\t\t<div className=\"Graph-container\">\r\n\t\t\t\t\t\t<div className=\"dates-data-header hot-day-dd-header\">\r\n\t\t\t\t\t\t\t<div className=\"date-range-container\">\r\n\t\t\t\t\t\t\t\t<p>du {dateBegin} au {dateEnd}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"download-dataviz\" onClick={this.exportChart} style={{ display: plotLegend ? 'none' : 'flex' }}>\r\n\t\t\t\t\t\t\t\t<p>Exporter en PNG</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.data\r\n\t\t\t\t\t\t\t&&\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height=\"50%\">\r\n\t\t\t\t\t\t\t\t\t<BarChart\r\n\t\t\t\t\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<XAxis\r\n\t\t\t\t\t\t\t\t\t\t\tdataKey=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\ttick={{ fill: \"#706C7A\", fontSize: 14 }}\r\n\t\t\t\t\t\t\t\t\t\t\ttickMargin={15}\r\n\t\t\t\t\t\t\t\t\t\t\t// change tick color\r\n\t\t\t\t\t\t\t\t\t\t\ttickLine={false}\r\n\t\t\t\t\t\t\t\t\t\t\t// don't plot the tick\r\n\t\t\t\t\t\t\t\t\t\t\taxisLine={false}\r\n\t\t\t\t\t\t\t\t\t\t// don't plot the axis\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\tcursor={false}\r\n\t\t\t\t\t\t\t\t\t\t\tcontentStyle={{ borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border: \"none\", fontFamily: \"Asap\", fontSize: \"12px\" }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Bar\r\n\t\t\t\t\t\t\t\t\t\t\tdataKey=\"value\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"#000000\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"Visites\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={plotLegend && { position: 'top' , fill: \"black\"}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{data.map((entry, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Cell key={`cell-${index}`} fill={this.colors[index % this.colors.length]} />\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Bar>\r\n\t\t\t\t\t\t\t\t\t</BarChart>\r\n\t\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default CategoriesDistribution\r\n","import React, { Component } from 'react' ;\r\nimport { CSVLink } from \"react-csv\";\r\n\r\nimport './../../Styles/Calendar.css';\r\nimport './../../Styles/DataViz.css';\r\n\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\n\r\nimport Header from './../../Components/DataVizHeader';\r\n\r\n\r\nconst flatData = (datas) => {\r\n    return(datas.map(data => {return {    \r\n        categoryName: data.category.name,\r\n        categoryIsActive: data.category.isActive ? \"actif\" : \"archiv\",\r\n        contactTypeName: data.contactType.name,\r\n        contactTypeIsActive: data.contactType.isActive ? \"actif\" : \"archiv\",\r\n        date: data.date\r\n    }}\r\n    )\r\n)}\r\n\r\nexport class CategoriesDistribution extends Component {\r\n\r\n    state = {\r\n        data: null ,\r\n        date: [new Date(), new Date()],\r\n        calendarClicked: false,\r\n        isLoading: true\r\n    }\r\n\r\n    setStartDate = date => {\r\n\r\n        this.setState({date, isLoading:true},\r\n            () => apiHandler.getVisitsDateRange({dates: date})\r\n            .then(res =>  this.setState({data: flatData(res), isLoading:false}))\r\n            .catch(err => console.log(err))\r\n            ) ;\r\n            \r\n        this.setState({calendarClicked: false});\r\n    };\r\n\r\n    leaveSelectDay = () => {\r\n        this.setState({selectDayClicked: false, calendarClicked: false});\r\n    }\r\n\r\n    componentDidMount() {\r\n        const dateBegin = this.state.date[0].toISOString().substring(0,10) + \" 00:00:00\" ;\r\n        const dateEnd = this.state.date[1].toISOString().substring(0,10) + \" 23:59:59\" ;\r\n        apiHandler.getVisitsDateRange({dates: [dateBegin, dateEnd]})\r\n            .then(res =>   this.setState({data: flatData(res), isLoading:false}))\r\n            .catch(err => console.log(err))\r\n        \r\n    };\r\n\r\n    openCalendar = () => {\r\n        this.setState({calendarClicked: !this.state.calendarClicked});\r\n    };\r\n \r\n    render() {\r\n        const {date, data, calendarClicked, isLoading} = this.state ;\r\n        const dateBegin = date[0].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n        const dateEnd = date[1].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n\r\n        return (\r\n            <div className=\"main-container\">\r\n                <Header \r\n                    setStartDate={this.setStartDate} \r\n                    calendarClicked={calendarClicked}\r\n                    openCalendar={this.openCalendar}\r\n                    date={date}\r\n                    title=\"export\"\r\n                    leaveSelectDay={this.leaveSelectDay}\r\n                />\r\n                \r\n                <div className=\"export\">\r\n                        <h1>Rcuprer la liste des visites du</h1>\r\n                        <p>{dateBegin} au {dateEnd}</p>\r\n                        {data \r\n                            &&\r\n                            <>\r\n                                {!isLoading &&\r\n                                    <CSVLink data={this.state.data} className=\"download-data\" separator={\";\"}>Tlcharger les donnes</CSVLink>\r\n                                }\r\n                                {isLoading &&\r\n                                    <div className=\"download-data\">\r\n                                        <p>Chargement des donnes</p>\r\n                                    </div>\r\n                                }\r\n                            </>\r\n                        }\r\n                        </div>\r\n                </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default CategoriesDistribution\r\n","import React, { Component } from \"react\";\r\nimport \"../Styles/NotFound.css\";\r\n\r\nexport class NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div id=\"not-found\">\r\n        <h1>404 bitch !</h1>\r\n        <img\r\n          src=\"https://media.tenor.co/images/68a83f039448147d2d56c179e43bb474/raw\"\r\n          alt=\"RuPaul GIF\"\r\n        />\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import \"./App.css\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ProtectedRoute from \"./Components/ProtectedRoute\";\r\n\r\nimport SettingsUsers from \"./Views/Settings/SettingsUsers\";\r\nimport HeaderFlag from './Components/GlobalElements/HeaderFlag';\r\n\r\nimport Home from './Views/Home';\r\n\r\nimport NavDashboard from './Components/GlobalElements/DashboardNavBar';\r\n\r\nimport History from './Views/Visits/History';\r\nimport CreateVisit from './Views/Visits/CreateVisit';\r\nimport UpdateVisit from './Views/Visits/UpdateVisit';\r\nimport SettingsCatCont from './Views/Settings/SettingsCatCont';\r\nimport CategoriesDistribution from './Views/Insights/CategoriesDistribution';\r\nimport HotDay from './Views/Insights/HotDay';\r\nimport HotTime from './Views/Insights/HotTime';\r\nimport RetrieveData from './Views/Insights/RetrieveData'\r\n\r\nimport NotFound from './Views/NotFound';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n\r\n      <HeaderFlag/>\r\n\r\n      <div id=\"left-side\">\r\n        <NavDashboard/>\r\n      </div>\r\n\r\n      <div id=\"right-side\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          {/*  protger */}\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/categories-repartition\" component={CategoriesDistribution}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/jour-affluence\" component={HotDay}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/heure-affluence\" component={HotTime}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/exporter\" component={RetrieveData}/>\r\n\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/new-visit\" component={CreateVisit}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/update-visit\" component={UpdateVisit}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/history\" component={History}/>\r\n          \r\n          <ProtectedRoute protectionLevel=\"admin\" exact path=\"/parameters\" component={SettingsCatCont}/>\r\n\r\n          <ProtectedRoute protectionLevel=\"admin\" exact path=\"/users\" component={SettingsUsers} />\r\n\r\n          <ProtectedRoute protectionLevel=\"volunteer\" path=\"*\" component={NotFound} />\r\n        </Switch>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React, { Component } from \"react\";\r\nimport apiHandler from \"./../../apiHandler/apiHandler\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nclass UserProvider extends Component {\r\n  state = {\r\n    user: null,\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .isLoggedIn()\r\n      .then((data) => {\r\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\r\n      });\r\n  }\r\n\r\n  setUser = (user) => {\r\n    this.setState({ user, isLoggedIn: true });\r\n  };\r\n\r\n  removeUser = () => {\r\n    this.setState({ user: null, isLoggedIn: false });\r\n  };\r\n\r\n  render() {\r\n    //  Setup all the values/functions you want to expose to anybody reading\r\n    // from the AuthContext.\r\n    const authValues = {\r\n      user: this.state.user,\r\n      setUser: this.setUser,\r\n      removeUser: this.removeUser,\r\n      isLoggedIn: this.state.isLoggedIn,\r\n      isLoading: this.state.isLoading,\r\n    };\r\n\r\n    return (\r\n      <UserContext.Provider value={authValues}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProvider;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport UserProvider from \"./Components/Auth/UserProvider\";\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <UserProvider>\r\n        <App />\r\n      </UserProvider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}