{"version":3,"sources":["Components/Auth/UserContext.jsx","Components/Auth/withUser.jsx","Components/ProtectedRoute.jsx","Assets/trash-icon.svg","Assets/edit-icon.svg","apiHandler/apiHandler.js","Components/UsersSettings/CardAdminsVolunteer.jsx","Components/UsersSettings/Admins.jsx","Components/UsersSettings/Volunteer.jsx","Components/UsersSettings/FormCreateUpdateAdmin.jsx","Assets/plus-icon.svg","Views/Settings/SettingsUsers.jsx","Components/GlobalElements/HeaderFlag.jsx","Assets/logo.svg","Components/FormLogIn.jsx","Views/Home.jsx","Assets/exit-icon.svg","Assets/drop-down-downarrow.svg","Assets/drop-down-uparrow.svg","Components/GlobalElements/DashboardNavBar.jsx","Components/Visits/VisitCardInfo.jsx","Views/Visits/History.jsx","Assets/info-icon.svg","Components/Visits/CategoryCard.jsx","Assets/purple-plus-icon.svg","Assets/minus-icon.svg","Assets/wait-icon.svg","Assets/check-icon.svg","Components/Visits/CreateVisitForm.jsx","Components/GlobalElements/FormHeader.jsx","Views/Visits/CreateVisit.jsx","Views/Visits/UpdateVisit.jsx","Assets/archive-icon.svg","Assets/on-off-icon.svg","Components/CategoriesContacts/CardCatCont.jsx","Components/CategoriesContacts/AllItems.jsx","Components/CategoriesContacts/FormCreateUpdateCategory.jsx","Components/CategoriesContacts/FormCreateUpdateContact.jsx","Views/Settings/SettingsCatCont.jsx","Components/DataVizHeader.jsx","Views/Insights/CategoriesDistribution.jsx","Views/Insights/HotDay.jsx","Views/Insights/HotTime.jsx","Views/Insights/RetrieveData.jsx","Views/NotFound.jsx","App.jsx","reportWebVitals.js","Components/Auth/UserProvider.jsx","index.js"],"names":["UserContext","React","createContext","withUser","ComponentToPassUserContextTo","props","Consumer","context","Component","component","protectionLevel","rest","isLoading","isLoggedIn","user","isAdmin","render","to","service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","signin","userInfo","post","then","res","catch","get","logout","getUsers","getOneUser","itemId","createUser","newUser","deleteUser","userId","delete","updateUser","updatedInfo","patch","getVisits","createVisit","visitInfo","updateVisit","visitId","deleteVisit","getCategories","createCategory","catefgoryInfo","updateCategory","categoryId","getContactTypes","createContactType","contactTypeInfo","updateContactType","contactTypeId","repartitionByCategory","dates","hotTime","weekDays","join","repartitionByWeeks","getVisitsDateRange","state","isHovering","handleDelete","api","getAllUsers","console","log","handleMouseEnterCard","setState","handleMouseLeaveCard","this","users","handlePopup","name","login","toUpperCase","substring","onMouseEnter","onMouseLeave","className","_id","onClick","src","editIcon","alt","binIcon","Admins","map","Volunteer","FormCreateUpdateAdmin","value","password","isLoginLengthValidated","isLoginFree","isPasswordValidated","isTestMode","wrapperRef","createRef","handleClickOutside","event","current","contains","target","handleChange","key","handleSubmit","a","preventDefault","action","newValue","find","length","formAction","document","addEventListener","removeEventListener","ref","onSubmit","htmlFor","onChange","type","id","placeholder","substr","SettingsUsers","isShownCreate","isShownUpdate","handlePopupCreate","handlePopupUpdate","handleHidePopup","plusIcon","HeaderFlag","location","pathname","flag","withRouter","FormLogIn","username","onLoggedIn","isValidSignin","updateValidSignin","logo","Home","signInStyle","flagStyle","helloStyle","handleLoggedin","apiHandler","setUser","display","transform","animation","setTimeout","history","push","prevProps","style","DashboardNavBar","rapportClicked","handleOpen","handleClose","handleLogout","removeUser","exact","activeClassName","arrowUp","arrowDown","VisitCardInfo","visit","onDelete","date","Date","hour","getHours","minutes","getMinutes","category","contactType","deleteIcon","History","allVisits","filterDeletedVisit","filter","err","CategoryCard","isHoveringInfoIcon","handleMouseEnter","handleMouseLeave","handleTouchInfo","e","handleTouchEnd","handleSelectItem","isMobileOnly","description","opacity","onTouchStart","onTouchEnd","infoIcon","ChooseCategory","nbOfPerson","allCategories","allContactTypes","visitToUpdate","isUpdateVisit","handleDecrease","handleIncrease","item","handleChangeItem","i","activeCategories","cat","isActive","activeContacts","cont","dateFormat","toLocaleDateString","year","month","day","checkedIcon","minusIcon","waitIcon","contact","FormHeader","handleCancel","title","CreateVisit","CreateVisitForm","UpdateVisit","CardItemWidget","onOffItem","handleUpdateView","updateItem","handleOpenUpdate","archiveIcon","onOffIcone","AllItems","items","showCreateForm","showUpdateForm","getAllItmes","handleOpenCreate","handleCloseCreate","handleCloseUpdate","activeitems","inactiveitems","buttonName","FormCreateUpdateComponent","formCreateAction","titleFormat","CardCatCont","formType","formName","closeForm","values","FormCreateUpdateCategory","isNameValidated","isdescriptionValidated","prevName","FormCreateUpdateContact","SettingsCatCont","DataVizHeader","calendarClicked","setStartDate","openCalendar","selectDayClicked","openFilterDay","leaveSelectDay","isCheckboxes","handleToggleDay","defaultChecked","includes","selectRange","RADIAN","Math","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","toFixed","CategoriesDistribution","plotLegend","chartRef","colors","exportChart","exportComponentAsPNG","dateBegin","toISOString","dateEnd","ResponsiveContainer","width","height","PieChart","Legend","verticalAlign","align","Pie","startAngle","endAngle","dataKey","isAnimationActive","label","labelLine","legendType","entry","index","Cell","Tooltip","contentStyle","borderRadius","boxShadow","border","fontFamily","fontSize","reduce","acc","curr","CustomizedDot","viewBox","maskUnits","d","mask","CustomizedLabel","stroke","dy","PureComponent","HotDay","agregatedData","updatedDates","UTC","getFullYear","getMonth","getDate","paddingTop","LineChart","margin","top","right","left","bottom","XAxis","tick","tickMargin","YAxis","axisLine","padding","cursor","Line","dot","activeDot","indexOf","splice","status","BarChart","tickLine","Bar","position","flatData","datas","categoryName","categoryIsActive","contactTypeName","contactTypeIsActive","separator","NotFound","App","path","HotTime","RetrieveData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","UserProvider","authValues","Provider","children","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b87b61eb.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const UserContext = React.createContext();","import React from \"react\";\nimport { UserContext } from \"./UserContext\";\n\n// This is what we call a HOC (Higher Order Component).\n// It takes a component as a parameter and it returns a component.\n// This technique can be used to abstract some logic in order to pass\n// some data down as props to the component sent as parameter.\n\n// The use case of this one is to make it easy to access the user context to\n// any component in our app.\n\n/* ******************************************************** */\n\n//  How to use:  =>\n// YourComponent.jsx\n// import React from \"react\"\n// function or class YourComponent()\n//\n// ... your implementation.\n//\n// export default withUser(YourComponent)\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\n\n// This component is not exported as default, so you have to import it\n// this way :\n// import { withUser } from \"../relative/path/to/this/file\"\n\nexport const withUser = (ComponentToPassUserContextTo) => {\n  return function (props) {\n    return (\n      <UserContext.Consumer>\n        {(context) => (\n          <ComponentToPassUserContextTo {...props} context={context} />\n        )}\n      </UserContext.Consumer>\n    );\n  };\n};","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { withUser } from \"./Auth/withUser\";\n\nconst ProtectedRoute = ({ component: Component, context,protectionLevel, ...rest }) => {\n  if (context.isLoading) {\n    return null;\n  } else if (context.isLoggedIn) {\n    if (protectionLevel === \"volunteer\" || context.user.isAdmin) {\n      return <Route {...rest} render={(props) => <Component {...props} />} />;\n    } else {\n      return <Redirect to=\"/new-visit\" />;\n    }\n  } else {\n    return <Redirect to=\"/\" />;\n  }\n};\n\nexport default withUser(ProtectedRoute);","export default __webpack_public_path__ + \"static/media/trash-icon.1ad67e0c.svg\";","export default __webpack_public_path__ + \"static/media/edit-icon.cc05c011.svg\";","import axios from \"axios\";\n\nconst service = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\n\twithCredentials: true\n});\n\nfunction errorHandler(error) {\n\tif (error.response.data) {\n\t\tthrow error;\n\t}\n\tthrow error;\n}\n\nexport default {\n\tservice,\n\n\t// ---AUTH--- \n\tsignin(userInfo) {\n\t\treturn service\n\t\t\t.post(\"/api/auth/signin\", userInfo)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tisLoggedIn() {\n\t\treturn service\n\t\t\t.get(\"/api/auth/isLoggedIn\")\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tlogout() {\n\t\treturn service\n\t\t\t.get(\"/api/auth/logout\")\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\t// ---USER CRUD---\n\tgetUsers() {\n\t\treturn service\n\t\t\t.get(\"/api/user\")\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tgetOneUser(itemId) {\n\t\treturn service\n\t\t\t.get(`/api/user${itemId}`)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tcreateUser(newUser) {\n\t\treturn service\n\t\t\t.post(\"/api/user/create\", newUser)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tdeleteUser(userId) {\n\t\treturn service\n\t\t\t.delete(`/api/user/delete/${userId}`)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tupdateUser(userId, updatedInfo) {\n\t\treturn service\n\t\t\t.patch(`/api/user/edit/${userId}`, updatedInfo)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\t// ---VISITS--- \n\tgetVisits() {\n\t\treturn service\n\t\t\t.get(\"/api/visits\")\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tcreateVisit(visitInfo) {\n\t\treturn service\n\t\t\t.post(\"/api/visits\", visitInfo)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tupdateVisit(visitId, visitInfo) {\n\t\treturn service\n\t\t\t.patch(`/api/visits/${visitId}`, visitInfo)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tdeleteVisit(visitId) {\n\t\treturn service\n\t\t\t.delete(`/api/visits/${visitId}`)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\t// ---CATEGORIES--- \n\tgetCategories() {\n\t\treturn service\n\t\t\t.get(\"/api/categories\")\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tcreateCategory(catefgoryInfo) {\n\t\treturn service\n\t\t\t.post(\"/api/categories\", catefgoryInfo)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tupdateCategory(categoryId, catefgoryInfo) {\n\t\treturn service\n\t\t\t.patch(`/api/categories/${categoryId}`, catefgoryInfo)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\t// ---CONTACT TYPE--- \n\tgetContactTypes() {\n\t\treturn service\n\t\t\t.get(\"/api/contactTypes\")\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tcreateContactType(contactTypeInfo) {\n\t\treturn service\n\t\t\t.post(\"/api/contactTypes\", contactTypeInfo)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tupdateContactType(contactTypeId, contactTypeInfo) {\n\t\treturn service\n\t\t\t.patch(`/api/contactTypes/${contactTypeId}`, contactTypeInfo)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\t//  Insights\n\trepartitionByCategory(data) {\n\t\treturn service\n\t\t\t.get(`/api/insight/get-category-repartition?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}`)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\thotTime(data) {\n\t\treturn service\n\t\t\t.get(`/api/insight/get-popular-hours?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}${data.weekDays?\"&weekDays=\"+data.weekDays.join(\",\"):\"\"}`)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\trepartitionByWeeks(data) {\n\t\treturn service\n\t\t\t.get(`/api/insight/get-popular-days?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}`)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t},\n\n\tgetVisitsDateRange(data) {\n\t\treturn service\n\t\t\t.get(`/api/visits?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}`)\n\t\t\t.then((res) => res.data)\n\t\t\t.catch(errorHandler);\n\t}\n\n\n};\n\n\n\n","import React, { Component } from \"react\";\nimport binIcon from \"../../Assets/trash-icon.svg\";\nimport editIcon from \"../../Assets/edit-icon.svg\";\nimport { withUser } from \"../Auth/withUser\";\nimport api from \"../../apiHandler/apiHandler\";\nimport \"../../Styles/CardAdminsVolunteer.css\";\n\nclass CardAdminsVolunteer extends Component {\n  state = {\n    isHovering: false,\n  };\n\n  handleDelete = (userId) => {\n    api\n      .deleteUser(userId)\n      .then((response) => {\n        this.props.getAllUsers();\n      })\n      .catch((error) => console.log(error));\n  };\n\n  handleMouseEnterCard = () => {\n    this.setState({ isHovering: true });\n  };\n\n  handleMouseLeaveCard = () => {\n    this.setState({ isHovering: false });\n  };\n\n  render() {\n    const {users, context, handlePopup} = this.props;\n    const name = users.login[0].toUpperCase() + users.login.substring(1);\n\n    return (\n      <div\n        onMouseEnter={this.handleMouseEnterCard}\n        onMouseLeave={this.handleMouseLeaveCard}\n        className=\"CardContainerAdminsVolunteer\"\n      >\n        {users.isAdmin && (\n          <div>\n            <div className=\"card-info-admins-volunteer\">\n              <div>Admin</div>\n              <p>{name}</p>\n            </div>\n            {this.state.isHovering && (\n              <aside>\n                {!context.isLoading &&\n                  context.user._id === users._id && (\n                    <img\n                      onClick={handlePopup}\n                      src={editIcon}\n                      alt=\"edit-icon\"\n                    />\n                  )}\n                {!context.isLoading &&\n                  context.user._id !== users._id && (\n                    <img\n                      onClick={() => this.handleDelete(users._id)}\n                      src={binIcon}\n                      alt=\"trash-icon\"\n                    />\n                  )}\n              </aside>\n            )}\n          </div>\n        )}\n        {!users.isAdmin && (\n          <div>\n            <div className=\"card-info-admins-volunteer\">\n              <div>Bénévole</div>\n              <p>{name}</p>\n            </div>\n            {this.state.isHovering && (\n              <aside onClick={handlePopup}>\n                <img src={editIcon} alt=\"edit-icon\" />\n              </aside>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withUser(CardAdminsVolunteer);\n","import React, { Component } from \"react\";\nimport Card from \"./CardAdminsVolunteer\";\n\nclass Admins extends Component {\n  render() {\n    return (\n      <>\n        {this.props.users && \n        this.props.users.map(user => {\n          return (\n            user.isAdmin \n              && \n            <Card \n              key={user._id} \n                users={user} \n                handlePopup = {() => this.props.handlePopup(user)}\n                getAllUsers={this.props.getAllUsers}            \n              />)\n        })}\n      </>\n    );\n  }\n}\n\nexport default Admins;\n","import React, { Component } from \"react\";\nimport Card from \"./CardAdminsVolunteer\";\n\nclass Volunteer extends Component {\n  render() {\n    return (\n      <>\n        {this.props.users &&\n        this.props.users.map(user => {\n          return (\n            !user.isAdmin \n              && \n            <Card \n              key={user._id} \n              users={user} \n              handlePopup = {() => this.props.handlePopup(user)}\n              getAllUsers={this.props.getAllUsers}            \n            />)\n        })}\n      </>\n    );\n  }\n}\n\nexport default Volunteer;\n","import React, { Component } from \"react\";\nimport \"../../Styles/FormCreateCatCont.css\";\n\nclass FormCreateUpdateAdmin extends Component {\n  state = {\n    login: this.props.value ? this.props.value.login[0].toUpperCase() + this.props.value.login.substring(1) : \"\",\n    password: \"\",\n    isAdmin: this.props.value ? this.props.value.isAdmin : true,\n\n    //  input validation\n    isLoginLengthValidated: true,\n    isLoginFree: true,\n    isPasswordValidated: true,\n\n    //prevent update user if test mode\n    isTestMode: false\n  };\n\n  wrapperRef = React.createRef();\n\n  handleClickOutside = event => {\n    if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\n      this.props.handlePopup();\n    }\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    this.setState({ [key]: event.target.value, isLoginLengthValidated:true,  isPasswordValidated: true});\n  };\n\n  handleSubmit = async (event) => {\n    \n    event.preventDefault();\n\n    const { login, password, isAdmin } = this.state;\n    const { users } = this.props;\n\n    if(this.props.action === 'modifier' && process.env.REACT_APP_TEST === 'true') {\n      this.setState({isTestMode: true});\n      return;\n    }\n\n    try {\n      const newValue = { login, isAdmin };\n\n      //  input validation\n      let isLoginLengthValidated = true,\n        isLoginFree = true,\n        isPasswordValidated = true;\n\n      if (\n        users.find(\n          (user) =>\n            user.login === login && user.login !== this.props.value?.login\n        )\n      ) {\n        isLoginFree = false;\n      }\n\n      if (login.length < 3) {\n        isLoginLengthValidated = false;\n      }\n\n      if (password.length < 3) {\n        if (password.length !== 0 || !this.props.value) {\n          // in case of update (when this.props.value is not empty ), the input may be \"\" which mean that the user keep the same password\n          isPasswordValidated = false;\n        }\n      }\n\n      if (!isLoginLengthValidated || !isLoginFree || !isPasswordValidated) {\n        this.setState({\n          isLoginLengthValidated,\n          isLoginFree,\n          isPasswordValidated,\n        });\n        return;\n      }\n\n      if (password !== \"\") {\n        newValue.password = password;\n      }\n\n      await this.props.formAction(newValue);\n      this.props.getAllUsers();\n      this.props.handlePopup();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  render() {\n    const {\n      isLoginLengthValidated,\n      isLoginFree,\n      isPasswordValidated,\n      isTestMode\n    } = this.state;\n\n    return (\n      <div className=\"shadow-pop-up\">\n        <div ref={this.wrapperRef} className=\"FormCreateUpdateContact\">\n          <div>\n            <h1>{this.props.action} un·e utilisateur·ice</h1>\n            <div className=\"close-pop-up\" onClick={this.props.handlePopup}>Annuler</div>\n          </div>\n          <form onSubmit={this.handleSubmit} className=\"form-update-create\">\n            <label htmlFor=\"login\">nom utilisateur·ice</label>\n            <input\n              className={!isLoginLengthValidated || !isLoginFree || isTestMode ?  \"error-input\" : \"\"}\n              onChange={this.handleChange}\n              value={this.state.login}\n              type=\"text\"\n              name=\"login\"\n              id=\"login\"\n            />\n            {!isLoginLengthValidated && (\n              <div className=\"error-message user-name-error\">\n                <p>Le login doit contenir au moins 3 caractères.</p>\n              </div>\n            )}\n            {!isLoginFree && (\n              <div className=\"error-message user-name-error\">\n                <p>Ce nom d’utilisateur est déjà pris.</p>\n              </div>\n            )} \n\n            <label htmlFor=\"password\">mot de passe</label>\n            <input\n              className={!isPasswordValidated || !isLoginFree || isTestMode ?  \"error-input\" : \"\"}\n              onChange={this.handleChange}\n              value={this.props.password}\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              placeholder={this.props.action === \"ajouter\" ? '' : '●●●●●●'}\n            />\n            {!isPasswordValidated && (\n              <div className=\"error-message name-error-contact\">\n                <p>Le mot de passe doit contenir au moins 3 caractères.</p>\n              </div>\n            )}\n\n            {isTestMode && (\n              <div className=\"error-message name-error-contact\">\n                <p>Action impossible sur la version test</p>\n              </div>\n            )} \n\n            <button>{this.props.action[0].toUpperCase() + this.props.action.substr(1)}</button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FormCreateUpdateAdmin;\n","export default __webpack_public_path__ + \"static/media/plus-icon.12ac6e9b.svg\";","import React, { Component } from \"react\";\n\nimport Admins from \"../../Components/UsersSettings/Admins\";\nimport Volunteer from \"../../Components/UsersSettings/Volunteer\";\nimport api from \"../../apiHandler/apiHandler\";\nimport FormUser from \"../../Components/UsersSettings/FormCreateUpdateAdmin\";\n\nimport \"../../Styles/SettingsUsers.css\";\nimport plusIcon from \"../../Assets/plus-icon.svg\";\n\nclass SettingsUsers extends Component {\n  state = {\n    users: null,\n    isShownCreate: false,\n    isShownUpdate: null,\n  };\n\n  componentDidMount() {\n    api\n      .getUsers()\n      .then((response) => this.setState({ users: response }))\n      .catch((error) => console.log(error));\n  }\n\n  getAllUsers = () => {\n    api\n      .getUsers()\n      .then((response) => this.setState({ users: response }))\n      .catch((error) => console.log(error));\n  };\n\n  handlePopupCreate = () => {\n    this.setState({\n      isShownCreate: !this.state.isShownCreate,\n      isShownUpdate: null,\n    });\n  };\n\n  handlePopupUpdate = (user) => {\n    this.setState({ isShownUpdate: user, isShownCreate: false });\n  };\n\n  handleHidePopup = () => {\n    this.setState({ isShownUpdate: null, isShownCreate: false });\n  };\n\n  render() {\n    const {users, isShownCreate, isShownUpdate} = this.state;\n\n    return (\n      <div id=\"settings-users\">\n        <div id=\"header-users\">\n          <h1>utilisateur·ices</h1>\n          <button onClick={this.handlePopupCreate}>\n            <img src={plusIcon} alt=\"plus-icon\" />\n            <p>Ajouter un·e utilisateur·ice</p>\n          </button>\n        </div>\n        <div className=\"users-container\">\n          <Admins\n            users={users}\n            handlePopup={this.handlePopupUpdate}\n            getAllUsers={this.getAllUsers}\n          />\n        </div>\n        <div className=\"users-container\">\n          <Volunteer\n            users={users}\n            handlePopup={this.handlePopupUpdate}\n            getAllUsers={this.getAllUsers}\n          />\n        </div>\n        {isShownCreate && (\n          <FormUser\n            formAction={api.createUser}\n            handlePopup={this.handleHidePopup}\n            getAllUsers={this.getAllUsers}\n            users={users}\n            action=\"ajouter\"\n          />\n        )}\n        {isShownUpdate && (\n          <FormUser\n            formAction={(value) =>\n              api.updateUser(isShownUpdate._id, value)\n            }\n            handlePopup={this.handleHidePopup}\n            getAllUsers={this.getAllUsers}\n            value={isShownUpdate}\n            users={users}\n            action=\"modifier\"\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default SettingsUsers;\n","import React, { Component } from 'react';\nimport {withRouter} from 'react-router-dom';\n\nexport class HeaderFlag extends Component {\n    render() {\n        const flags = [\"red\", \"orange\", \"yellow\", \"green\", \"blue\", \"purple\"];\n        return (\n            <>\n                {this.props.location.pathname !== '/' &&\n                    <div id=\"header-flag\">\n                        \n                        {flags.map(flag => \n                            <div key={flag} id={flag}></div>\n                        )} \n                        \n                    </div>\n                }\n            </>\n        )\n    }\n}\n\nexport default withRouter(HeaderFlag);\n","export default __webpack_public_path__ + \"static/media/logo.362bd950.svg\";","import React, { Component } from 'react';\nimport './../Styles/LogIn.css';\nimport logo from './../Assets/logo.svg';\n\nclass FormLogIn extends Component {\n    state = {\n        username : \"\",\n        password : \"\"\n    }\n\n    handleSubmit = async (event) => {\n        event.preventDefault();\n        const {username: login, password} = this.state ;        \n\n        try {\n            await this.props.onLoggedIn({login, password});\n        } catch(err) {\n            console.log(err)\n        }\n    } \n\n    render() {\n\n        const { isValidSignin, updateValidSignin } = this.props ;\n\n        return (\n            <div className=\"form-container\">\n                <img src={logo} alt=\"\"/>\n                <form className=\"form-signin\" onSubmit={this.handleSubmit}>\n                    <label htmlFor=\"username\">Nom d'utilisateur</label>\n                    <input \n                        className={!isValidSignin ?  \"error-input\" : \"\"}\n                        onChange={(event) => {\n                            this.setState({username : event.target.value})\n                            updateValidSignin()\n                        }}\n                        value={this.state.username}\n                        type=\"text\" \n                        id=\"username\" \n                        name=\"username\"\n                    />\n\n                    <label htmlFor=\"password\">Mot de passe</label>\n                    <input \n                        className={!isValidSignin ?  \"error-input\" : \"\"}\n                        onChange={(event) => {\n                            this.setState({password : event.target.value})\n                            updateValidSignin()\n                        }}\n                        value={this.state.password}\n                        type=\"password\" \n                        id=\"password\" \n                        name=\"password \"\n                    />\n                    {   !isValidSignin \n                            && \n                        <div className=\"error-message\"><p>Mauvais mot de passe et/ou nom d'utilisateur</p></div>\n                    }\n                    <button >Connexion</button>\n                </form> \n            </div>\n        )\n    }\n}\n\nexport default FormLogIn\n\n\n\n","import React from 'react';\nimport { withUser } from \"./../Components/Auth/withUser\";\nimport { withRouter } from \"react-router\";\n\nimport FormLogIn from './../Components/FormLogIn';\nimport './../Styles/LogIn.css';\n\nimport apiHandler from './../apiHandler/apiHandler'\n\nclass Home extends React.Component {\n    state = {\n        signInStyle : null,\n        flagStyle : null,\n        helloStyle : null,\n\n        isValidSignin: true\n    };\n\n    componentDidMount() {\n        //Dealing with arriving on Home page animation\n        if(!this.props.context.isLoggedIn & !this.props.context.isLoading) {\n            //css deals with making flag move up\n            // then after 700ms I want the \"bonjour\" to display \n            setTimeout(() => {\n                this.setState({\n                    helloStyle : {\n                        display : 'block',\n                    }\n                })\n            }, 700);\n            //then after 900ms I want the login form to move down\n            setTimeout(() => {\n                this.setState({\n                    signInStyle: {\n                        display : 'block',\n                        animation : 'signinsweep 0.9s ease-out'\n                    }\n                })\n            }, 900);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        //Dealing with arriving at Home page animation\n        //but same time dealing with loading isLoggedIn asynchrone issues\n\n        //TO REFACTOR : we have the same animation twice\n        if (prevProps.context.isLoading !== this.props.context.isLoading) {\n            if (this.props.context.isLoggedIn) {\n                this.props.history.push(\"/new-visit\")\n            } else  {\n                setTimeout(() => {\n                    this.setState({\n                        helloStyle : {\n                            display : 'block',\n                        }\n                    })\n                }, 700);\n\n                setTimeout(() => {\n                    this.setState({\n                        signInStyle: {\n                            display : 'block',\n                            animation : 'signinsweep 0.9s ease-out'\n                        }\n                    })\n                }, 900);\n            }\n        }\n    }\n\n    handleLoggedin = (user) => {\n        //changer de route après le timeOut\n        apiHandler\n            .signin(user)\n            .then((data) => {\n                this.props.context.setUser(data);\n\n                this.setState({\n                    signInStyle: {\n                        display : 'block',\n                        transform : 'translateY(-100%)',\n                        animation : 'outro-sweep 1s ease-out'\n                    },\n                    helloStyle : {\n                        display : 'none',\n                    }\n                })\n        \n                setTimeout(() => {\n                    this.setState({\n                        flagStyle : {\n                            display : 'block',\n                            transform : 'translateY(calc(-100% + 6px))',\n                            animation : 'outro-sweep 0.5s ease-out'\n                        }\n                    })\n        \n                }, 700);\n        \n                setTimeout(() => this.props.history.push(\"/history\"), 1500) ;\n            })\n            .catch((error) => {\n                this.setState({isValidSignin: false})\n                console.log(error);\n            });\n    }\n\n    //show error message if sign in is not good\n    //to do = setState only if !isValidSignin\n    updateValidSignin = () => {\n        this.setState({isValidSignin: true})\n    }\n\n    render() {\n\n        const flags = [\"red\", \"orange\", \"yellow\", \"green\", \"blue\", \"purple\"];\n        const {isValidSignin} = this.state ;\n\n        return (\n            <div>\n                <div id=\"signin\" style={this.state.signInStyle}>\n                    <FormLogIn \n                        onLoggedIn={this.handleLoggedin} \n                        isValidSignin={isValidSignin}\n                        updateValidSignin={this.updateValidSignin}\n                    />\n                </div>\n\n                <div id=\"flag-container\">\n                    <p style={this.state.helloStyle}>bonjour</p>\n                    {flags.map(flag => \n                        <div key={flag} id={flag} style={this.state.flagStyle}></div>\n                    )} \n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(withUser(Home))\n","export default __webpack_public_path__ + \"static/media/exit-icon.d851a8b4.svg\";","export default __webpack_public_path__ + \"static/media/drop-down-downarrow.43c72a93.svg\";","export default __webpack_public_path__ + \"static/media/drop-down-uparrow.ee4eb39b.svg\";","import React, { Component } from 'react';\nimport {withRouter, NavLink} from 'react-router-dom';\nimport { withUser } from \"./../../Components/Auth/withUser\";\nimport apiHandler from './../../apiHandler/apiHandler'\n\nimport './../../Styles/NavDashboard.css';\nimport logo from './../../Assets/logo.svg';\nimport logout from './../../Assets/exit-icon.svg';\nimport arrowDown from './../../Assets/drop-down-downarrow.svg';\nimport arrowUp from './../../Assets/drop-down-uparrow.svg';\n\nclass DashboardNavBar extends Component {\n\n    state = {\n        rapportClicked: false\n    }\n\n    handleOpen = () => {\n        this.setState({rapportClicked: !this.state.rapportClicked});\n    }\n\n    handleClose = () => {\n        this.setState({rapportClicked: false});\n    }\n\n    handleLogout = () => {\n        const {context} = this.props ;\n\n        apiHandler\n          .logout()\n          .then(() => {\n            context.removeUser();\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n    }\n\n    render() {\n\n        const { context } = this.props ;\n        const { rapportClicked } = this.state\n\n        return (\n            <>\n            {this.props.location.pathname !== '/' &&\n                <div id=\"DashboardNavBar\">\n                    <img className=\"logo\" src={logo} alt=\"\"/>\n\n                    <NavLink \n                        exact\n                        to=\"/history\"\n                        className=\"link\" \n                        activeClassName=\"selected\"\n                        onClick={this.handleClose}\n                    >\n                        Visites\n                    </NavLink>\n                    <div className=\"rapport-container\">\n                        <div \n                            className=\"rapport\" \n                            onClick={this.handleOpen}\n                        >\n                            <p>Rapport</p>\n                            <img src={rapportClicked ? arrowUp : arrowDown} alt=\"\"/>\n                        </div>\n                        {rapportClicked &&\n                            <div \n                                onMouseLeave={this.handleClose}\n                                className=\"drop-down-rapport\"\n                            >\n                                <NavLink\n                                    exact\n                                    to=\"/categories-repartition\"\n                                    className=\"sublink\" \n                                    activeClassName=\"selected\"\n                                >\n                                    Répartition des visites\n                                </NavLink>\n\n                                <NavLink\n                                    exact\n                                    to=\"/jour-affluence\"\n                                    className=\"sublink\"\n                                    activeClassName=\"selected\" \n                                >\n                                    Jours d'affluence\n                                </NavLink>\n\n                                <NavLink\n                                    exact\n                                    to=\"/heure-affluence\"\n                                    className=\"sublink\" \n                                    activeClassName=\"selected\"\n                                >\n                                    Heures d'affluence\n                                </NavLink>\n\n                                <NavLink\n                                    exact\n                                    to=\"/exporter\"\n                                    className=\"sublink\" \n                                    activeClassName=\"selected\"\n                                >\n                                    Exporter\n                                </NavLink>\n                            </div>\n                        }\n\n                    </div>\n\n                    {\n                        !context.isLoading && context.isLoggedIn && context.user.isAdmin &&\n                        <NavLink \n                            exact\n                            to=\"/parameters\"\n                            className=\"link\" \n                            activeClassName=\"selected\"\n                            onClick={this.handleClose}\n                        >\n                        Paramètres\n                        </NavLink>\n                    }\n\n                    {\n                        !context.isLoading && context.isLoggedIn && context.user.isAdmin &&\n                        <NavLink \n                            exact\n                            to=\"/users\"\n                            className=\"link\" \n                            activeClassName=\"selected\"\n                            onClick={this.handleClose}\n                        >\n                        Utilisateur·ices\n                        </NavLink>\n                    }\n\n\n                    <div className=\"logout\" onClick={this.handleLogout}>\n                        <img src={logout} alt=\"\"/>\n                        <p>Déconnexion</p>\n                    </div>\n                </div>\n            }\n            </>\n        )\n    }\n}\n\nexport default withUser(withRouter(DashboardNavBar))\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './../../Styles/VisitCardInfo.css';\nimport editIcon from './../../Assets/edit-icon.svg';\nimport deleteIcon from './../../Assets/trash-icon.svg';\n\nclass VisitCardInfo extends Component {\n    state = {\n        isHovering: false\n    }\n\n    handleMouseEnterCard = () => {\n        this.setState({isHovering: true})\n      }\n    \n    handleMouseLeaveCard = () => {\n        this.setState({isHovering: false})\n    }\n\n    render() {\n        const {isHovering} = this.state;\n        const {visit, onDelete} = this.props;\n\n        const date = new Date(visit.date);\n        const hour = date.getHours();\n        let minutes = date.getMinutes();\n        minutes = minutes < 10 ? '0' + minutes : minutes;\n    \n        return (\n            <div \n                onMouseEnter={this.handleMouseEnterCard}\n                onMouseLeave={this.handleMouseLeaveCard}\n                className=\"CardContainer\"\n            >\n                <div className=\"card-info\">\n                    <p>{`${hour}h${minutes}`}</p>\n                    <div>{visit.category.name}</div>\n                    <div>{visit.contactType.name}</div>\n                </div>\n                {isHovering &&\n                    <aside>\n                        <Link to={{\n                            pathname:\"/update-visit\",\n                            state: {\n                                visitId: visit\n                            }\n                        }}>\n                            <img src={editIcon} alt=\"\"/>\n                        </Link>\n                        <img onClick={() => onDelete(visit._id)} src={deleteIcon} alt=\"trash-can\"/>\n                    </aside>\n                }\n            </div>\n        )\n    }\n}\n\nexport default VisitCardInfo\n","import React, { Component } from 'react';\nimport apiHandler from './../../apiHandler/apiHandler';\nimport CardInfo from '../../Components/Visits/VisitCardInfo';\nimport {Link} from 'react-router-dom';\n\nimport './../../Styles/History.css';\nimport plusIcon from './../../Assets/plus-icon.svg';\n\nclass History extends Component {\n    state = {\n        allVisits: null\n    } \n\n    componentDidMount() {\n        apiHandler\n        .getVisits()\n        .then(res => {\n            this.setState({allVisits : res});\n        })\n        .catch(err => console.log(err))\n    }\n\n    onDelete = (visitId) => {\n        apiHandler\n        .deleteVisit(visitId)\n        .then(res => {\n            const filterDeletedVisit = this.state.allVisits\n            .filter(visit => visit._id !== res._id);\n            \n            this.setState({allVisits : filterDeletedVisit});\n        })\n    }\n\n    render() {\n        const {allVisits} = this.state;\n\n        return (\n            <div id=\"History\">\n                <div id=\"header\">\n                    <p>dernières visites</p>\n                    <Link\n                        exact=\"true\"\n                        to='/new-visit'\n                        className=\"link\"\n                    >\n                        <button>\n                            <img src={plusIcon} alt=\"\"/>\n                            <p>Ajouter une visite </p>\n                        </button>\n                    </Link>\n                </div>\n                {allVisits && allVisits.map(visit =>\n                    <CardInfo \n                        key={visit._id}\n                        visit={visit}\n                        onDelete={this.onDelete}\n                    />\n                )}\n            </div>\n        )\n    }\n}\n\nexport default History\n","export default __webpack_public_path__ + \"static/media/info-icon.1636a649.svg\";","import React, { Component } from 'react';\nimport infoIcon from './../../Assets/info-icon.svg';\nimport {isMobileOnly} from 'react-device-detect';\n\nexport class CategoryCard extends Component {\n    state = {\n        isHoveringInfoIcon: false\n    } \n\n    handleMouseEnter = () => {\n        this.setState({isHoveringInfoIcon: true});\n    } \n\n    handleMouseLeave = () => {\n        this.setState({isHoveringInfoIcon: false});\n    } \n\n    handleTouchInfo = (e) => {\n        e.preventDefault();\n        this.setState({isHoveringInfoIcon: !this.state.isHoveringInfoIcon});\n    }\n\n    handleTouchEnd = (e) => {\n        e.preventDefault();\n    }\n\n    render() {\n        const {category, handleSelectItem} = this.props;\n        const {isHoveringInfoIcon} = this.state;\n\n        return (\n            <div className=\"cat-cont-card\">\n                <div \n                    onClick={() => handleSelectItem(category._id, category.name, \"category\")}\n                    className=\"cat-cont\"\n                >\n\n                    {isHoveringInfoIcon && !isMobileOnly &&\n                        <div className=\"info-toolbox\">\n                            <h3>{category.description}</h3> \n                            <div></div>\n                        </div>\n                    }\n\n                    <p>{category.name}</p> \n                    \n                    <img \n                        onMouseEnter={this.handleMouseEnter}\n                        onMouseLeave={this.handleMouseLeave}\n                        style= {{opacity : isHoveringInfoIcon ? \"1\" : \"0.5\"}}\n                        onTouchStart={this.handleTouchInfo}\n                        onTouchEnd={this.handleTouchEnd}\n                        src={infoIcon} alt=\"\"\n                    />\n                \n                </div>\n                \n                {isMobileOnly && isHoveringInfoIcon &&\n                    <div className=\"description-mobile\">\n                        <p>{category.description}</p>\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n\nexport default CategoryCard\n","export default __webpack_public_path__ + \"static/media/purple-plus-icon.2a4e8ef9.svg\";","export default __webpack_public_path__ + \"static/media/minus-icon.9138e483.svg\";","export default __webpack_public_path__ + \"static/media/wait-icon.986bbe2d.svg\";","export default __webpack_public_path__ + \"static/media/check-icon.ed8b72a6.svg\";","import React, { Component } from 'react';\nimport {withRouter} from 'react-router-dom';\nimport apiHandler from '../../apiHandler/apiHandler';\nimport CategoryCard from './CategoryCard';\n\nimport './../../Styles/CreateVisit.css';\nimport plusIcon from './../../Assets/purple-plus-icon.svg';\nimport minusIcon from './../../Assets/minus-icon.svg';\nimport editIcon from './../../Assets/edit-icon.svg';\nimport waitIcon from './../../Assets/wait-icon.svg';\nimport checkedIcon from './../../Assets/check-icon.svg';\n\nexport class ChooseCategory extends Component {\n    state = {\n        nbOfPerson: 1,\n        date: new Date(),\n\n        category: null,\n        contactType: null,\n\n        allCategories: null,\n        allContactTypes: null,\n\n        visitToUpdate: null,\n        isUpdateVisit: false,\n    }\n\n    componentDidMount() {\n        apiHandler\n        .getCategories()\n        .then(res => {\n            const activeCategories = res.filter(cat => cat.isActive);\n            this.setState({allCategories : activeCategories})\n        })\n        .catch(err => console.log(err));\n\n        apiHandler\n        .getContactTypes()\n        .then(res => {\n            const activeContacts = res.filter(cont => cont.isActive);\n            this.setState({allContactTypes : activeContacts});\n        })\n        .catch(err => console.log(err));\n\n        //if there is a visitId props, it means that I come from update a visit\n        //then I need the visit Information and isUpdateVisit\n        if(this.props.visitId) {\n            this.setState({visitToUpdate : this.props.visitId, isUpdateVisit: true})\n        }\n    }\n\n    handleDecrease = () => {\n        if(this.state.nbOfPerson > 1) \n            this.setState({nbOfPerson : this.state.nbOfPerson - 1});\n    }\n\n    handleIncrease = () => {\n        this.setState({nbOfPerson : this.state.nbOfPerson + 1});\n    }\n\n    handleSelectItem = (id, name, item) => {\n        this.setState({[item] : {id, name}});\n    }\n\n    //if user change their mind about selecting a category or contact type\n    //if user was here to update it resets information \n    handleChangeItem = (item) => {\n        this.setState({[item] : null, isUpdateVisit:false});\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const {nbOfPerson, category, contactType, visitToUpdate} = this.state;\n\n        if(visitToUpdate) {\n\n            apiHandler\n            .updateVisit(visitToUpdate._id, {\n                date: visitToUpdate.date,\n                category: category.id,\n                contactType: contactType.id\n            })\n            .then(() => this.props.history.push('/history'))\n            .catch(error => console.log(error))\n\n        } else {\n\n            for(let i = 0; i < nbOfPerson; i++) {\n                apiHandler\n                .createVisit({\n                    category : category.id,\n                    contactType : contactType.id\n                })\n                .then(() => {\n                    if(i === nbOfPerson - 1) {\n                        this.props.history.push('/history')\n                    }\n                })\n                .catch(error => console.log(error));\n            }\n\n        }\n    }\n\n    render() {\n        const {allCategories, category, allContactTypes, contactType, date, nbOfPerson, visitToUpdate, isUpdateVisit} = this.state\n\n        const dateFormat = date.toLocaleDateString('fr-FR', { year: 'numeric', month: 'long', day: 'numeric' });\n        \n        return (\n            <form \n                onSubmit={this.handleSubmit}\n                id=\"CreateForm\"\n            >\n                {/* if visit to update we don't want the user to change nbofperson and/or date */}\n                {!visitToUpdate &&\n                    <div id=\"first-form\">\n                        <div id=\"nb-of-person\">\n                            <div className=\"input-header\">\n                                <h2>nombre de personnes</h2>\n                                {nbOfPerson && \n                                    <img src={checkedIcon} alt=\"\"/>\n                                }\n                            </div>\n                            <div className=\"input-content\">\n                                <img \n                                    onClick={this.handleDecrease}\n                                    src={minusIcon} alt=\"\"\n                                />\n                                <p className=\"validated-input\">\n                                    {nbOfPerson} personne{nbOfPerson > 1 ? 's' : ''}\n                                </p>\n                                <img \n                                onClick={this.handleIncrease} \n                                src={plusIcon} alt=\"\"\n                                />\n                            </div>\n                        </div>\n                        <div id=\"date\">\n                            <div className=\"input-header\">\n                                <h2>date</h2>\n                                {date && \n                                    <img src={checkedIcon} alt=\"\"/>\n                                }\n                            </div>\n                            <div className=\"input-content\">\n                                <p className=\"validated-input\">{dateFormat}</p>\n                            </div>\n                        </div>\n                    </div>\n                }\n\n                <div className=\"input-header\">\n                    <h2>service du centre demandé</h2>\n                    {category && \n                        <img src={checkedIcon} alt=\"\"/>\n                    }\n                </div>\n                <div className=\"cat-cont-container\">\n                    {!isUpdateVisit && \n                    !category &&\n                    allCategories &&\n                        allCategories.map(category => \n                            <CategoryCard key={category._id} category={category} handleSelectItem={this.handleSelectItem}/>\n                        )\n                    }\n                </div>\n\n                {/* probably an OR guardian for this one, to check on v2 */}\n                {category &&\n                    <div \n                        onClick={() => this.handleChangeItem('category')}\n                        className=\"selected-cat-cont\"\n                    >\n                        <p className=\"validated-input\">{category.name}</p>\n                        <img src={editIcon} alt=\"\"/>\n                    </div>\n                }\n\n                {isUpdateVisit &&\n                    <div \n                        onClick={() => this.handleChangeItem('category')}\n                        className=\"selected-cat-cont\"\n                    >\n                        <p className=\"validated-input\">{visitToUpdate.category.name}</p>\n                        <img src={editIcon} alt=\"\"/>\n                    </div>\n                }           \n\n                <div className=\"input-header\">\n                    <h2>mode de contact utilisé</h2>\n                    {!category &&\n                        <img \n                            src={waitIcon} \n                            alt=\"\"\n                        />\n                    }\n                    {contactType &&\n                    category &&\n                        <img src={checkedIcon} alt=\"\"/>\n                    }\n                </div>\n                <div className=\"cat-cont-container\">\n                    {category && \n                    !contactType &&\n                    allContactTypes &&\n                        allContactTypes.map(contact => \n                            <div className=\"cat-cont-card\">\n                                <div \n                                    onClick={() => this.handleSelectItem(contact._id, contact.name, \"contactType\")}\n                                    key={contact._id}\n                                    className=\"cat-cont\"\n                                >\n                                    <p>{contact.name}</p>\n                                </div>\n                            </div>\n                        )\n                    }\n                </div>\n\n                {category && contactType &&\n                    <div \n                        onClick={() => this.handleChangeItem('contactType')}\n                        className=\"selected-cat-cont\"\n                    >\n                        <p className=\"validated-input\">{contactType.name}</p>\n                        <img src={editIcon} alt=\"\"/>\n                    </div>\n                }   \n\n                {isUpdateVisit &&\n                    <div \n                        onClick={() => this.handleChangeItem('contactType')}\n                        className=\"selected-cat-cont\"\n                    >\n                        <p className=\"validated-input\">{visitToUpdate.contactType.name}</p>\n                        <img src={editIcon} alt=\"\"/>\n                    </div>\n                }   \n\n                {category && contactType &&\n                    <button>Enregistrer</button>\n                }\n            </form>\n        )\n    }\n}\n\nexport default withRouter(ChooseCategory);\n\n\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport './../../Styles/FormHeader.css';\n\n\nclass FormHeader extends Component {\n    handleCancel = () => {\n        this.props.history.push('/history');\n    } \n\n    render() {\n        return (\n            <div className=\"FormHeader\">\n                <h1>{this.props.title}</h1>\n                <button onClick={this.handleCancel}> <p> Annuler </p> </button>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(FormHeader);\n","import React, { Component } from 'react';\nimport CreateVisitForm from '../../Components/Visits/CreateVisitForm';\nimport FormHeader from '../../Components/GlobalElements/FormHeader';\n\n\nclass CreateVisit extends Component {\n\n    render() {\n        \n        return (\n            <>\n                <FormHeader title=\"ajouter une nouvelle visite\"/>\n                <CreateVisitForm />\n            </>\n        )\n    }\n}\n\nexport default CreateVisit\n","import React, { Component } from 'react';\nimport UpdateVisitForm from './../../Components/Visits/CreateVisitForm';\nimport FormHeader from '../../Components/GlobalElements/FormHeader';\n\nclass UpdateVisit extends Component {\n    render() {\n\n        return (\n            <>\n                <FormHeader title=\"modifier une visite\"/>\n                {this.props.location.state.visitId &&\n                 <UpdateVisitForm visitId={this.props.location.state.visitId}/>\n                }\n            </>\n        )\n    }\n}\n\nexport default UpdateVisit\n","export default __webpack_public_path__ + \"static/media/archive-icon.7d3637ae.svg\";","export default __webpack_public_path__ + \"static/media/on-off-icon.1783d619.svg\";","import React, { Component } from \"react\";\nimport archiveIcon from \"./../../Assets/archive-icon.svg\";\nimport editIcon from \"./../../Assets/edit-icon.svg\";\nimport onOffIcone from \"./../../Assets/on-off-icon.svg\";\n\nimport './../../Styles/CatContCard.css';\n\nexport class CardItemWidget extends Component {\n  state = {\n    isHovering: false\n  }\n\n  onOffItem = async () => {\n    const { _id, isActive, name, description } = this.props.item;\n    const { handleUpdateView } = this.props;\n    console.log(_id);\n    try {\n      await this.props.updateItem(_id, {\n        name,\n        description,\n        isActive: !isActive,\n      });\n      handleUpdateView();\n    } catch (err) {\n      console.log(err);\n      handleUpdateView();\n    }\n  };\n\n  handleMouseEnterCard = () => {\n    this.setState({isHovering: true})\n  }\n\n  handleMouseLeaveCard = () => {\n    this.setState({isHovering: false})\n  }\n\n  render() {\n    const {item, handleOpenUpdate} = this.props;\n\n    return (\n      <div \n        onMouseEnter={this.handleMouseEnterCard}\n        onMouseLeave={this.handleMouseLeaveCard}\n        className=\"CardContainerItem\"\n      >\n        <div className=\"left-container\">\n          <div className=\"status-container\">\n            <p>\n              {item.isActive ? \"actif\" : \"archivé\"}\n            </p>\n          </div>\n          <p>{item.name}</p>\n        </div>\n        {this.state.isHovering &&\n        item.isActive && (\n          <aside>\n            <img\n              src={editIcon}\n              alt=\"edit-icone\"\n              onClick={handleOpenUpdate}\n            />\n            <img\n              src={archiveIcon}\n              alt=\"archive-icon\"\n              onClick={this.onOffItem}\n            />\n          </aside>\n        )}\n        {this.state.isHovering &&\n        !item.isActive && (\n          <aside>\n            <img src={onOffIcone} alt=\"archive-icon\" onClick={this.onOffItem} />\n          </aside>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default CardItemWidget;\n","import React, { Component } from \"react\";\nimport CardCatCont from \"./CardCatCont\";\n\nimport \"../../Styles/SettingsCatCont.css\";\nimport plusIcon from \"../../Assets/plus-icon.svg\";\n\nexport class AllItems extends Component {\n  state = {\n    items: null,\n    showCreateForm: false,\n    //  when click to add an item : become true and show the form popup by guardian\n    showUpdateForm: null,\n    //  When click to update an item : become become the full object (and so become truthy)\n    //  and the update form apears by guardian. Then one can use the content of the state to fill the form\n    //  with actual values\n  };\n\n  async componentDidMount() {\n    // Get the total list of items when the component is monted\n    try {\n      const items = await this.props.getAllItmes();\n      this.setState({ items });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  handleUpdateView = async () => {\n    // Use to update the list of items when an update has been done\n    try {\n      const items = await this.props.getAllItmes();\n      this.setState({ items });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  handleOpenCreate = () => {\n    this.setState({ showUpdateForm: null, showCreateForm: true });\n  };\n\n  handleOpenUpdate = (item) => {\n    this.setState({ showCreateForm: false, showUpdateForm: item });\n  };\n\n  handleCloseCreate = () => {\n    this.setState({ showCreateForm: false });\n  };\n\n  handleCloseUpdate = () => {\n    this.setState({ showUpdateForm: null });\n  };\n\n  render() {\n    const {\n      title,\n      buttonName,\n      updateItem,\n      FormCreateUpdateComponent,\n      formCreateAction,\n    } = this.props;\n    const { items, showCreateForm, showUpdateForm } = this.state;\n    \n    const titleFormat = title === \"Type de contact\" ? \"un type de contact\" : \"une catégorie\"\n\n    let activeitems, inactiveitems;\n\n    if (items) {\n      activeitems = items.filter((item) => item.isActive);\n      inactiveitems = items.filter((item) => !item.isActive);\n    }\n\n    return (\n      <div id=\"item-collection-container\"> \n        <div id=\"header-cat-cont\">\n          <p>{title}</p>\n          <div onClick={this.handleOpenCreate}>\n            <img src={plusIcon} alt=\"plus-icon\" />\n            <p>{buttonName}</p>\n          </div>\n        </div>\n        {items && (\n          <div id=\"items-container\">\n            <div className=\"dashboard-cat-cont\">\n              {activeitems.map((item) => (\n                <CardCatCont\n                  item={item}\n                  updateItem={updateItem}\n                  handleOpenUpdate={() => this.handleOpenUpdate(item)}\n                  handleUpdateView={this.handleUpdateView}\n                  // To update views after deleting an item for instance\n                  key={item._id}\n                />\n              ))}\n            </div>\n            <div className=\"dashboard-cat-cont\">\n              {inactiveitems.map((item) => (\n                <CardCatCont\n                  item={item}\n                  updateItem={updateItem}\n                  handleOpenUpdate={() => this.handleOpenUpdate(item)}\n                  handleUpdateView={this.handleUpdateView}\n                  key={item._id}\n                />\n              ))\n            }\n            </div>\n          </div>\n        )}\n\n        {showCreateForm && (\n          // appears only the the state is true\n          <FormCreateUpdateComponent\n            formType={\"Ajouter \"}\n            formName={titleFormat}\n            formAction={formCreateAction}\n            handleUpdateView={this.handleUpdateView}\n            closeForm={this.handleCloseCreate}\n          />\n        )}\n\n        {showUpdateForm && (\n          // appears only the the state is not empty/ here the state is a full item so that one can use\n          // its informations to fill the form\n          <FormCreateUpdateComponent\n            formType={\"Modifier \"}\n            formName={titleFormat}\n            formAction={(value) =>\n              updateItem(this.state.showUpdateForm._id, value)\n            }\n            handleUpdateView={this.handleUpdateView}\n            closeForm={this.handleCloseUpdate}\n            values={this.state.showUpdateForm}\n            // current value of the item\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default AllItems;\n","import React, { Component } from \"react\";\nimport \"./../../Styles/FormCreateCatCont.css\";\n\nexport default class FormCreateUpdateCategory extends Component {\n    state={\n        name: this.props.values ? this.props.values.name: \"\",\n        description: this.props.values ? this.props.values.description: \"\",\n\n        isNameValidated: true,\n        isdescriptionValidated : true\n    }\n\n    wrapperRef = React.createRef();\n\n    handleClickOutside = event => {\n      if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\n        this.props.closeForm();\n      }\n    }\n  \n    componentDidMount() {\n      document.addEventListener('mousedown', this.handleClickOutside);\n    }\n  \n    componentWillUnmount() {\n      document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    componentDidUpdate(prevProps) {\n        //  when the user want to change the upfateform without closing the previous one\n        if (prevProps.values) {\n            const {name: prevName} = prevProps.values\n            if (this.props.values.name !== prevName) {\n                this.setState({name: this.props.values.name}) ;\n            }\n        }\n    }\n\n    handleSubmit =  async event => {\n        event.preventDefault()\n\n        const {formAction, handleUpdateView, closeForm} = this.props ;\n        const {name, description} = this.state ;\n\n        if (name.length < 3 || description.length < 3) {\n            this.setState({isNameValidated: name.length >= 3, isdescriptionValidated: description.length >= 3}) ;\n            return ;\n        }\n\n        try {\n            await formAction({...this.state, isActive: true}) ;\n            handleUpdateView() ;\n            closeForm() ;\n        } catch(err) {\n            console.log(err) ;\n            closeForm() ;\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({ [event.target.name]: event.target.value, isNameValidated: true, isdescriptionValidated: true});\n    };\n\n\n  render() {\n    const { formType, formName, closeForm } = this.props;\n    const {name, description, isNameValidated, isdescriptionValidated} = this.state ;\n\n    return (\n      <div className=\"shadow-pop-up\">\n        <div ref={this.wrapperRef} className=\"FormCreateUpdateContact\">\n            <div>\n                <h1>{formType}{formName}</h1>\n                <div className=\"close-pop-up\" onClick={closeForm}>\n                Annuler\n                </div>\n            </div>\n          <form onSubmit={this.handleSubmit} className=\"form-update-create\">\n            <label htmlFor=\"name\">Name</label>\n            <input\n              className={!isNameValidated ?  \"error-input\" : \"\"}\n              type=\"text\"\n              name=\"name\"\n              id=\"name\"\n              value={name}\n              onChange={this.handleChange}\n            />\n            {!isNameValidated && \n              <div className=\"error-message name-error\">\n                <p>Le nom doit contenir au moins 3 caractères</p>\n              </div> \n            }\n\n            <label htmlFor=\"description\">Description</label>\n            <textarea\n              className={!isdescriptionValidated ?  \"error-input\" : \"\"}\n              name=\"description\"\n              id=\"description\"\n              value={description}\n              onChange={this.handleChange}\n            />\n            {!isdescriptionValidated && \n              <div className=\"error-message description-error\">\n                <p>La description doit contenir au moins 3 caractères</p>\n              </div>\n            }\n            <button>{formType}</button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport './../../Styles/FormCreateCatCont.css';\n\nexport default class FormCreateUpdateContact extends Component {\n\n    state={\n        name: this.props.values ? this.props.values.name: \"\",\n        //  if update type, this.props.values is given and the initial values of the item are given\n        isNameValidated: true \n    }\n\n    wrapperRef = React.createRef();\n\n    handleClickOutside = event => {\n      if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\n        this.props.closeForm();\n      }\n    }\n  \n    componentDidMount() {\n      document.addEventListener('mousedown', this.handleClickOutside);\n    }\n  \n    componentWillUnmount() {\n      document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    componentDidUpdate(prevProps) {\n        //  when the user want to change the updateform without closing the previous one\n        if (prevProps.values) {\n            // the fact that the props contains values property indicates the form is used for update\n            const {name: prevName} = prevProps.values ;\n            if (this.props.values.name !== prevName) {\n                // update only if change or name\n                this.setState({name: this.props.values.name}) ;\n            }\n        }\n    }\n\n    handleChange = event => {\n        this.setState({name: event.target.value, isNameValidated:true})\n    }\n\n    handleSubmit =  async event => {\n        event.preventDefault()\n\n        const {formAction, handleUpdateView, closeForm} = this.props ;\n        const {name} = this.state ;\n\n        if (name.length < 3) {\n            this.setState({isNameValidated: false}) ;\n            return ;\n        }\n\n        try {\n            await formAction({name, isActive: true}) \n            handleUpdateView() ;\n            closeForm() ;\n        } catch(err) {\n            console.log(err) ;\n            closeForm() ;\n\n        }\n\n    }\n\n    render() {\n        const { formType, formName,closeForm } = this.props ;\n        const { name, isNameValidated}  = this.state ;\n        return (\n            <div className=\"shadow-pop-up\">\n                <div ref={this.wrapperRef} className=\"FormCreateUpdateContact\">\n                    <div>\n                        <h1>{formType}{formName}</h1>\n                        <div className=\"close-pop-up\" onClick={closeForm}>Annuler</div>\n                    </div>\n                    <form className=\"form-update-create\" onSubmit={this.handleSubmit}>\n                        <label htmlFor=\"name\">Name</label>\n                        <input \n                            className={!isNameValidated ?  \"error-input\" : \"\"}\n                            type=\"text\" \n                            name=\"name\" \n                            id=\"name\"\n                            value={name}\n                            onChange={this.handleChange}\n                        />\n                        {!isNameValidated && \n                            <div className=\"error-message name-error-contact\">\n                            <p>Le nom doit contenir au moins 3 caractères</p>\n                            </div> \n                        }\n                    <button>{formType}</button>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n","import React from \"react\";\nimport apiHandler from \"./../../apiHandler/apiHandler\";\n\nimport AllItems from \"./../../Components/CategoriesContacts/AllItems\";\nimport FormCreateUpdateCategory from \"./../../Components/CategoriesContacts/FormCreateUpdateCategory\";\nimport FormCreateUpdateContact from \"./../../Components/CategoriesContacts/FormCreateUpdateContact\";\n\n// Render a the catgory and contact management\n// The wiews contain two parts :\n//  - The display of all categories\n//  - the display of all contact type\n// those ewo parts arre render with the same component AllItems, use with diffeent props\n\nfunction SettingsCatCont() {\n  return (\n    <>\n      {/* Category lists */}\n      <AllItems\n        title={\"Catégories\"}\n        buttonName={\"Ajouter une catégorie\"}\n        getAllItmes={apiHandler.getCategories}\n        //  CRUD part\n        //  the list contains there own crud form used to update or crete a new item.\n        //  The form is different according the the item type, but is is the same for update and create.\n        //  So, we giva as props the form action for both case : here updateCatgery for the update part\n        //  and createCategort for the createPart. The user can't delete coompletely an item : it's only\n        //  a logic delete (isActive become false), so the delete part is managed by an update\n        FormCreateUpdateComponent={FormCreateUpdateCategory}\n        updateItem={apiHandler.updateCategory}\n        formCreateAction={apiHandler.createCategory}\n      />\n\n      {/* Contact lists */}\n      <AllItems\n        title={\"Type de contact\"}\n        buttonName={\"Ajouter un type de contact\"}\n        getAllItmes={apiHandler.getContactTypes}\n        FormCreateUpdateComponent={FormCreateUpdateContact}\n        updateItem={apiHandler.updateContactType}\n        formCreateAction={apiHandler.createContactType}\n      />\n    </>\n  );\n}\n\nexport default SettingsCatCont;\n","import React, { Component } from 'react';\nimport Calendar from 'react-calendar';\n\nexport class DataVizHeader extends Component {\n\n    render() {\n        const {calendarClicked, setStartDate, openCalendar, date, selectDayClicked, openFilterDay, weekDays, leaveSelectDay, title} = this.props;\n        \n        return (\n            <div className=\"Graph-header\">\n                <h2>{title}</h2>\n                <div className= \"filter-container\">\n                    {this.props.isCheckboxes &&\n                        <div className=\"select-day-container\">\n                            <p \n                            className={selectDayClicked ? \"selected-filter\" : \"\"}\n                            onClick={openFilterDay}>\n                                Choisir jours\n                            </p>\n                            {selectDayClicked &&\n                                <div \n                                    onMouseLeave={leaveSelectDay}\n                                    className=\"select-day-drop-down\">\n                                    <div>\n                                        <label htmlFor=\"Lundi\">Lundi</label>\n                                        <input type=\"checkbox\" name=\"Lundi\" id=\"Lundi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Lundi\")}/>\n                                    </div>\n                                    <div>\n                                        <label htmlFor=\"Mardi\">Mardi</label>\n                                        <input type=\"checkbox\" name=\"Mardi\" id=\"Mardi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Mardi\")}/>\n                                    </div>\n                                    <div>\n                                        <label htmlFor=\"Mercredi\">Mercredi</label>\n                                        <input type=\"checkbox\" name=\"Mercredi\" id=\"Mercredi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Mercredi\")}/>\n                                    </div>\n                                    <div>\n                                        <label htmlFor=\"Jeudi\">Jeudi</label>\n                                        <input type=\"checkbox\" name=\"Jeudi\" id=\"Jeudi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Jeudi\")}/>\n                                    </div>\n                                    <div>\n                                        <label htmlFor=\"Vendredi\">Vendredi</label>\n                                        <input type=\"checkbox\" name=\"Vendredi\" id=\"Vendredi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Vendredi\")}/>\n                                    </div>\n                                    <div>\n                                        <label htmlFor=\"Samedi\">Samedi</label>\n                                        <input type=\"checkbox\" name=\"Samedi\" id=\"Samedi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Samedi\")}/>\n                                    </div>\n                                </div>\n                            }\n                        </div>\n                    }\n                    <p \n                        className={calendarClicked ? \"selected-filter\" : \"\"}\n                        onClick={openCalendar}>Choisir dates</p>\n                    {calendarClicked &&\n                        <div onMouseLeave={leaveSelectDay}>\n                            <Calendar\n                                onChange={setStartDate}\n                                selectRange={true}\n                                value={date}\n                                className=\"small-calendar\"\n                            />\n                        </div>\n                    }\n\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default DataVizHeader\n","import React, { Component, createRef } from 'react';\nimport { PieChart, Pie, Tooltip, Cell, ResponsiveContainer, Legend } from \"recharts\";\nimport { exportComponentAsPNG } from 'react-component-export-image';\n\nimport './../../Styles/Calendar.css';\nimport './../../Styles/DataViz.css';\n\nimport apiHandler from '../../apiHandler/apiHandler';\n\nimport Header from './../../Components/DataVizHeader';\n\n\nconst RADIAN = Math.PI / 180;\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, name }) => {\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n\tconst x = cx + radius * Math.cos(-midAngle * RADIAN);\n\tconst y = cy + radius * Math.sin(-midAngle * RADIAN);\n\n\treturn (\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\n\t\t\t{`${(percent * 100).toFixed(0)}%`}\n\t\t</text>\n\t);\n};\n\n\nexport class CategoriesDistribution extends Component {\n\n\tstate = {\n\t\tdata: null,\n\t\tdate: [new Date(), new Date()],\n\t\tcalendarClicked: false,\n\t\tplotLegend: false\n\t}\n\n\tchartRef = createRef();\n\n\tcolors = [\"#ffb0b0\", \"#fac696\", \"#f7e68f\", \"#a7f2a5\", \"#96f2ef\", \"#b5c8ff\", \"#F5C7FF\", \"#C4C4C4\"];\n\n\tsetStartDate = date => {\n\t\tthis.setState({ date },\n\t\t\t() => apiHandler.repartitionByCategory({ dates: date })\n\t\t\t\t.then(res => this.setState({ data: res }))\n\t\t\t\t.catch(err => console.log(err))\n\t\t);\n\n\t\tthis.setState({ calendarClicked: false });\n\t};\n\n\tcomponentDidMount() {\n\t\tconst dateBegin = this.state.date[0].toISOString().substring(0, 10) + \" 00:00:00\";\n\t\tconst dateEnd = this.state.date[1].toISOString().substring(0, 10) + \" 23:59:59\";\n\t\tapiHandler.repartitionByCategory({ dates: [dateBegin, dateEnd] })\n\t\t\t.then(res => this.setState({ data: res }))\n\t\t\t.catch(err => console.log(err))\n\t};\n\n\topenCalendar = () => {\n\t\tthis.setState({ calendarClicked: !this.state.calendarClicked });\n\t};\n\n\tleaveSelectDay = () => {\n\t\tthis.setState({ calendarClicked: false });\n\t}\n\n\texportChart = () => {\n\t\tthis.setState({ plotLegend: true }, () => {\n\t\t\texportComponentAsPNG(this.chartRef);\n\t\t\tthis.setState({ plotLegend: false })\n\t\t})\n\n\t}\n\n\trender() {\n\t\tconst { date, data, calendarClicked, plotLegend } = this.state;\n\t\tconst dateBegin = date[0].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\n\t\tconst dateEnd = date[1].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\n\n\t\treturn (\n\t\t\t<div className=\"main-container\">\n\t\t\t\t<Header\n\t\t\t\t\tsetStartDate={this.setStartDate}\n\t\t\t\t\tcalendarClicked={calendarClicked}\n\t\t\t\t\topenCalendar={this.openCalendar}\n\t\t\t\t\tleaveSelectDay={this.leaveSelectDay}\n\t\t\t\t\tdate={date}\n\t\t\t\t\ttitle=\"répartitions des semaines\"\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"background-container\" ref={this.chartRef}>\n\t\t\t\t\t<div className=\"Graph-container\">\n\t\t\t\t\t\t<div className=\"date-range-container\">\n\t\t\t\t\t\t\t<p>du {dateBegin} au {dateEnd}</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height=\"100%\" >\n\t\t\t\t\t\t\t\t<PieChart >\n\t\t\t\t\t\t\t\t\t<Legend verticalAlign=\"top\" align=\"center\" height=\"30px\" />\n\t\t\t\t\t\t\t\t\t<Pie\n\t\t\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\t\t\tstartAngle={180}\n\t\t\t\t\t\t\t\t\t\tendAngle={0}\n\t\t\t\t\t\t\t\t\t\tdataKey=\"value\"\n\t\t\t\t\t\t\t\t\t\touterRadius=\"100%\"\n\t\t\t\t\t\t\t\t\t\tisAnimationActive={false}\n\t\t\t\t\t\t\t\t\t\tlabel={plotLegend && renderCustomizedLabel}\n\t\t\t\t\t\t\t\t\t\tlabelLine={false}\n\t\t\t\t\t\t\t\t\t\theight={20}\n\t\t\t\t\t\t\t\t\t\tlegendType={plotLegend ? \"square\" : \"none\"}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{data.map((entry, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<Cell key={`cell-${index}`} fill={this.colors[index % this.colors.length]} />\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Pie>\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontentStyle={{ borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border: \"none\", fontFamily: \"Asap\", fontSize: \"12px\", transform: \"translate(-60%, -100%)\" }}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PieChart>\n\t\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t\t<div className=\"bottom-container\">\n\n\t\t\t\t\t\t\t{data &&\n\t\t\t\t\t\t\t\t<div className=\"total\">\n\t\t\t\t\t\t\t\t\t<h2>total des visites</h2>\n\t\t\t\t\t\t\t\t\t<p>{data.reduce((acc, curr) => acc + curr.value, 0)}</p>\n\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t<div className=\"download-data\" onClick={this.exportChart} style={{ display: plotLegend ? 'none' : 'flex' }}>\n\t\t\t\t\t\t\t\t<p>Exporter en PNG</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n};\n\nexport default CategoriesDistribution\n","import React, { Component, PureComponent, createRef } from \"react\";\nimport { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer } from \"recharts\";\nimport { exportComponentAsPNG } from 'react-component-export-image';\n\nimport apiHandler from \"../../apiHandler/apiHandler\";\nimport Header from \"../../Components/DataVizHeader\";\n\nconst CustomizedDot = (props) => {\n\tconst { cx, cy } = props;\n\treturn (\n\t\t<svg x={cx - 20} y={cy - 20} width={80} height={80} fill=\"red\" viewBox=\"0 0 1024 1024\">\n\t\t\t<mask id=\"a\" width=\"503\" height=\"457\" x=\"17\" y=\"44\" maskUnits=\"userSpaceOnUse\">\n\t\t\t\t<path fill=\"#FFFFFF\" d=\"M60.832 87.832c58.443-58.443 153.197-58.443 211.64 0l196.645 196.645c6.248 6.248 6.248 16.379 0 22.627L280.104 496.117c-6.248 6.248-16.379 6.248-22.627 0L60.832 299.472c-58.443-58.443-58.443-153.197 0-211.64z\" />\n\t\t\t\t<path fill=\"#FFFFFF\" d=\"M475.758 87.832c-58.443-58.443-153.197-58.443-211.64 0L67.474 284.477c-6.249 6.248-6.249 16.379 0 22.627l189.012 189.013c6.249 6.248 16.379 6.248 22.628 0l196.644-196.645c58.443-58.443 58.443-153.197 0-211.64z\" />\n\t\t\t</mask>\n\t\t\t<g mask=\"url(#a)\">\n\t\t\t\t<path fill=\"#FFB0B0\" d=\"M17 44h503v66.143H17z\" />\n\t\t\t\t<path fill=\"#FAC696\" d=\"M17 110.143h503v66.143H17z\" />\n\t\t\t\t<path fill=\"#F7E68F\" d=\"M17 176.286h503v66.143H17z\" />\n\t\t\t\t<path fill=\"#A7F2A5\" d=\"M17 242.429h503v66.143H17z\" />\n\t\t\t\t<path fill=\"#96F2EF\" d=\"M17 308.571h503v66.143H17z\" />\n\t\t\t\t<path fill=\"#B5C8FF\" d=\"M17 374.714h503v66.143H17z\" />\n\t\t\t\t<path fill=\"#F5C7FF\" d=\"M17 440.857h503V507H17z\" />\n\t\t\t</g>\n\t\t</svg>\n\t);\n};\n\nclass CustomizedLabel extends PureComponent {\n\trender() {\n\t\tconst { x, y, stroke, value } = this.props;\n\n\t\treturn (\n\t\t\t<text x={x} y={y} dy={-20} fill={stroke} fontSize={10} textAnchor=\"middle\">\n\t\t\t\t{value}\n\t\t\t</text>\n\t\t);\n\t}\n}\n\nexport class HotDay extends Component {\n\tstate = {\n\t\tdata: null,\n\t\tdate: [new Date(new Date() - 31 * 24 * 3600 * 1000), new Date()],\n\t\t//  default view : 1 month of data\n\t\tcalendarClicked: false,\n\n\t\tplotLegend: false\n\t};\n\n\tchartRef = createRef();\n\n\tsetStartDate = (date) => {\n\t\tthis.setState({ date }, () =>\n\t\t\tapiHandler\n\t\t\t\t.repartitionByWeeks({ dates: date })\n\t\t\t\t.then((res) =>\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdata: res.agregatedData,\n\t\t\t\t\t\tdate: res.updatedDates.map((date) => new Date(date)),\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.catch((err) => console.log(err))\n\t\t);\n\t\tthis.setState({ calendarClicked: false });\n\t};\n\n\tcomponentDidMount() {\n\t\tconst { date } = this.state;\n\n\t\tconst dateBegin = new Date(\n\t\t\tDate.UTC(date[0].getFullYear(), date[0].getMonth(), date[0].getDate())\n\t\t);\n\t\tconst dateEnd = new Date(\n\t\t\tDate.UTC(date[1].getFullYear(), date[1].getMonth(), date[1].getDate(), 23, 59, 59)\n\t\t);\n\n\t\tapiHandler\n\t\t\t.repartitionByWeeks({ dates: [dateBegin, dateEnd] })\n\t\t\t.then((res) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tdata: res.agregatedData,\n\t\t\t\t\tdate: res.updatedDates.map((date) => new Date(date)),\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\topenCalendar = () => {\n\t\tthis.setState({ calendarClicked: !this.state.calendarClicked });\n\t};\n\n\tleaveSelectDay = () => {\n\t\tthis.setState({ calendarClicked: false });\n\t}\n\n\texportChart = () => {\n\t\tthis.setState({ plotLegend: true }, () => {\n\t\t\texportComponentAsPNG(this.chartRef);\n\t\t\tthis.setState({ plotLegend: false })\n\t\t})\n\n\t}\n\n\trender() {\n\t\tconst { date, data, calendarClicked, plotLegend } = this.state;\n\t\tconst dateBegin = date[0].toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"numeric\", day: \"numeric\" });\n\t\tconst dateEnd = date[1].toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"numeric\", day: \"numeric\" });\n\n\t\treturn (\n\t\t\t<div className=\"main-container\" >\n\t\t\t\t<Header\n\t\t\t\t\tsetStartDate={this.setStartDate}\n\t\t\t\t\tcalendarClicked={calendarClicked}\n\t\t\t\t\topenCalendar={this.openCalendar}\n\t\t\t\t\tleaveSelectDay={this.leaveSelectDay}\n\t\t\t\t\tdate={date}\n\t\t\t\t\ttitle=\"jours d'affluence\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"background-hot-day\" ref={this.chartRef}>\n\t\t\t\t\t<div className=\"date-range-container\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tdu {dateBegin} au {dateEnd}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"Graph-hot-day\">\n\t\t\t\t\t\t{this.state.data && (\n\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height=\"70%\" style={{ paddingTop: \"50px\" }}>\n\t\t\t\t\t\t\t\t<LineChart\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t\t\tdata={this.state.data}\n\t\t\t\t\t\t\t\t\tmargin={{ top: 5, right: 30, left: 20, bottom: 5 }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{/* <CartesianGrid strokeDasharray=\"3 3\" /> */}\n\t\t\t\t\t\t\t\t\t<XAxis\n\t\t\t\t\t\t\t\t\t\tdataKey=\"name\"\n\t\t\t\t\t\t\t\t\t\ttick={{ fill: \"#706C7A\", fontSize: 14 }}\n\t\t\t\t\t\t\t\t\t\ttickMargin={15}\n\t\t\t\t\t\t\t\t\t\tstroke=\"#706C7A\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<YAxis axisLine={false} tick={false} padding={{ top: 20 }} />\n\t\t\t\t\t\t\t\t\t<Tooltip cursor={false} contentStyle={{ borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border: \"none\", fontFamily: \"Asap\", fontSize: \"12px\", transform: \"translate(-60%, -100%)\" }} />\n\t\t\t\t\t\t\t\t\t{/* <Legend /> */}\n\t\t\t\t\t\t\t\t\t<Line\n\t\t\t\t\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\t\t\t\t\tdataKey=\"value\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"#B5C8FF\"\n\t\t\t\t\t\t\t\t\t\tdot={<CustomizedDot />}\n\t\t\t\t\t\t\t\t\t\tname=\"Visites\"\n\t\t\t\t\t\t\t\t\t\tactiveDot={false}\n\t\t\t\t\t\t\t\t\t\tlabel={plotLegend && <CustomizedLabel />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{/* <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" /> */}\n\t\t\t\t\t\t\t\t</LineChart>\n\t\t\t\t\t\t\t</ResponsiveContainer>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{data && (\n\t\t\t\t\t\t<div className=\"total-hot-day\">\n\t\t\t\t\t\t\t<h2>moyenne des visites en semaine</h2>\n\t\t\t\t\t\t\t<p>{data.reduce((acc, curr) => acc + curr.value, 0)}</p>\n\t\t\t\t\t\t\t<div className=\"download-data\" onClick={this.exportChart} style={{ display: plotLegend ? 'none' : 'flex' }}>\n\t\t\t\t\t\t\t\t<p>Exporter en PNG</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default HotDay;\n","import React, { Component, createRef } from 'react';\nimport { BarChart, Tooltip, ResponsiveContainer, XAxis, Bar, Cell } from \"recharts\";\nimport { exportComponentAsPNG } from 'react-component-export-image';\n\n\nimport './../../Styles/Calendar.css';\nimport './../../Styles/DataViz.css';\n\nimport apiHandler from '../../apiHandler/apiHandler';\n\nimport Header from './../../Components/DataVizHeader';\n\n\nexport class CategoriesDistribution extends Component {\n\n\tstate = {\n\t\tdata: null,\n\t\tdate: [new Date(new Date() - 31 * 24 * 3600 * 1000), new Date()],\n\t\t//  default view : 1 month of data\n\t\tweekDays: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\n\t\tcalendarClicked: false,\n\t\tselectDayClicked: false,\n\t\tisCheckboxes: true,\n\n\t\tplotLegend: false\n\t}\n\n\tcolors = [\"#ffb0b0\", \"#fac696\", \"#f7e68f\", \"#a7f2a5\", \"#96f2ef\", \"#b5c8ff\", \"#F5C7FF\", \"#C4C4C4\"];\n\n\tchartRef = createRef();\n\n\tsetStartDate = date => {\n\t\tconst { weekDays } = this.state;\n\n\t\tthis.setState({ date },\n\t\t\t() => apiHandler.hotTime({ dates: date, weekDays })\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.setState({ data: res });\n\t\t\t\t\tthis.setState({ calendarClicked: false });\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err))\n\t\t);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { date } = this.state;\n\n\t\tconst dateBegin = new Date(Date.UTC(date[0].getFullYear(), date[0].getMonth(), date[0].getDate()));\n\t\tconst dateEnd = new Date(Date.UTC(date[1].getFullYear(), date[1].getMonth(), date[1].getDate(), 23, 59, 59));\n\n\t\tapiHandler.hotTime({ dates: [dateBegin, dateEnd] })\n\t\t\t.then(res => this.setState({ data: res }))\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\thandleToggleDay = event => {\n\t\tconst { date } = this.state;\n\n\t\tconst dateBegin = new Date(Date.UTC(date[0].getFullYear(), date[0].getMonth(), date[0].getDate()));\n\t\tconst dateEnd = new Date(Date.UTC(date[1].getFullYear(), date[1].getMonth(), date[1].getDate(), 23, 59, 59));\n\n\t\tconst { weekDays } = this.state;\n\t\tconst day = event.target.name;\n\t\tconst index = weekDays.indexOf(day);\n\n\t\tif (index > 0) {\n\t\t\tweekDays.splice(index, 1);\n\t\t} else {\n\t\t\tweekDays.push(day);\n\t\t}\n\n\t\tapiHandler.hotTime({ dates: [dateBegin, dateEnd], weekDays })\n\t\t\t.then(res => this.setState({ data: res }))\n\t\t\t.catch(err => console.log(err))\n\n\t}\n\n\topenCalendar = () => {\n\t\tthis.setState({ calendarClicked: !this.state.calendarClicked });\n\t\tthis.setState({ selectDayClicked: false });\n\t};\n\n\topenFilterDay = () => {\n\t\tthis.setState({ selectDayClicked: !this.state.selectDayClicked });\n\t\tthis.setState({ calendarClicked: false });\n\t}\n\n\tleaveSelectDay = () => {\n\t\tthis.setState({ selectDayClicked: false, calendarClicked: false });\n\t}\n\n\texportChart = () => {\n\t\tthis.setState({ plotLegend: true }, () => {\n\t\t\texportComponentAsPNG(this.chartRef);\n\t\t\tthis.setState({ plotLegend: false })\n\t\t})\n\n\t}\n\n\trender() {\n\t\tconst { date, calendarClicked, isCheckboxes, selectDayClicked, weekDays, data, plotLegend } = this.state;\n\t\tconst dateBegin = date[0].toLocaleDateString(\"fr-FR\", {\n\t\t\tyear: \"numeric\",\n\t\t\tmonth: \"numeric\",\n\t\t\tday: \"numeric\",\n\t\t});\n\t\tconst dateEnd = date[1].toLocaleDateString(\"fr-FR\", {\n\t\t\tyear: \"numeric\",\n\t\t\tmonth: \"numeric\",\n\t\t\tday: \"numeric\",\n\t\t});\n\n\t\tlet name, visit;\n\t\tif (this.state.value) {\n\t\t\tname = this.state.status.name;\n\t\t\tvisit = this.state.status.visit;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"main-container\" >\n\t\t\t\t<Header\n\t\t\t\t\tsetStartDate={this.setStartDate}\n\t\t\t\t\tdate={date}\n\t\t\t\t\thandleToggleDay={this.handleToggleDay}\n\t\t\t\t\tweekDays={weekDays}\n\t\t\t\t\ttitle=\"heures d'affluence\"\n\n\t\t\t\t\t//Props passed for UI details\n\t\t\t\t\tcalendarClicked={calendarClicked}\n\t\t\t\t\tselectDayClicked={selectDayClicked}\n\t\t\t\t\topenCalendar={this.openCalendar}\n\t\t\t\t\topenFilterDay={this.openFilterDay}\n\t\t\t\t\tisCheckboxes={isCheckboxes}\n\t\t\t\t\tleaveSelectDay={this.leaveSelectDay}\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"background-container-hot-time\" ref={this.chartRef}>\n\n\t\t\t\t\t<div className=\"Graph-container\">\n\t\t\t\t\t\t<div className=\"date-range-container\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tdu {dateBegin} au {dateEnd}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.data\n\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height=\"50%\">\n\t\t\t\t\t\t\t\t\t<BarChart\n\t\t\t\t\t\t\t\t\t\tdata={this.state.data}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<XAxis\n\t\t\t\t\t\t\t\t\t\t\tdataKey=\"name\"\n\t\t\t\t\t\t\t\t\t\t\ttick={{ fill: \"#706C7A\", fontSize: 14 }}\n\t\t\t\t\t\t\t\t\t\t\ttickMargin={15}\n\t\t\t\t\t\t\t\t\t\t\t// change tick color\n\t\t\t\t\t\t\t\t\t\t\ttickLine={false}\n\t\t\t\t\t\t\t\t\t\t\t// don't plot the tick\n\t\t\t\t\t\t\t\t\t\t\taxisLine={false}\n\t\t\t\t\t\t\t\t\t\t// don't plot the axis\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\tcursor={false}\n\t\t\t\t\t\t\t\t\t\t\tcontentStyle={{ borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border: \"none\", fontFamily: \"Asap\", fontSize: \"12px\" }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Bar\n\t\t\t\t\t\t\t\t\t\t\tdataKey=\"value\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"#000000\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"Visites\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={plotLegend && { position: 'top' , fill: \"black\"}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{data.map((entry, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Cell key={`cell-${index}`} fill={this.colors[index % this.colors.length]} />\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Bar>\n\t\t\t\t\t\t\t\t\t</BarChart>\n\t\t\t\t\t\t\t\t</ResponsiveContainer>\n\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div className=\"download-data\" onClick={this.exportChart} style={{ display: plotLegend ? 'none' : 'flex' }}>\n\t\t\t\t\t\t\t<p>Exporter en PNG</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default CategoriesDistribution\n","import React, { Component } from 'react' ;\nimport { CSVLink } from \"react-csv\";\n\nimport './../../Styles/Calendar.css';\nimport './../../Styles/DataViz.css';\n\nimport apiHandler from '../../apiHandler/apiHandler';\n\nimport Header from './../../Components/DataVizHeader';\n\n\nconst flatData = (datas) => {\n    return(datas.map(data => {return {    \n        categoryName: data.category.name,\n        categoryIsActive: data.category.isActive ? \"actif\" : \"archivé\",\n        contactTypeName: data.contactType.name,\n        contactTypeIsActive: data.contactType.isActive ? \"actif\" : \"archivé\",\n        date: data.date\n    }}\n    )\n)}\n\nexport class CategoriesDistribution extends Component {\n\n    state = {\n        data: null ,\n        date: [new Date(), new Date()],\n        calendarClicked: false,\n        isLoading: true\n    }\n\n    setStartDate = date => {\n\n        this.setState({date, isLoading:true},\n            () => apiHandler.getVisitsDateRange({dates: date})\n            .then(res =>  this.setState({data: flatData(res), isLoading:false}))\n            .catch(err => console.log(err))\n            ) ;\n            \n        this.setState({calendarClicked: false});\n    };\n\n    leaveSelectDay = () => {\n        this.setState({selectDayClicked: false, calendarClicked: false});\n    }\n\n    componentDidMount() {\n        const dateBegin = this.state.date[0].toISOString().substring(0,10) + \" 00:00:00\" ;\n        const dateEnd = this.state.date[1].toISOString().substring(0,10) + \" 23:59:59\" ;\n        apiHandler.getVisitsDateRange({dates: [dateBegin, dateEnd]})\n            .then(res =>   this.setState({data: flatData(res), isLoading:false}))\n            .catch(err => console.log(err))\n        \n    };\n\n    openCalendar = () => {\n        this.setState({calendarClicked: !this.state.calendarClicked});\n    };\n \n    render() {\n        const {date, data, calendarClicked, isLoading} = this.state ;\n        const dateBegin = date[0].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\n        const dateEnd = date[1].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\n\n        return (\n            <div className=\"main-container\">\n                <Header \n                    setStartDate={this.setStartDate} \n                    calendarClicked={calendarClicked}\n                    openCalendar={this.openCalendar}\n                    date={date}\n                    title=\"export\"\n                    leaveSelectDay={this.leaveSelectDay}\n                />\n                \n                <div className=\"export\">\n                        <h1>Récupérer la liste des visites du</h1>\n                        <p>{dateBegin} au {dateEnd}</p>\n                        {data \n                            &&\n                            <>\n                                {!isLoading &&\n                                    <CSVLink data={this.state.data} className=\"download-data\" separator={\";\"}>Télécharger les données</CSVLink>\n                                }\n                                {isLoading &&\n                                    <div className=\"download-data\">\n                                        <p>Chargement des données</p>\n                                    </div>\n                                }\n                            </>\n                        }\n                        </div>\n                </div>\n        )\n    }\n};\n\nexport default CategoriesDistribution\n","import React, { Component } from \"react\";\nimport \"../Styles/NotFound.css\";\n\nexport class NotFound extends Component {\n  render() {\n    return (\n      <div id=\"not-found\">\n        <h1>404 bitch !</h1>\n        <img\n          src=\"https://media.tenor.co/images/68a83f039448147d2d56c179e43bb474/raw\"\n          alt=\"RuPaul GIF\"\n        />\n    </div>\n    );\n  }\n}\n\nexport default NotFound;\n","import \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport ProtectedRoute from \"./Components/ProtectedRoute\";\n\nimport SettingsUsers from \"./Views/Settings/SettingsUsers\";\nimport HeaderFlag from './Components/GlobalElements/HeaderFlag';\n\nimport Home from './Views/Home';\n\nimport NavDashboard from './Components/GlobalElements/DashboardNavBar';\n\nimport History from './Views/Visits/History';\nimport CreateVisit from './Views/Visits/CreateVisit';\nimport UpdateVisit from './Views/Visits/UpdateVisit';\nimport SettingsCatCont from './Views/Settings/SettingsCatCont';\nimport CategoriesDistribution from './Views/Insights/CategoriesDistribution';\nimport HotDay from './Views/Insights/HotDay';\nimport HotTime from './Views/Insights/HotTime';\nimport RetrieveData from './Views/Insights/RetrieveData'\n\nimport NotFound from './Views/NotFound';\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n\n      <HeaderFlag/>\n\n      <div id=\"left-side\">\n        <NavDashboard/>\n      </div>\n\n      <div id=\"right-side\">\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          {/* à protéger */}\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/categories-repartition\" component={CategoriesDistribution}/>\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/jour-affluence\" component={HotDay}/>\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/heure-affluence\" component={HotTime}/>\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/exporter\" component={RetrieveData}/>\n\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/new-visit\" component={CreateVisit}/>\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/update-visit\" component={UpdateVisit}/>\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/history\" component={History}/>\n          \n          <ProtectedRoute protectionLevel=\"admin\" exact path=\"/parameters\" component={SettingsCatCont}/>\n\n          <ProtectedRoute protectionLevel=\"admin\" exact path=\"/users\" component={SettingsUsers} />\n\n          <ProtectedRoute protectionLevel=\"volunteer\" path=\"*\" component={NotFound} />\n        </Switch>\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { Component } from \"react\";\nimport apiHandler from \"./../../apiHandler/apiHandler\";\nimport { UserContext } from \"./UserContext\";\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  setUser = (user) => {\n    this.setState({ user, isLoggedIn: true });\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n    };\n\n    return (\n      <UserContext.Provider value={authValues}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport {BrowserRouter} from 'react-router-dom';\nimport UserProvider from \"./Components/Auth/UserProvider\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <UserProvider>\n        <App />\n      </UserProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}