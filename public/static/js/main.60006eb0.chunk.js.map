{"version":3,"sources":["Components/Auth/UserContext.jsx","Components/Auth/withUser.jsx","Components/ProtectedRoute.jsx","Assets/trash-icon.svg","Assets/edit-icon.svg","apiHandler/apiHandler.js","Components/UsersSettings/CardAdminsVolunteer.jsx","Components/UsersSettings/Admins.jsx","Components/UsersSettings/Volunteer.jsx","Components/UsersSettings/FormCreateUpdateAdmin.jsx","Assets/plus-icon.svg","Views/Settings/SettingsUsers.jsx","Components/GlobalElements/HeaderFlag.jsx","Assets/logo.svg","Components/FormLogIn.jsx","Views/Home.jsx","Assets/exit-icon.svg","Assets/drop-down-downarrow.svg","Assets/drop-down-uparrow.svg","Components/GlobalElements/DashboardNavBar.jsx","Components/Visits/VisitCardInfo.jsx","Views/Visits/History.jsx","Assets/info-icon.svg","Components/Visits/CategoryCard.jsx","Assets/purple-plus-icon.svg","Assets/minus-icon.svg","Assets/wait-icon.svg","Assets/check-icon.svg","Components/Visits/CreateVisitForm.jsx","Components/GlobalElements/FormHeader.jsx","Views/Visits/CreateVisit.jsx","Views/Visits/UpdateVisit.jsx","Assets/archive-icon.svg","Assets/on-off-icon.svg","Components/CategoriesContacts/CardCatCont.jsx","Components/CategoriesContacts/AllItems.jsx","Components/CategoriesContacts/FormCreateUpdateCategory.jsx","Components/CategoriesContacts/FormCreateUpdateContact.jsx","Views/Settings/SettingsCatCont.jsx","Components/DataVizHeader.jsx","Views/Insights/CategoriesDistribution.jsx","Views/Insights/HotDay.jsx","Views/Insights/HotTime.jsx","Views/Insights/RetrieveData.jsx","Views/NotFound.jsx","App.jsx","reportWebVitals.js","Components/Auth/UserProvider.jsx","index.js"],"names":["UserContext","React","createContext","withUser","ComponentToPassUserContextTo","props","Consumer","context","Component","component","protectionLevel","rest","isLoading","isLoggedIn","user","isAdmin","render","to","service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","signin","userInfo","post","then","res","catch","get","logout","getUsers","getOneUser","itemId","createUser","newUser","deleteUser","userId","delete","updateUser","updatedInfo","patch","getVisits","createVisit","visitInfo","updateVisit","visitId","deleteVisit","getCategories","createCategory","catefgoryInfo","updateCategory","categoryId","getContactTypes","createContactType","contactTypeInfo","updateContactType","contactTypeId","repartitionByCategory","hotTime","repartitionByWeeks","getVisitsDateRange","state","isHovering","handleDelete","api","getAllUsers","console","log","handleMouseEnterCard","setState","handleMouseLeaveCard","onMouseEnter","this","onMouseLeave","className","users","login","_id","onClick","handlePopup","src","editIcon","alt","binIcon","Admins","map","Volunteer","FormCreateUpdateAdmin","value","password","isLoginLengthValidated","isLoginFree","isPasswordValidated","handleChange","event","key","target","name","handleSubmit","a","preventDefault","newValue","find","length","formAction","action","onSubmit","htmlFor","onChange","type","id","placeholder","toUpperCase","substr","SettingsUsers","isShownCreate","isShownUpdate","handlePopupCreate","handlePopupUpdate","handleHidePopup","plusIcon","HeaderFlag","location","pathname","flag","withRouter","FormLogIn","username","onLoggedIn","isValidSignin","updateValidSignin","logo","Home","signInStyle","flagStyle","helloStyle","handleLoggedin","apiHandler","setUser","display","transform","animation","setTimeout","history","push","prevProps","style","DashboardNavBar","rapportClicked","handleOpen","handleClose","handleLogout","removeUser","exact","activeClassName","arrowUp","arrowDown","JulieCardInfo","visit","onDelete","date","Date","hour","getHours","minutes","getMinutes","category","contactType","deleteIcon","History","allVisits","filterDeletedVisit","filter","err","CategoryCard","isHoveringCardCat","isHoveringInfoIcon","handleMouseEnter","itemHovered","handleMouseLeave","handleSelectItem","description","infoIcon","ChooseCategory","nbOfPerson","allCategories","allContactTypes","visitToUpdate","isUpdateVisit","handleDecrease","handleIncrease","item","handleChangeItem","i","activeCategories","cat","isActive","activeContacts","cont","dateFormat","toLocaleDateString","year","month","day","checkedIcon","minusIcon","waitIcon","contact","FormHeader","handleCancel","title","CreateVisit","CreateVisitForm","UpdateVisit","CardItemWidget","onOffItem","handleUpdateView","updateItem","handleOpenUpdate","archiveIcon","onOffIcone","AllItems","items","showCreateForm","showUpdateForm","getAllItmes","handleOpenCreate","handleCloseCreate","handleCloseUpdate","activeitems","inactiveitems","buttonName","FormCreateUpdateComponent","formCreateAction","titleFormat","CardCatCont","formName","closeForm","values","FormCreateUpdateCategory","isNameValidated","isdescriptionValidated","prevName","FormCreateUpdateContact","SettingsCatCont","DataVizHeader","calendarClicked","setStartDate","openCalendar","selectDayClicked","openFilterDay","weekDays","leaveSelectDay","isCheckboxes","handleToggleDay","defaultChecked","includes","selectRange","CategoriesDistribution","colors","dates","dateBegin","toISOString","substring","dateEnd","ResponsiveContainer","width","height","PieChart","Pie","startAngle","endAngle","dataKey","outerRadius","entry","index","Cell","fill","Tooltip","contentStyle","borderRadius","boxShadow","border","fontFamily","fontSize","reduce","acc","curr","CustomizedDot","cx","cy","x","y","viewBox","maskUnits","d","mask","HotDay","agregatedData","updatedDates","UTC","getFullYear","getMonth","getDate","paddingTop","LineChart","margin","top","right","left","bottom","XAxis","tick","tickMargin","stroke","YAxis","axisLine","padding","cursor","Line","dot","activeDot","indexOf","splice","status","BarChart","tickLine","Bar","flatData","datas","categoryName","categoryIsActive","contactTypeName","contactTypeIsActive","NotFound","App","path","HotTime","RetrieveData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","UserProvider","authValues","Provider","children","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.60006eb0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const UserContext = React.createContext();","import React from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\n// This is what we call a HOC (Higher Order Component).\r\n// It takes a component as a parameter and it returns a component.\r\n// This technique can be used to abstract some logic in order to pass\r\n// some data down as props to the component sent as parameter.\r\n\r\n// The use case of this one is to make it easy to access the user context to\r\n// any component in our app.\r\n\r\n/* ******************************************************** */\r\n\r\n//  How to use:  =>\r\n// YourComponent.jsx\r\n// import React from \"react\"\r\n// function or class YourComponent()\r\n//\r\n// ... your implementation.\r\n//\r\n// export default withUser(YourComponent)\r\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\r\n\r\n// This component is not exported as default, so you have to import it\r\n// this way :\r\n// import { withUser } from \"../relative/path/to/this/file\"\r\n\r\nexport const withUser = (ComponentToPassUserContextTo) => {\r\n  return function (props) {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {(context) => (\r\n          <ComponentToPassUserContextTo {...props} context={context} />\r\n        )}\r\n      </UserContext.Consumer>\r\n    );\r\n  };\r\n};","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { withUser } from \"./Auth/withUser\";\r\n\r\nconst ProtectedRoute = ({ component: Component, context,protectionLevel, ...rest }) => {\r\n  if (context.isLoading) {\r\n    return null;\r\n  } else if (context.isLoggedIn) {\r\n    if (protectionLevel === \"volunteer\" || context.user.isAdmin) {\r\n      return <Route {...rest} render={(props) => <Component {...props} />} />;\r\n    } else {\r\n      return <Redirect to=\"/new-visit\" />;\r\n    }\r\n  } else {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n};\r\n\r\nexport default withUser(ProtectedRoute);","export default __webpack_public_path__ + \"static/media/trash-icon.adbd3cc3.svg\";","export default __webpack_public_path__ + \"static/media/edit-icon.0d2adfe8.svg\";","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n  baseURL: process.env.REACT_APP_BACKEND_URL,\r\n  withCredentials: true\r\n});\r\n\r\nfunction errorHandler(error) {\r\n  if (error.response.data) {\r\n    throw error;\r\n  }\r\n  throw error;\r\n}\r\n\r\nexport default {\r\n  service,\r\n\r\n  // ---AUTH--- \r\n  signin(userInfo) {\r\n    return service\r\n      .post(\"/api/auth/signin\", userInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  isLoggedIn() {\r\n    return service\r\n      .get(\"/api/auth/isLoggedIn\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  logout() {\r\n    return service\r\n      .get(\"/api/auth/logout\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n  },\r\n\r\n  // ---USER CRUD---\r\n  getUsers() {\r\n    return service\r\n    .get(\"/api/user\")\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  getOneUser(itemId) {\r\n    return service\r\n    .get(`/api/user${itemId}`)\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  createUser(newUser) {\r\n    return service\r\n    .post(\"/api/user/create\", newUser)\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  deleteUser(userId) {\r\n    return service\r\n    .delete(`/api/user/delete/${userId}`)\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  updateUser(userId, updatedInfo) {\r\n    return service\r\n    .patch(`/api/user/edit/${userId}`, updatedInfo)\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  // ---VISITS--- \r\n  getVisits() {\r\n    return service\r\n    .get(\"/api/visits\")\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  createVisit(visitInfo) {\r\n    return service\r\n    .post(\"/api/visits\", visitInfo)\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  updateVisit(visitId, visitInfo) {\r\n    return service\r\n    .patch(`/api/visits/${visitId}`, visitInfo)\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  deleteVisit(visitId) {\r\n    return service\r\n    .delete(`/api/visits/${visitId}`)\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  // ---CATEGORIES--- \r\n  getCategories() {\r\n    return service\r\n    .get(\"/api/categories\")\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  createCategory(catefgoryInfo) {\r\n    return service\r\n    .post(\"/api/categories\", catefgoryInfo)\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n  updateCategory(categoryId, catefgoryInfo) {\r\n    return service\r\n    .patch(`/api/categories/${categoryId}`, catefgoryInfo)\r\n    .then((res) => res.data)\r\n    .catch(errorHandler);\r\n  },\r\n\r\n    // ---CONTACT TYPE--- \r\n    getContactTypes() {\r\n      return service\r\n      .get(\"/api/contactTypes\")\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n    },\r\n  \r\n    createContactType(contactTypeInfo) {\r\n      return service\r\n      .post(\"/api/contactTypes\", contactTypeInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n    },\r\n  \r\n    updateContactType(contactTypeId, contactTypeInfo) {\r\n      return service\r\n      .patch(`/api/contactTypes/${contactTypeId}`, contactTypeInfo)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n    },\r\n\r\n    //  Insights\r\n    repartitionByCategory(data) {\r\n      return service\r\n      .post(\"/api/insight/get-category-repartition\", data)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n    },\r\n\r\n    hotTime(data) {\r\n      return service\r\n      .post(\"/api/insight/get-popular-hours\", data)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n    },\r\n\r\n    repartitionByWeeks(data) {\r\n      return service\r\n      .post(\"/api/insight/get-popular-days\", data)\r\n      .then((res) => res.data)\r\n      .catch(errorHandler);\r\n    },\r\n\r\n    getVisitsDateRange(data) {\r\n      return service\r\n        .post(\"api/insight/visits-list\", data)\r\n        .then((res) => res.data)\r\n        .catch(errorHandler);\r\n    }\r\n\r\n\r\n};\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport binIcon from \"../../Assets/trash-icon.svg\";\r\nimport editIcon from \"../../Assets/edit-icon.svg\";\r\nimport { withUser } from \"../Auth/withUser\";\r\nimport api from \"../../apiHandler/apiHandler\";\r\nimport \"../../Styles/CardAdminsVolunteer.css\";\r\n\r\nclass CardAdminsVolunteer extends Component {\r\n  state = {\r\n    isHovering: false,\r\n  };\r\n\r\n  handleDelete = (userId) => {\r\n    api\r\n      .deleteUser(userId)\r\n      .then((response) => {\r\n        this.props.getAllUsers();\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  handleMouseEnterCard = () => {\r\n    this.setState({ isHovering: true });\r\n  };\r\n\r\n  handleMouseLeaveCard = () => {\r\n    this.setState({ isHovering: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        onMouseEnter={this.handleMouseEnterCard}\r\n        onMouseLeave={this.handleMouseLeaveCard}\r\n        className=\"CardContainerAdminsVolunteer\"\r\n      >\r\n        {this.props.users.isAdmin && (\r\n          <div>\r\n            <div className=\"card-info-admins-volunteer\">\r\n              <div>Admin</div>\r\n              <p>{this.props.users.login}</p>\r\n            </div>\r\n            {this.state.isHovering && (\r\n              <aside>\r\n                {!this.props.context.isLoading &&\r\n                  this.props.context.user._id === this.props.users._id && (\r\n                    <img\r\n                      onClick={this.props.handlePopup}\r\n                      src={editIcon}\r\n                      alt=\"edit-icon\"\r\n                    />\r\n                  )}\r\n                {!this.props.context.isLoading &&\r\n                  this.props.context.user._id !== this.props.users._id && (\r\n                    <img\r\n                      onClick={() => this.handleDelete(this.props.users._id)}\r\n                      src={binIcon}\r\n                      alt=\"trash-icon\"\r\n                    />\r\n                  )}\r\n              </aside>\r\n            )}\r\n          </div>\r\n        )}\r\n        {!this.props.users.isAdmin && (\r\n          <div>\r\n            <div className=\"card-info-admins-volunteer\">\r\n              <div>Bénévole</div>\r\n              <p>{this.props.users.login}</p>\r\n            </div>\r\n            {this.state.isHovering && (\r\n              <aside onClick={this.props.handlePopup}>\r\n                <img src={editIcon} alt=\"edit-icon\" />\r\n              </aside>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(CardAdminsVolunteer);\r\n","import React, { Component } from \"react\";\r\nimport Card from \"./CardAdminsVolunteer\";\r\n\r\nclass Admins extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.users && \r\n        this.props.users.map(user => {\r\n          return (\r\n            user.isAdmin \r\n              && \r\n            <Card \r\n              key={user._id} \r\n                users={user} \r\n                handlePopup = {() => this.props.handlePopup(user)}\r\n                getAllUsers={this.props.getAllUsers}            \r\n              />)\r\n        })}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admins;\r\n","import React, { Component } from \"react\";\r\nimport Card from \"./CardAdminsVolunteer\";\r\n\r\nclass Volunteer extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.users &&\r\n        this.props.users.map(user => {\r\n          return (\r\n            !user.isAdmin \r\n              && \r\n            <Card \r\n              key={user._id} \r\n              users={user} \r\n              handlePopup = {() => this.props.handlePopup(user)}\r\n              getAllUsers={this.props.getAllUsers}            \r\n            />)\r\n        })}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Volunteer;\r\n","import React, { Component } from \"react\";\r\nimport \"../../Styles/FormCreateCatCont.css\";\r\n\r\nclass FormCreateUpdateAdmin extends Component {\r\n  state = {\r\n    login: this.props.value ? this.props.value.login : \"\",\r\n    password: \"\",\r\n    isAdmin: this.props.value ? this.props.value.isAdmin : true,\r\n\r\n    //  input validation\r\n    isLoginLengthValidated: true,\r\n    isLoginFree: true,\r\n    isPasswordValidated: true,\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const key = event.target.name;\r\n    this.setState({ [key]: event.target.value, isLoginLengthValidated:true,  isPasswordValidated: true});\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const { login, password, isAdmin } = this.state;\r\n    const { users } = this.props;\r\n\r\n    try {\r\n      const newValue = { login, isAdmin };\r\n\r\n      //  input validation\r\n      let isLoginLengthValidated = true,\r\n        isLoginFree = true,\r\n        isPasswordValidated = true;\r\n\r\n      if (\r\n        users.find(\r\n          (user) =>\r\n            user.login === login && user.login !== this.props.value?.login\r\n        )\r\n      ) {\r\n        isLoginFree = false;\r\n      }\r\n\r\n      if (login.length < 3) {\r\n        isLoginLengthValidated = false;\r\n      }\r\n\r\n      if (password.length < 3) {\r\n        if (password.length !== 0 || !this.props.value) {\r\n          // in case of update (when this.props.value is not empty ), the input may be \"\" which mean that the user keep the same password\r\n          isPasswordValidated = false;\r\n        }\r\n      }\r\n\r\n      if (!isLoginLengthValidated || !isLoginFree || !isPasswordValidated) {\r\n        this.setState({\r\n          isLoginLengthValidated,\r\n          isLoginFree,\r\n          isPasswordValidated,\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (password !== \"\") {\r\n        newValue.password = password;\r\n      }\r\n\r\n      await this.props.formAction(newValue);\r\n      this.props.getAllUsers();\r\n      this.props.handlePopup();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      isLoginLengthValidated,\r\n      isLoginFree,\r\n      isPasswordValidated,\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className=\"shadow-pop-up\">\r\n        <div className=\"FormCreateUpdateContact\">\r\n          <div>\r\n            <h1>{this.props.action} un·e utilisateur·ice</h1>\r\n            <div className=\"close-pop-up\" onClick={this.props.handlePopup}>Annuler</div>\r\n          </div>\r\n          <form onSubmit={this.handleSubmit} className=\"form-update-create\">\r\n            <label htmlFor=\"login\">nom utilisateur.ice</label>\r\n            <input\r\n              className={!isLoginLengthValidated || !isLoginFree ?  \"error-input\" : \"\"}\r\n              onChange={this.handleChange}\r\n              value={this.state.login}\r\n              type=\"text\"\r\n              name=\"login\"\r\n              id=\"login\"\r\n            />\r\n            {!isLoginLengthValidated && (\r\n              <div className=\"error-message user-name-error\">\r\n                <p>Le login doit contenir au moins 3 caractères.</p>\r\n              </div>\r\n            )}\r\n            {!isLoginFree && (\r\n              <div className=\"error-message user-name-error\">\r\n                <p>Ce nom d’utilisateur est déjà pris.</p>\r\n              </div>\r\n            )} \r\n\r\n            <label htmlFor=\"password\">mot de passe</label>\r\n            <input\r\n              className={!isPasswordValidated || !isLoginFree ?  \"error-input\" : \"\"}\r\n              onChange={this.handleChange}\r\n              value={this.props.password}\r\n              type=\"password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              placeholder={this.props.action === \"ajouter\" ? '' : '●●●●●●'}\r\n            />\r\n            {!isPasswordValidated && (\r\n              <div className=\"error-message name-error-contact\">\r\n                <p>Le mot de passe doit contenir au moins 3 caractères.</p>\r\n              </div>\r\n            )}\r\n            <button>{this.props.action[0].toUpperCase() + this.props.action.substr(1)}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormCreateUpdateAdmin;\r\n","export default __webpack_public_path__ + \"static/media/plus-icon.cc463e15.svg\";","import React, { Component } from \"react\";\r\n\r\nimport Admins from \"../../Components/UsersSettings/Admins\";\r\nimport Volunteer from \"../../Components/UsersSettings/Volunteer\";\r\nimport api from \"../../apiHandler/apiHandler\";\r\nimport FormUser from \"../../Components/UsersSettings/FormCreateUpdateAdmin\";\r\n\r\nimport \"../../Styles/SettingsUsers.css\";\r\nimport plusIcon from \"../../Assets/plus-icon.svg\";\r\n\r\nclass SettingsUsers extends Component {\r\n  state = {\r\n    users: null,\r\n    isShownCreate: false,\r\n    isShownUpdate: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    api\r\n      .getUsers()\r\n      .then((response) => this.setState({ users: response }))\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  getAllUsers = () => {\r\n    api\r\n      .getUsers()\r\n      .then((response) => this.setState({ users: response }))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  handlePopupCreate = () => {\r\n    this.setState({\r\n      isShownCreate: !this.state.isShownCreate,\r\n      isShownUpdate: null,\r\n    });\r\n  };\r\n\r\n  handlePopupUpdate = (user) => {\r\n    this.setState({ isShownUpdate: user, isShownCreate: false });\r\n  };\r\n\r\n  handleHidePopup = () => {\r\n    this.setState({ isShownUpdate: null, isShownCreate: false });\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div id=\"settings-users\">\r\n        <div id=\"header-users\">\r\n          <h1>utilisateur·ices</h1>\r\n          <button onClick={this.handlePopupCreate}>\r\n            <img src={plusIcon} alt=\"plus-icon\" />\r\n            <p>Ajouter un·e utilisateur·ice</p>\r\n          </button>\r\n        </div>\r\n        <div className=\"users-container\">\r\n          <Admins\r\n            users={this.state.users}\r\n            handlePopup={this.handlePopupUpdate}\r\n            getAllUsers={this.getAllUsers}\r\n          />\r\n        </div>\r\n        <div className=\"users-container\">\r\n          <Volunteer\r\n            users={this.state.users}\r\n            handlePopup={this.handlePopupUpdate}\r\n            getAllUsers={this.getAllUsers}\r\n          />\r\n        </div>\r\n        {this.state.isShownCreate && (\r\n          <FormUser\r\n            formAction={api.createUser}\r\n            handlePopup={this.handleHidePopup}\r\n            getAllUsers={this.getAllUsers}\r\n            users={this.state.users}\r\n            action=\"ajouter\"\r\n          />\r\n        )}\r\n        {this.state.isShownUpdate && (\r\n          <FormUser\r\n            formAction={(value) =>\r\n              api.updateUser(this.state.isShownUpdate._id, value)\r\n            }\r\n            handlePopup={this.handleHidePopup}\r\n            getAllUsers={this.getAllUsers}\r\n            value={this.state.isShownUpdate}\r\n            users={this.state.users}\r\n            action=\"modifier\"\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SettingsUsers;\r\n","import React, { Component } from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nexport class HeaderFlag extends Component {\r\n    render() {\r\n        const flags = [\"red\", \"orange\", \"yellow\", \"green\", \"blue\", \"purple\"];\r\n        return (\r\n            <>\r\n                {this.props.location.pathname !== '/' &&\r\n                    <div id=\"header-flag\">\r\n                        \r\n                        {flags.map(flag => \r\n                            <div key={flag} id={flag}></div>\r\n                        )} \r\n                        \r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(HeaderFlag);\r\n","export default __webpack_public_path__ + \"static/media/logo.8ab0c1bf.svg\";","import React, { Component } from 'react';\r\nimport './../Styles/LogIn.css';\r\nimport logo from './../Assets/logo.svg';\r\n\r\nclass FormLogIn extends Component {\r\n    state = {\r\n        username : \"\",\r\n        password : \"\"\r\n    }\r\n\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const {username: login, password} = this.state ;        \r\n\r\n        try {\r\n            await this.props.onLoggedIn({login, password});\r\n        } catch(err) {\r\n            console.log(err)\r\n        }\r\n    } \r\n\r\n    render() {\r\n\r\n        const { isValidSignin, updateValidSignin } = this.props ;\r\n\r\n        return (\r\n            <div className=\"form-container\">\r\n                <img src={logo} alt=\"\"/>\r\n                <form className=\"form-signin\" onSubmit={this.handleSubmit}>\r\n                    <label htmlFor=\"username\">Nom d'utilisateur</label>\r\n                    <input \r\n                        className={!isValidSignin ?  \"error-input\" : \"\"}\r\n                        onChange={(event) => {\r\n                            this.setState({username : event.target.value})\r\n                            updateValidSignin()\r\n                        }}\r\n                        value={this.state.username}\r\n                        type=\"text\" \r\n                        id=\"username\" \r\n                        name=\"username\"\r\n                    />\r\n\r\n                    <label htmlFor=\"password\">Mot de passe</label>\r\n                    <input \r\n                        className={!isValidSignin ?  \"error-input\" : \"\"}\r\n                        onChange={(event) => {\r\n                            this.setState({password : event.target.value})\r\n                            updateValidSignin()\r\n                        }}\r\n                        value={this.state.password}\r\n                        type=\"password\" \r\n                        id=\"password\" \r\n                        name=\"password \"\r\n                    />\r\n                    {   !isValidSignin \r\n                            && \r\n                        <div className=\"error-message\"><p>Mauvais mot de passe et/ou nom d'utilisateur</p></div>\r\n                    }\r\n                    <button >Connexion</button>\r\n                </form> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FormLogIn\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { withUser } from \"./../Components/Auth/withUser\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport FormLogIn from './../Components/FormLogIn';\r\nimport './../Styles/LogIn.css';\r\n\r\nimport apiHandler from './../apiHandler/apiHandler'\r\n\r\nclass Home extends React.Component {\r\n    state = {\r\n        signInStyle : null,\r\n        flagStyle : null,\r\n        helloStyle : null,\r\n\r\n        isValidSignin: true\r\n    };\r\n\r\n    componentDidUpdate(prevProps) {\r\n\r\n        if (prevProps.context.isLoading !== this.props.context.isLoading) {\r\n            if (this.props.context.isLoggedIn) {\r\n                this.props.history.push(\"/new-visit\")\r\n            } else  {\r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        signInStyle: {\r\n                            display : 'block',\r\n                            animation : 'signinsweep 0.9s ease-out'\r\n                        }\r\n                    })\r\n                }, 900);\r\n        \r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        helloStyle : {\r\n                            display : 'block',\r\n                        }\r\n                    })\r\n                }, 700);\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(!this.props.context.isLoggedIn & !this.props.context.isLoading) {\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    signInStyle: {\r\n                        display : 'block',\r\n                        animation : 'signinsweep 0.9s ease-out'\r\n                    }\r\n                })\r\n            }, 900);\r\n    \r\n            setTimeout(() => {\r\n                this.setState({\r\n                    helloStyle : {\r\n                        display : 'block',\r\n                    }\r\n                })\r\n            }, 700);\r\n        }\r\n    }\r\n\r\n    handleLoggedin = (user) => {\r\n        //changer de route après le timeOut\r\n        apiHandler\r\n            .signin(user)\r\n            .then((data) => {\r\n                this.props.context.setUser(data);\r\n\r\n                this.setState({\r\n                    signInStyle: {\r\n                        display : 'block',\r\n                        transform : 'translateY(-100%)',\r\n                        animation : 'outro-sweep 1s ease-out'\r\n                    },\r\n                    helloStyle : {\r\n                        display : 'none',\r\n                    }\r\n                })\r\n        \r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        flagStyle : {\r\n                            display : 'block',\r\n                            transform : 'translateY(calc(-100% + 6px))',\r\n                            animation : 'outro-sweep 0.5s ease-out'\r\n                        }\r\n                    })\r\n        \r\n                }, 700);\r\n        \r\n                setTimeout(() => this.props.history.push(\"/history\"), 1500) ;\r\n            })\r\n            .catch((error) => {\r\n                this.setState({isValidSignin: false})\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    updateValidSignin = () => {\r\n        this.setState({isValidSignin: true})\r\n    }\r\n\r\n    render() {\r\n\r\n        const flags = [\"red\", \"orange\", \"yellow\", \"green\", \"blue\", \"purple\"];\r\n        const {isValidSignin} = this.state ;\r\n\r\n        return (\r\n            <div>\r\n                <div id=\"signin\" style={this.state.signInStyle}>\r\n                    <FormLogIn \r\n                        onLoggedIn={this.handleLoggedin} \r\n                        isValidSignin={isValidSignin}\r\n                        updateValidSignin={this.updateValidSignin}\r\n                    />\r\n                </div>\r\n\r\n                <div id=\"flag-container\">\r\n                    <p style={this.state.helloStyle}>bonjour</p>\r\n                    {flags.map(flag => \r\n                        <div key={flag} id={flag} style={this.state.flagStyle}></div>\r\n                    )} \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(withUser(Home))\r\n","export default __webpack_public_path__ + \"static/media/exit-icon.ee9ecdda.svg\";","export default __webpack_public_path__ + \"static/media/drop-down-downarrow.55d8cc96.svg\";","export default __webpack_public_path__ + \"static/media/drop-down-uparrow.3d642aba.svg\";","import React, { Component } from 'react';\r\nimport {withRouter, NavLink} from 'react-router-dom';\r\nimport { withUser } from \"./../../Components/Auth/withUser\";\r\nimport apiHandler from './../../apiHandler/apiHandler'\r\n\r\nimport './../../Styles/NavDashboard.css';\r\nimport logo from './../../Assets/logo.svg';\r\nimport logout from './../../Assets/exit-icon.svg';\r\nimport arrowDown from './../../Assets/drop-down-downarrow.svg';\r\nimport arrowUp from './../../Assets/drop-down-uparrow.svg';\r\n\r\nclass DashboardNavBar extends Component {\r\n\r\n    state = {\r\n        rapportClicked: false\r\n    }\r\n\r\n    handleOpen = () => {\r\n        this.setState({rapportClicked: !this.state.rapportClicked});\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({rapportClicked: false});\r\n    }\r\n\r\n    handleLogout = () => {\r\n        const {context} = this.props ;\r\n\r\n        apiHandler\r\n          .logout()\r\n          .then(() => {\r\n            context.removeUser();\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { context } = this.props ;\r\n        const { rapportClicked } = this.state\r\n\r\n        return (\r\n            <>\r\n            {this.props.location.pathname !== '/' &&\r\n                <div id=\"DashboardNavBar\">\r\n                    <img className=\"logo\" src={logo} alt=\"\"/>\r\n\r\n                    <NavLink \r\n                        exact\r\n                        to=\"/history\"\r\n                        className=\"link\" \r\n                        activeClassName=\"selected\"\r\n                        onClick={this.handleClose}\r\n                    >\r\n                        Visites\r\n                    </NavLink>\r\n                    <div className=\"rapport-container\">\r\n                        <div \r\n                            className=\"rapport\" \r\n                            onClick={this.handleOpen}\r\n                        >\r\n                            <p>Rapport</p>\r\n                            <img src={rapportClicked ? arrowUp : arrowDown} alt=\"\"/>\r\n                        </div>\r\n                        {rapportClicked &&\r\n                            <div \r\n                                onMouseLeave={this.handleClose}\r\n                                className=\"drop-down-rapport\"\r\n                            >\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/categories-repartition\"\r\n                                    className=\"sublink\" \r\n                                    activeClassName=\"selected\"\r\n                                >\r\n                                    Répartition des visites\r\n                                </NavLink>\r\n\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/jour-affluence\"\r\n                                    className=\"sublink\"\r\n                                    activeClassName=\"selected\" \r\n                                >\r\n                                    Jours d'affluence\r\n                                </NavLink>\r\n\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/heure-affluence\"\r\n                                    className=\"sublink\" \r\n                                    activeClassName=\"selected\"\r\n                                >\r\n                                    Heures d'affluence\r\n                                </NavLink>\r\n\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/exporter\"\r\n                                    className=\"sublink\" \r\n                                    activeClassName=\"selected\"\r\n                                >\r\n                                    Exporter\r\n                                </NavLink>\r\n                            </div>\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    {\r\n                        !context.isLoading && context.isLoggedIn && context.user.isAdmin &&\r\n                        <NavLink \r\n                            exact\r\n                            to=\"/parameters\"\r\n                            className=\"link\" \r\n                            activeClassName=\"selected\"\r\n                            onClick={this.handleClose}\r\n                        >\r\n                        Paramètres\r\n                        </NavLink>\r\n                    }\r\n\r\n                    {\r\n                        !context.isLoading && context.isLoggedIn && context.user.isAdmin &&\r\n                        <NavLink \r\n                            exact\r\n                            to=\"/users\"\r\n                            className=\"link\" \r\n                            activeClassName=\"selected\"\r\n                            onClick={this.handleClose}\r\n                        >\r\n                        Utilisateur·ices\r\n                        </NavLink>\r\n                    }\r\n\r\n\r\n                    <div className=\"logout\" onClick={this.handleLogout}>\r\n                        <img src={logout} alt=\"\"/>\r\n                        <p>Déconnexion</p>\r\n                    </div>\r\n                </div>\r\n            }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withUser(withRouter(DashboardNavBar))\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './../../Styles/VisitCardInfo.css';\r\nimport editIcon from './../../Assets/edit-icon.svg';\r\nimport deleteIcon from './../../Assets/trash-icon.svg';\r\n\r\nclass JulieCardInfo extends Component {\r\n    state = {\r\n        isHovering: false\r\n    }\r\n\r\n    handleMouseEnterCard = () => {\r\n        this.setState({isHovering: true})\r\n      }\r\n    \r\n    handleMouseLeaveCard = () => {\r\n        this.setState({isHovering: false})\r\n    }\r\n\r\n    render() {\r\n        const {isHovering} = this.state;\r\n        const {visit, onDelete} = this.props;\r\n\r\n        const date = new Date(visit.date);\r\n        const hour = date.getHours();\r\n        const minutes = date.getMinutes();\r\n    \r\n        return (\r\n            <div \r\n                onMouseEnter={this.handleMouseEnterCard}\r\n                onMouseLeave={this.handleMouseLeaveCard}\r\n                className=\"CardContainer\"\r\n            >\r\n                <div className=\"card-info\">\r\n                    <p>{`${hour}h${minutes}`}</p>\r\n                    <div>{visit.category.name}</div>\r\n                    <div>{visit.contactType.name}</div>\r\n                </div>\r\n                {isHovering &&\r\n                    <aside>\r\n                        <Link to={{\r\n                            pathname:\"/update-visit\",\r\n                            state: {\r\n                                visitId: visit\r\n                            }\r\n                        }}>\r\n                            <img src={editIcon} alt=\"\"/>\r\n                        </Link>\r\n                        <img onClick={() => onDelete(visit._id)} src={deleteIcon} alt=\"\"/>\r\n                    </aside>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default JulieCardInfo\r\n","import React, { Component } from 'react';\r\nimport apiHandler from './../../apiHandler/apiHandler';\r\nimport CardInfo from '../../Components/Visits/VisitCardInfo';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport './../../Styles/History.css';\r\nimport plusIcon from './../../Assets/plus-icon.svg';\r\n\r\nclass History extends Component {\r\n    state = {\r\n        allVisits: null\r\n    } \r\n\r\n    componentDidMount() {\r\n        apiHandler\r\n        .getVisits()\r\n        .then(res => {\r\n            this.setState({allVisits : res});\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    onDelete = (visitId) => {\r\n        apiHandler\r\n        .deleteVisit(visitId)\r\n        .then(res => {\r\n            const filterDeletedVisit = this.state.allVisits\r\n            .filter(visit => visit._id !== res._id);\r\n            \r\n            this.setState({allVisits : filterDeletedVisit});\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {allVisits} = this.state;\r\n\r\n        return (\r\n            <div id=\"History\">\r\n                <div id=\"header\">\r\n                    <p>dernières visites</p>\r\n                    <Link\r\n                        exact=\"true\"\r\n                        to='/new-visit'\r\n                        className=\"link\"\r\n                    >\r\n                        <button>\r\n                            <img src={plusIcon} alt=\"\"/>\r\n                            <p>Ajouter une visite </p>\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n                {allVisits && allVisits.map(visit =>\r\n                    <CardInfo \r\n                        key={visit._id}\r\n                        visit={visit}\r\n                        onDelete={this.onDelete}\r\n                    />\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default History\r\n","export default __webpack_public_path__ + \"static/media/info-icon.d796eed5.svg\";","import React, { Component } from 'react';\r\nimport infoIcon from './../../Assets/info-icon.svg';\r\n\r\nexport class CategoryCard extends Component {\r\n    state = {\r\n        isHoveringCardCat: false,\r\n        isHoveringInfoIcon: false\r\n    } \r\n\r\n    handleMouseEnter = (itemHovered) => {\r\n        this.setState({[itemHovered]: true});\r\n    } \r\n\r\n    handleMouseLeave = (itemHovered) => {\r\n        this.setState({[itemHovered]: false});\r\n    } \r\n\r\n    render() {\r\n        const {category, handleSelectItem} = this.props;\r\n        const {isHoveringInfoIcon, isHoveringCardCat} = this.state;\r\n\r\n        return (\r\n            <div \r\n                onMouseEnter={() => this.handleMouseEnter('isHoveringCardCat')}\r\n                onMouseLeave={() => this.handleMouseLeave('isHoveringCardCat')}\r\n                onClick={() => handleSelectItem(category._id, category.name, \"category\")}\r\n                className=\"cat-cont\"\r\n            >\r\n\r\n                {isHoveringInfoIcon &&\r\n                    <div className=\"info-toolbox\">\r\n                        <h3>{category.description}</h3> \r\n                        <div></div>\r\n                    </div>\r\n                }\r\n\r\n                <p>{category.name}</p> \r\n                {isHoveringCardCat &&\r\n                    <img \r\n                        onMouseEnter={() => this.handleMouseEnter('isHoveringInfoIcon')}\r\n                        onMouseLeave={() => this.handleMouseLeave('isHoveringInfoIcon')}\r\n                        src={infoIcon} alt=\"\"\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CategoryCard\r\n","export default __webpack_public_path__ + \"static/media/purple-plus-icon.e544e5d6.svg\";","export default __webpack_public_path__ + \"static/media/minus-icon.6e71681a.svg\";","export default __webpack_public_path__ + \"static/media/wait-icon.bf1db0d1.svg\";","export default __webpack_public_path__ + \"static/media/check-icon.36bd77f3.svg\";","import React, { Component } from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\nimport CategoryCard from './CategoryCard';\r\n\r\nimport './../../Styles/CreateVisit.css';\r\nimport plusIcon from './../../Assets/purple-plus-icon.svg';\r\nimport minusIcon from './../../Assets/minus-icon.svg';\r\nimport editIcon from './../../Assets/edit-icon.svg';\r\nimport waitIcon from './../../Assets/wait-icon.svg';\r\nimport checkedIcon from './../../Assets/check-icon.svg';\r\n\r\nexport class ChooseCategory extends Component {\r\n    state = {\r\n        nbOfPerson: 1,\r\n        date: new Date(),\r\n\r\n        category: null,\r\n        contactType: null,\r\n\r\n        allCategories: null,\r\n        allContactTypes: null,\r\n\r\n        visitToUpdate: null,\r\n        isUpdateVisit: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        apiHandler\r\n        .getCategories()\r\n        .then(res => {\r\n            const activeCategories = res.filter(cat => cat.isActive);\r\n            this.setState({allCategories : activeCategories})\r\n        })\r\n        .catch(err => console.log(err));\r\n\r\n        apiHandler\r\n        .getContactTypes()\r\n        .then(res => {\r\n            const activeContacts = res.filter(cont => cont.isActive);\r\n            this.setState({allContactTypes : activeContacts});\r\n        })\r\n        .catch(err => console.log(err));\r\n\r\n        if(this.props.visitId) {\r\n            this.setState({visitToUpdate : this.props.visitId, isUpdateVisit: true})\r\n        }\r\n    }\r\n\r\n    handleDecrease = () => {\r\n        if(this.state.nbOfPerson > 1) \r\n            this.setState({nbOfPerson : this.state.nbOfPerson - 1});\r\n    }\r\n\r\n    handleIncrease = () => {\r\n        this.setState({nbOfPerson : this.state.nbOfPerson + 1});\r\n    }\r\n\r\n    handleSelectItem = (id, name, item) => {\r\n        this.setState({[item] : {id, name}});\r\n    }\r\n\r\n    handleChangeItem = (item) => {\r\n        this.setState({[item] : null, isUpdateVisit:false});\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const {nbOfPerson, category, contactType, visitToUpdate} = this.state;\r\n\r\n        if(visitToUpdate) {\r\n\r\n            apiHandler\r\n            .updateVisit(visitToUpdate._id, {\r\n                date: visitToUpdate.date,\r\n                category: category.id,\r\n                contactType: contactType.id\r\n            })\r\n            .then(() => this.props.history.push('/history'))\r\n            .catch(error => console.log(error))\r\n\r\n        } else {\r\n\r\n            for(let i = 0; i < nbOfPerson; i++) {\r\n                apiHandler\r\n                .createVisit({\r\n                    category : category.id,\r\n                    contactType : contactType.id\r\n                })\r\n                .then(() => {\r\n                    if(i === nbOfPerson - 1) {\r\n                        this.props.history.push('/history')\r\n                    }\r\n                })\r\n                .catch(error => console.log(error));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {allCategories, category, allContactTypes, contactType, date, nbOfPerson, visitToUpdate, isUpdateVisit} = this.state\r\n\r\n        const dateFormat = date.toLocaleDateString('fr-FR', { year: 'numeric', month: 'long', day: 'numeric' });\r\n        \r\n        return (\r\n            <form \r\n                onSubmit={this.handleSubmit}\r\n                id=\"CreateForm\"\r\n            >\r\n\r\n                {!visitToUpdate &&\r\n                    <div id=\"first-form\">\r\n                        <div id=\"nb-of-person\">\r\n                            <div className=\"input-header\">\r\n                                <h2>nombre de personnes</h2>\r\n                                {nbOfPerson && \r\n                                    <img src={checkedIcon} alt=\"\"/>\r\n                                }\r\n                            </div>\r\n                            <div className=\"input-content\">\r\n                                <img \r\n                                    onClick={this.handleDecrease}\r\n                                    src={minusIcon} alt=\"\"\r\n                                />\r\n                                <p className=\"validated-input\">\r\n                                    {nbOfPerson} personne{nbOfPerson > 1 ? 's' : ''}\r\n                                </p>\r\n                                <img \r\n                                onClick={this.handleIncrease} \r\n                                src={plusIcon} alt=\"\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"date\">\r\n                            <div className=\"input-header\">\r\n                                <h2>date</h2>\r\n                                {date && \r\n                                    <img src={checkedIcon} alt=\"\"/>\r\n                                }\r\n                            </div>\r\n                            <div className=\"input-content\">\r\n                                <p className=\"validated-input\">{dateFormat}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"input-header\">\r\n                    <h2>service du centre demandé</h2>\r\n                    {category && \r\n                        <img src={checkedIcon} alt=\"\"/>\r\n                    }\r\n                </div>\r\n                <div className=\"cat-cont-container\">\r\n                    {!isUpdateVisit && \r\n                    !category &&\r\n                    allCategories &&\r\n                        allCategories.map(category => \r\n                            <CategoryCard key={category._id} category={category} handleSelectItem={this.handleSelectItem}/>\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n                {category &&\r\n                    <div \r\n                        onClick={() => this.handleChangeItem('category')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{category.name}</p>\r\n                        <img src={editIcon} alt=\"\"/>\r\n                    </div>\r\n                }\r\n\r\n                {isUpdateVisit &&\r\n                    <div \r\n                        onClick={() => this.handleChangeItem('category')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{visitToUpdate.category.name}</p>\r\n                        <img src={editIcon} alt=\"\"/>\r\n                    </div>\r\n                }           \r\n\r\n                <div className=\"input-header\">\r\n                    <h2>mode de contact utilisé</h2>\r\n                    {!category &&\r\n                        <img \r\n                            src={waitIcon} \r\n                            alt=\"\"\r\n                        />\r\n                    }\r\n                    {contactType &&\r\n                    category &&\r\n                        <img src={checkedIcon} alt=\"\"/>\r\n                    }\r\n                </div>\r\n                <div className=\"cat-cont-container\">\r\n                    {category && \r\n                    !contactType &&\r\n                    allContactTypes &&\r\n                        allContactTypes.map(contact => \r\n                            <div \r\n                                onClick={() => this.handleSelectItem(contact._id, contact.name, \"contactType\")}\r\n                                key={contact._id}\r\n                                className=\"cat-cont\"\r\n                            >\r\n                                <p>{contact.name}</p>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n                {category && contactType &&\r\n                    <div \r\n                        onClick={() => this.handleChangeItem('contactType')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{contactType.name}</p>\r\n                        <img src={editIcon} alt=\"\"/>\r\n                    </div>\r\n                }   \r\n\r\n                {isUpdateVisit &&\r\n                    <div \r\n                        onClick={() => this.handleChangeItem('contactType')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{visitToUpdate.contactType.name}</p>\r\n                        <img src={editIcon} alt=\"\"/>\r\n                    </div>\r\n                }   \r\n\r\n                {category && contactType &&\r\n                    <button>Enregistrer</button>\r\n                }\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ChooseCategory);\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './../../Styles/FormHeader.css';\r\n\r\n\r\nclass FormHeader extends Component {\r\n    handleCancel = () => {\r\n        this.props.history.push('/history');\r\n    } \r\n\r\n    render() {\r\n        return (\r\n            <div className=\"FormHeader\">\r\n                <h1>{this.props.title}</h1>\r\n                <button onClick={this.handleCancel}> <p> Annuler </p> </button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(FormHeader);\r\n","import React, { Component } from 'react';\r\nimport CreateVisitForm from '../../Components/Visits/CreateVisitForm';\r\nimport FormHeader from '../../Components/GlobalElements/FormHeader';\r\n\r\n\r\nclass CreateVisit extends Component {\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <>\r\n                <FormHeader title=\"ajouter une nouvelle visite\"/>\r\n                <CreateVisitForm />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreateVisit\r\n","import React, { Component } from 'react';\r\nimport UpdateVisitForm from './../../Components/Visits/CreateVisitForm';\r\nimport FormHeader from '../../Components/GlobalElements/FormHeader';\r\n\r\nclass UpdateVisit extends Component {\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                <FormHeader title=\"modifier une visite\"/>\r\n                {this.props.location.state.visitId &&\r\n                 <UpdateVisitForm visitId={this.props.location.state.visitId}/>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UpdateVisit\r\n","export default __webpack_public_path__ + \"static/media/archive-icon.3b723ef2.svg\";","export default __webpack_public_path__ + \"static/media/on-off-icon.3d90d127.svg\";","import React, { Component } from \"react\";\r\nimport archiveIcon from \"./../../Assets/archive-icon.svg\";\r\nimport editIcon from \"./../../Assets/edit-icon.svg\";\r\nimport onOffIcone from \"./../../Assets/on-off-icon.svg\";\r\n\r\nimport './../../Styles/CatContCard.css';\r\n\r\nexport class CardItemWidget extends Component {\r\n  state = {\r\n    isHovering: false\r\n  }\r\n\r\n  onOffItem = async () => {\r\n    const { _id, isActive, name, description } = this.props.item;\r\n    const { handleUpdateView } = this.props;\r\n    console.log(_id);\r\n    try {\r\n      await this.props.updateItem(_id, {\r\n        name,\r\n        description,\r\n        isActive: !isActive,\r\n      });\r\n      handleUpdateView();\r\n    } catch (err) {\r\n      console.log(err);\r\n      handleUpdateView();\r\n    }\r\n  };\r\n\r\n  handleMouseEnterCard = () => {\r\n    this.setState({isHovering: true})\r\n  }\r\n\r\n  handleMouseLeaveCard = () => {\r\n    this.setState({isHovering: false})\r\n  }\r\n\r\n  render() {\r\n    const {item, handleOpenUpdate} = this.props;\r\n\r\n    return (\r\n      <div \r\n        onMouseEnter={this.handleMouseEnterCard}\r\n        onMouseLeave={this.handleMouseLeaveCard}\r\n        className=\"CardContainerItem\"\r\n      >\r\n        <div className=\"left-container\">\r\n          <div className=\"status-container\">\r\n            <p>\r\n              {item.isActive ? \"actif\" : \"archivé\"}\r\n            </p>\r\n          </div>\r\n          <p>{item.name}</p>\r\n        </div>\r\n        {this.state.isHovering &&\r\n        item.isActive && (\r\n          <aside>\r\n            <img\r\n              src={editIcon}\r\n              alt=\"edit-icone\"\r\n              onClick={handleOpenUpdate}\r\n            />\r\n            <img\r\n              src={archiveIcon}\r\n              alt=\"archive-icon\"\r\n              onClick={this.onOffItem}\r\n            />\r\n          </aside>\r\n        )}\r\n        {this.state.isHovering &&\r\n        !item.isActive && (\r\n          <aside>\r\n            <img src={onOffIcone} alt=\"archive-icon\" onClick={this.onOffItem} />\r\n          </aside>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CardItemWidget;\r\n","import React, { Component } from \"react\";\r\nimport CardCatCont from \"./CardCatCont\";\r\n\r\nimport \"../../Styles/SettingsCatCont.css\";\r\nimport plusIcon from \"../../Assets/plus-icon.svg\";\r\n\r\nexport class AllItems extends Component {\r\n  state = {\r\n    items: null,\r\n    showCreateForm: false,\r\n    //  when click to add an item : become true and show the form popup by guardian\r\n    showUpdateForm: null,\r\n    //  When click to update an item : become become the full object (and so become truthy)\r\n    //  and the update form apears by guardian. Then one can use the content of the state to fill the form\r\n    //  with actual values\r\n  };\r\n\r\n  async componentDidMount() {\r\n    // Get the total list of items when the component is monted\r\n    try {\r\n      const items = await this.props.getAllItmes();\r\n      this.setState({ items });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  handleUpdateView = async () => {\r\n    // Use to update the list of items when an update has been done\r\n    try {\r\n      const items = await this.props.getAllItmes();\r\n      this.setState({ items });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  handleOpenCreate = () => {\r\n    this.setState({ showUpdateForm: null, showCreateForm: true });\r\n  };\r\n\r\n  handleOpenUpdate = (item) => {\r\n    this.setState({ showCreateForm: false, showUpdateForm: item });\r\n  };\r\n\r\n  handleCloseCreate = () => {\r\n    this.setState({ showCreateForm: false });\r\n  };\r\n\r\n  handleCloseUpdate = () => {\r\n    this.setState({ showUpdateForm: null });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      title,\r\n      buttonName,\r\n      updateItem,\r\n      FormCreateUpdateComponent,\r\n      formCreateAction,\r\n    } = this.props;\r\n    const { items, showCreateForm, showUpdateForm } = this.state;\r\n    \r\n    const titleFormat = title === \"Type de contact\" ? \"un type de contact\" : \"une catégorie\"\r\n\r\n    let activeitems, inactiveitems;\r\n\r\n    if (items) {\r\n      activeitems = items.filter((item) => item.isActive);\r\n      inactiveitems = items.filter((item) => !item.isActive);\r\n    }\r\n\r\n    return (\r\n      <div id=\"item-collection-container\"> \r\n        <div id=\"header-cat-cont\">\r\n          <p>{title}</p>\r\n          <div onClick={this.handleOpenCreate}>\r\n            <img src={plusIcon} alt=\"plus-icon\" />\r\n            <p>{buttonName}</p>\r\n          </div>\r\n        </div>\r\n        {items && (\r\n          <div id=\"items-container\">\r\n            <div className=\"dashboard-cat-cont\">\r\n              {activeitems.map((item) => (\r\n                <CardCatCont\r\n                  item={item}\r\n                  updateItem={updateItem}\r\n                  handleOpenUpdate={() => this.handleOpenUpdate(item)}\r\n                  handleUpdateView={this.handleUpdateView}\r\n                  // To update views after deleting an item for instance\r\n                  key={item._id}\r\n                />\r\n              ))}\r\n            </div>\r\n            <div className=\"dashboard-cat-cont\">\r\n              {inactiveitems.map((item) => (\r\n                <CardCatCont\r\n                  item={item}\r\n                  updateItem={updateItem}\r\n                  handleOpenUpdate={() => this.handleOpenUpdate(item)}\r\n                  handleUpdateView={this.handleUpdateView}\r\n                  key={item._id}\r\n                />\r\n              ))\r\n            }\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {showCreateForm && (\r\n          // appears only the the state is true\r\n          <FormCreateUpdateComponent\r\n            formName={\"Ajouter \" + titleFormat}\r\n            formAction={formCreateAction}\r\n            handleUpdateView={this.handleUpdateView}\r\n            closeForm={this.handleCloseCreate}\r\n          />\r\n        )}\r\n\r\n        {showUpdateForm && (\r\n          // appears only the the state is not empty/ here the state is a full item so that one can use\r\n          // its informations to fill the form\r\n          <FormCreateUpdateComponent\r\n            formName={\"Modifier \" + titleFormat}\r\n            formAction={(value) =>\r\n              updateItem(this.state.showUpdateForm._id, value)\r\n            }\r\n            handleUpdateView={this.handleUpdateView}\r\n            closeForm={this.handleCloseUpdate}\r\n            values={this.state.showUpdateForm}\r\n            // current value of the item\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AllItems;\r\n","import React, { Component } from \"react\";\r\nimport \"./../../Styles/FormCreateCatCont.css\";\r\n\r\nexport default class FormCreateUpdateCategory extends Component {\r\n    state={\r\n        name: this.props.values ? this.props.values.name: \"\",\r\n        description: this.props.values ? this.props.values.description: \"\",\r\n\r\n        isNameValidated: true,\r\n        isdescriptionValidated : true\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        //  when the user want to change the upfateform without closing the previous one\r\n        if (prevProps.values) {\r\n            const {name: prevName} = prevProps.values\r\n            if (this.props.values.name !== prevName) {\r\n                this.setState({name: this.props.values.name}) ;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit =  async event => {\r\n        event.preventDefault()\r\n\r\n        const {formAction, handleUpdateView, closeForm} = this.props ;\r\n        const {name, description} = this.state ;\r\n\r\n        if (name.length < 3 || description.length < 3) {\r\n            this.setState({isNameValidated: name.length >= 3, isdescriptionValidated: description.length >= 3}) ;\r\n            return ;\r\n        }\r\n\r\n        try {\r\n            await formAction({...this.state, isActive: true}) ;\r\n            handleUpdateView() ;\r\n            closeForm() ;\r\n        } catch(err) {\r\n            console.log(err) ;\r\n            closeForm() ;\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value, isNameValidated: true, isdescriptionValidated: true});\r\n    };\r\n\r\n\r\n  render() {\r\n    const { formName, closeForm } = this.props;\r\n    const {name, description, isNameValidated, isdescriptionValidated} = this.state ;\r\n\r\n    return (\r\n      <div className=\"shadow-pop-up\">\r\n        <div className=\"FormCreateUpdateContact\">\r\n            <div>\r\n                <h1>{formName}</h1>\r\n                <div className=\"close-pop-up\" onClick={closeForm}>\r\n                Annuler\r\n                </div>\r\n            </div>\r\n          <form onSubmit={this.handleSubmit} className=\"form-update-create\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input\r\n              className={!isNameValidated ?  \"error-input\" : \"\"}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              id=\"name\"\r\n              value={name}\r\n              onChange={this.handleChange}\r\n            />\r\n            {!isNameValidated && \r\n              <div className=\"error-message name-error\">\r\n                <p>Le nom doit contenir au moins 3 caractères</p>\r\n              </div> \r\n            }\r\n\r\n            <label htmlFor=\"description\">Description</label>\r\n            <textarea\r\n              className={!isdescriptionValidated ?  \"error-input\" : \"\"}\r\n              name=\"description\"\r\n              id=\"description\"\r\n              value={description}\r\n              onChange={this.handleChange}\r\n            />\r\n            {!isdescriptionValidated && \r\n              <div className=\"error-message description-error\">\r\n                <p>La description doit contenir au moins 3 caractères</p>\r\n              </div>\r\n            }\r\n            <button>Submit</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './../../Styles/FormCreateCatCont.css';\r\n\r\nexport default class FormCreateUpdateContact extends Component {\r\n\r\n    state={\r\n        name: this.props.values ? this.props.values.name: \"\",\r\n        //  if update type, this.props.values is given and the initial values of the item are given\r\n        isNameValidated: true \r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        //  when the user want to change the updateform without closing the previous one\r\n        if (prevProps.values) {\r\n            // the fact that the props contains values property indicates the form is used for update\r\n            const {name: prevName} = prevProps.values ;\r\n            if (this.props.values.name !== prevName) {\r\n                // update only if change or name\r\n                this.setState({name: this.props.values.name}) ;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = event => {\r\n        this.setState({name: event.target.value, isNameValidated:true})\r\n    }\r\n\r\n    handleSubmit =  async event => {\r\n        event.preventDefault()\r\n\r\n        const {formAction, handleUpdateView, closeForm} = this.props ;\r\n        const {name} = this.state ;\r\n\r\n        if (name.length < 3) {\r\n            this.setState({isNameValidated: false}) ;\r\n            return ;\r\n        }\r\n\r\n        try {\r\n            await formAction({name, isActive: true}) \r\n            handleUpdateView() ;\r\n            closeForm() ;\r\n        } catch(err) {\r\n            console.log(err) ;\r\n            closeForm() ;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const { formName,closeForm } = this.props ;\r\n        const { name, isNameValidated}  = this.state ;\r\n        return (\r\n            <div className=\"shadow-pop-up\">\r\n                <div className=\"FormCreateUpdateContact\">\r\n                    <div>\r\n                        <h1>{formName}</h1>\r\n                        <div className=\"close-pop-up\" onClick={closeForm}>Annuler</div>\r\n                    </div>\r\n                    <form className=\"form-update-create\" onSubmit={this.handleSubmit}>\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input \r\n                            className={!isNameValidated ?  \"error-input\" : \"\"}\r\n                            type=\"text\" \r\n                            name=\"name\" \r\n                            id=\"name\"\r\n                            value={name}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        {!isNameValidated && \r\n                            <div className=\"error-message name-error-contact\">\r\n                            <p>Le nom doit contenir au moins 3 caractères</p>\r\n                            </div> \r\n                        }\r\n                    <button>Submit</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport apiHandler from \"./../../apiHandler/apiHandler\";\r\n\r\nimport AllItems from \"./../../Components/CategoriesContacts/AllItems\";\r\nimport FormCreateUpdateCategory from \"./../../Components/CategoriesContacts/FormCreateUpdateCategory\";\r\nimport FormCreateUpdateContact from \"./../../Components/CategoriesContacts/FormCreateUpdateContact\";\r\n\r\n// Render a the catgory and contact management\r\n// The wiews contain two parts :\r\n//  - The display of all categories\r\n//  - the display of all contact type\r\n// those ewo parts arre render with the same component AllItems, use with diffeent props\r\n\r\nfunction SettingsCatCont() {\r\n  return (\r\n    <>\r\n      {/* Category lists */}\r\n      <AllItems\r\n        title={\"Catégories\"}\r\n        buttonName={\"Ajouter une catégorie\"}\r\n        getAllItmes={apiHandler.getCategories}\r\n        //  CRUD part\r\n        //  the list contains there own crud form used to update or crete a new item.\r\n        //  The form is different according the the item type, but is is the same for update and create.\r\n        //  So, we giva as props the form action for both case : here updateCatgery for the update part\r\n        //  and createCategort for the createPart. The user can't delete coompletely an item : it's only\r\n        //  a logic delete (isActive become false), so the delete part is managed by an update\r\n        FormCreateUpdateComponent={FormCreateUpdateCategory}\r\n        updateItem={apiHandler.updateCategory}\r\n        formCreateAction={apiHandler.createCategory}\r\n      />\r\n\r\n      {/* Contact lists */}\r\n      <AllItems\r\n        title={\"Type de contact\"}\r\n        buttonName={\"Ajouter un type de contact\"}\r\n        getAllItmes={apiHandler.getContactTypes}\r\n        FormCreateUpdateComponent={FormCreateUpdateContact}\r\n        updateItem={apiHandler.updateContactType}\r\n        formCreateAction={apiHandler.createContactType}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SettingsCatCont;\r\n","import React, { Component } from 'react';\r\nimport Calendar from 'react-calendar';\r\n\r\nexport class DataVizHeader extends Component {\r\n\r\n    render() {\r\n        const {calendarClicked, setStartDate, openCalendar, date, selectDayClicked, openFilterDay, weekDays, leaveSelectDay, title} = this.props;\r\n        \r\n        return (\r\n            <div className=\"Graph-header\">\r\n                <h2>{title}</h2>\r\n                <div className= \"filter-container\">\r\n                    {this.props.isCheckboxes &&\r\n                        <div className=\"select-day-container\">\r\n                            <p \r\n                            className={selectDayClicked ? \"selected-filter\" : \"\"}\r\n                            onClick={openFilterDay}>\r\n                                Choisir jours\r\n                            </p>\r\n                            {selectDayClicked &&\r\n                                <div \r\n                                    onMouseLeave={leaveSelectDay}\r\n                                    className=\"select-day-drop-down\">\r\n                                    <div>\r\n                                        <label htmlFor=\"Lundi\">Lundi</label>\r\n                                        <input type=\"checkbox\" name=\"Lundi\" id=\"Lundi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Lundi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Mardi\">Mardi</label>\r\n                                        <input type=\"checkbox\" name=\"Mardi\" id=\"Mardi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Mardi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Mercredi\">Mercredi</label>\r\n                                        <input type=\"checkbox\" name=\"Mercredi\" id=\"Mercredi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Mercredi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Jeudi\">Jeudi</label>\r\n                                        <input type=\"checkbox\" name=\"Jeudi\" id=\"Jeudi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Jeudi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Vendredi\">Vendredi</label>\r\n                                        <input type=\"checkbox\" name=\"Vendredi\" id=\"Vendredi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Vendredi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Samedi\">Samedi</label>\r\n                                        <input type=\"checkbox\" name=\"Samedi\" id=\"Samedi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Samedi\")}/>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    }\r\n                    <p \r\n                        className={calendarClicked ? \"selected-filter\" : \"\"}\r\n                        onClick={openCalendar}>Choisir dates</p>\r\n                    {calendarClicked &&\r\n                        <div onMouseLeave={leaveSelectDay}>\r\n                            <Calendar\r\n                                onChange={setStartDate}\r\n                                selectRange={true}\r\n                                value={date}\r\n                                className=\"small-calendar\"\r\n                            />\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DataVizHeader\r\n","import React, { Component } from 'react' ;\r\nimport { PieChart, Pie, Tooltip, Cell, ResponsiveContainer } from \"recharts\";\r\n\r\nimport './../../Styles/Calendar.css';\r\nimport './../../Styles/DataViz.css';\r\n\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\n\r\nimport Header from './../../Components/DataVizHeader';\r\n\r\n\r\nexport class CategoriesDistribution extends Component {\r\n\r\n    state = {\r\n        data: null ,\r\n        date: [new Date(), new Date()],\r\n        calendarClicked: false\r\n    }\r\n\r\n    colors=[\"#ffb0b0\", \"#fac696\", \"#f7e68f\", \"#a7f2a5\", \"#96f2ef\", \"#b5c8ff\", \"#F5C7FF\", \"#C4C4C4\"];\r\n\r\n    setStartDate = date => {\r\n        this.setState({date},\r\n            () => apiHandler.repartitionByCategory({dates: date})\r\n            .then(res =>  this.setState({data: res}))\r\n            .catch(err => console.log(err))\r\n            ) ;\r\n            \r\n        this.setState({calendarClicked: false});\r\n    };\r\n\r\n    componentDidMount() {\r\n        const dateBegin = this.state.date[0].toISOString().substring(0,10) + \" 00:00:00\" ;\r\n        const dateEnd = this.state.date[1].toISOString().substring(0,10) + \" 23:59:59\" ;\r\n        apiHandler.repartitionByCategory({dates: [dateBegin, dateEnd]})\r\n            .then(res =>  this.setState({data: res}))\r\n            .catch(err => console.log(err))\r\n    };\r\n\r\n    openCalendar = () => {\r\n        this.setState({calendarClicked: !this.state.calendarClicked});\r\n    };\r\n\r\n    leaveSelectDay = () => {\r\n        this.setState({calendarClicked: false});\r\n    }\r\n \r\n    render() {\r\n        const {date, data, calendarClicked} = this.state ;\r\n        const dateBegin = date[0].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n        const dateEnd = date[1].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n\r\n        return (\r\n            <div className=\"main-container\">\r\n                <Header \r\n                    setStartDate={this.setStartDate} \r\n                    calendarClicked={calendarClicked}\r\n                    openCalendar={this.openCalendar}\r\n                    leaveSelectDay={this.leaveSelectDay}\r\n                    date={date}\r\n                    title=\"répartitions des semaines\"\r\n                />\r\n                \r\n                <div className=\"background-container\">\r\n                    <div className=\"Graph-container\">\r\n                    <div className=\"date-range-container\">\r\n                        <p>du {dateBegin} au {dateEnd}</p>\r\n                    </div>\r\n\r\n                    {\r\n                        data \r\n                            &&\r\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                            <PieChart>\r\n                                <Pie\r\n                                data={data}\r\n                                startAngle={180}\r\n                                endAngle={0}\r\n                                dataKey=\"value\"\r\n                                outerRadius=\"100%\"\r\n                                >\r\n                                {data.map((entry, index) => (\r\n                                    <Cell key={`cell-${index}`} fill={this.colors[index % this.colors.length]} />\r\n                                ))}\r\n                                </Pie>\r\n                            <Tooltip \r\n                                contentStyle={{borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border:\"none\", fontFamily: \"Asap\", fontSize:\"12px\", transform: \"translate(-60%, -100%)\" }}\r\n                            />\r\n                            </PieChart>\r\n                        </ResponsiveContainer>\r\n                    }\r\n\r\n\r\n                        <div className=\"bottom-container\">\r\n                            {data && \r\n                            <div className=\"total\">\r\n                                <h2>total des visites</h2>\r\n                                <p>{data.reduce((acc, curr) => acc + curr.value, 0)}</p>\r\n                            </div>}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default CategoriesDistribution\r\n","import React, { Component } from \"react\";\r\nimport {LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer} from \"recharts\";\r\n\r\nimport apiHandler from \"../../apiHandler/apiHandler\";\r\nimport Header from \"../../Components/DataVizHeader\";\r\n\r\nconst CustomizedDot = (props) => {\r\n  const { cx, cy } = props;\r\n  return (\r\n    <svg x={cx - 20} y={cy - 20} width={80} height={80} fill=\"red\" viewBox=\"0 0 1024 1024\">\r\n      <mask id=\"a\" width=\"503\" height=\"457\" x=\"17\" y=\"44\" maskUnits=\"userSpaceOnUse\">\r\n        <path fill=\"#FFFFFF\" d=\"M60.832 87.832c58.443-58.443 153.197-58.443 211.64 0l196.645 196.645c6.248 6.248 6.248 16.379 0 22.627L280.104 496.117c-6.248 6.248-16.379 6.248-22.627 0L60.832 299.472c-58.443-58.443-58.443-153.197 0-211.64z\"/>\r\n        <path fill=\"#FFFFFF\" d=\"M475.758 87.832c-58.443-58.443-153.197-58.443-211.64 0L67.474 284.477c-6.249 6.248-6.249 16.379 0 22.627l189.012 189.013c6.249 6.248 16.379 6.248 22.628 0l196.644-196.645c58.443-58.443 58.443-153.197 0-211.64z\"/>\r\n      </mask>\r\n      <g mask=\"url(#a)\">\r\n        <path fill=\"#FFB0B0\" d=\"M17 44h503v66.143H17z\" />\r\n        <path fill=\"#FAC696\" d=\"M17 110.143h503v66.143H17z\" />\r\n        <path fill=\"#F7E68F\" d=\"M17 176.286h503v66.143H17z\" />\r\n        <path fill=\"#A7F2A5\" d=\"M17 242.429h503v66.143H17z\" />\r\n        <path fill=\"#96F2EF\" d=\"M17 308.571h503v66.143H17z\" />\r\n        <path fill=\"#B5C8FF\" d=\"M17 374.714h503v66.143H17z\" />\r\n        <path fill=\"#F5C7FF\" d=\"M17 440.857h503V507H17z\" />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport class HotDay extends Component {\r\n  state = {\r\n    data: null,\r\n    date: [new Date(new Date() - 31 * 24 * 3600 * 1000), new Date()],\r\n    //  default view : 1 month of data\r\n    calendarClicked: false,\r\n  };\r\n\r\n  setStartDate = (date) => {\r\n    this.setState({ date }, () =>\r\n      apiHandler\r\n        .repartitionByWeeks({ dates: date })\r\n        .then((res) =>\r\n          this.setState({\r\n            data: res.agregatedData,\r\n            date: res.updatedDates.map((date) => new Date(date)),\r\n          })\r\n        )\r\n        .catch((err) => console.log(err))\r\n    );\r\n    this.setState({ calendarClicked: false });\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { date } = this.state;\r\n\r\n    const dateBegin = new Date(\r\n      Date.UTC(date[0].getFullYear(), date[0].getMonth(), date[0].getDate())\r\n    );\r\n    const dateEnd = new Date(\r\n      Date.UTC(date[1].getFullYear(), date[1].getMonth(), date[1].getDate(), 23, 59,59)\r\n    );\r\n\r\n    apiHandler\r\n      .repartitionByWeeks({ dates: [dateBegin, dateEnd] })\r\n      .then((res) => {\r\n        this.setState({\r\n          data: res.agregatedData,\r\n          date: res.updatedDates.map((date) => new Date(date)),\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  openCalendar = () => {\r\n    this.setState({ calendarClicked: !this.state.calendarClicked });\r\n  };\r\n\r\n  leaveSelectDay = () => {\r\n    this.setState({calendarClicked: false});\r\n  }\r\n\r\n  render() {\r\n    const { date, data, calendarClicked } = this.state;\r\n    const dateBegin = date[0].toLocaleDateString(\"fr-FR\", {year: \"numeric\", month: \"numeric\", day: \"numeric\"});\r\n    const dateEnd = date[1].toLocaleDateString(\"fr-FR\", {year: \"numeric\", month: \"numeric\", day: \"numeric\"});\r\n\r\n    return (\r\n      <div className=\"main-container\">\r\n        <Header\r\n          setStartDate={this.setStartDate}\r\n          calendarClicked={calendarClicked}\r\n          openCalendar={this.openCalendar}\r\n          leaveSelectDay={this.leaveSelectDay}\r\n          date={date}\r\n          title=\"jours d'affluence\"\r\n        />\r\n        <div className=\"background-hot-day\">\r\n          <div className=\"date-range-container\">\r\n            <p>\r\n              du {dateBegin} au {dateEnd}\r\n            </p>\r\n          </div>\r\n          <div className=\"Graph-hot-day\">\r\n            {this.state.data && (\r\n              <ResponsiveContainer width=\"100%\" height=\"70%\" style={{paddingTop: \"50px\"}}>\r\n                <LineChart\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  data={this.state.data}\r\n                  margin={{ top: 5, right: 30, left: 20, bottom: 5 }}\r\n                >\r\n                  {/* <CartesianGrid strokeDasharray=\"3 3\" /> */}\r\n                  <XAxis\r\n                    dataKey=\"name\"\r\n                    tick={{fill: \"#706C7A\", fontSize: 14}}\r\n                    tickMargin={15}\r\n                    stroke=\"#706C7A\"\r\n                  />\r\n                  <YAxis axisLine={false} tick={false} padding={{top: 20}} />\r\n                  <Tooltip cursor={false} contentStyle={{borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border:\"none\", fontFamily: \"Asap\", fontSize:\"12px\", transform: \"translate(-60%, -100%)\"}} />\r\n                  {/* <Legend /> */}\r\n                  <Line\r\n                    type=\"monotone\"\r\n                    dataKey=\"value\"\r\n                    stroke=\"#B5C8FF\"\r\n                    dot={<CustomizedDot />}\r\n                    name=\"Visites\"\r\n                    activeDot={false}\r\n                  />\r\n                  {/* <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" /> */}\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            )}\r\n          </div>\r\n            {data && (\r\n              <div className=\"total-hot-day\">\r\n                <h2>moyenne des visites en semaine</h2>\r\n                <p>{data.reduce((acc, curr) => acc + curr.value, 0)}</p>\r\n              </div>\r\n            )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HotDay;\r\n","import React, { Component } from 'react' ;\r\nimport { BarChart, Tooltip, ResponsiveContainer, XAxis, Bar, Cell} from \"recharts\";\r\n\r\nimport './../../Styles/Calendar.css';\r\nimport './../../Styles/DataViz.css';\r\n\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\n\r\nimport Header from './../../Components/DataVizHeader';\r\n\r\n\r\nexport class CategoriesDistribution extends Component {\r\n\r\n    state = {\r\n        data: null ,\r\n        date: [new Date(new Date() - 31*24*3600*1000), new Date()],\r\n        //  default view : 1 month of data\r\n        weekDays: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\r\n        calendarClicked: false,\r\n        selectDayClicked:false,\r\n        isCheckboxes: true\r\n    }\r\n\r\n    colors=[\"#ffb0b0\", \"#fac696\", \"#f7e68f\", \"#a7f2a5\", \"#96f2ef\", \"#b5c8ff\", \"#F5C7FF\", \"#C4C4C4\"] ;\r\n\r\n    setStartDate = date => {\r\n        const {weekDays} = this.state ;\r\n\r\n        this.setState({date},\r\n            () => apiHandler.hotTime({dates: date, weekDays})\r\n            .then(res =>  {\r\n              this.setState({data: res});\r\n              this.setState({calendarClicked: false});\r\n            })\r\n            .catch(err => console.log(err))\r\n            ) ;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {date} = this.state ;\r\n\r\n        const dateBegin = new Date(Date.UTC(date[0].getFullYear(),date[0].getMonth(),date[0].getDate())) ;\r\n        const dateEnd = new Date(Date.UTC(date[1].getFullYear(),date[1].getMonth(),date[1].getDate(),23,59,59)) ;\r\n\r\n        apiHandler.hotTime({dates: [dateBegin, dateEnd]})\r\n            .then(res => this.setState({data: res}))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    handleToggleDay = event => {\r\n        const {date} = this.state ;\r\n\r\n        const dateBegin = new Date(Date.UTC(date[0].getFullYear(),date[0].getMonth(),date[0].getDate())) ;\r\n        const dateEnd = new Date(Date.UTC(date[1].getFullYear(),date[1].getMonth(),date[1].getDate(),23,59,59)) ;\r\n\r\n        const {weekDays} = this.state ;\r\n        const day = event.target.name ;\r\n        const index = weekDays.indexOf(day) ;\r\n\r\n        if (index > 0) {\r\n            weekDays.splice(index, 1) ;\r\n        } else {\r\n            weekDays.push(day) ;\r\n        }\r\n\r\n        apiHandler.hotTime({dates: [dateBegin, dateEnd], weekDays})\r\n            .then(res => this.setState({data: res}))\r\n            .catch(err => console.log(err))\r\n\r\n    }\r\n\r\n    openCalendar = () => {\r\n      this.setState({calendarClicked: !this.state.calendarClicked});\r\n      this.setState({selectDayClicked: false});\r\n    };\r\n\r\n    openFilterDay = () => {\r\n      this.setState({selectDayClicked: !this.state.selectDayClicked});\r\n      this.setState({calendarClicked: false});\r\n    }\r\n\r\n    leaveSelectDay = () => {\r\n      this.setState({selectDayClicked: false, calendarClicked: false});\r\n    }\r\n\r\n \r\n    render() {\r\n        const {date, calendarClicked, isCheckboxes, selectDayClicked, weekDays, data} = this.state ;\r\n        const dateBegin = date[0].toLocaleDateString(\"fr-FR\", {\r\n          year: \"numeric\",\r\n          month: \"numeric\",\r\n          day: \"numeric\",\r\n        });\r\n        const dateEnd = date[1].toLocaleDateString(\"fr-FR\", {\r\n          year: \"numeric\",\r\n          month: \"numeric\",\r\n          day: \"numeric\",\r\n        });\r\n\r\n        let name, visit ;\r\n        if (this.state.value) {\r\n            name = this.state.status.name ;\r\n            visit = this.state.status.visit ;\r\n        }\r\n\r\n        return (\r\n            <div className=\"main-container\">\r\n                <Header \r\n                  setStartDate={this.setStartDate} \r\n                  date={date}\r\n                  handleToggleDay={this.handleToggleDay}\r\n                  weekDays={weekDays}\r\n                  title=\"heures d'affluence\"\r\n\r\n                  //Props passed for UI details\r\n                  calendarClicked={calendarClicked}\r\n                  selectDayClicked={selectDayClicked}\r\n                  openCalendar={this.openCalendar}\r\n                  openFilterDay={this.openFilterDay}\r\n                  isCheckboxes={isCheckboxes}\r\n                  leaveSelectDay={this.leaveSelectDay}\r\n                />\r\n\r\n                <div className=\"background-container-hot-time\">\r\n\r\n                  <div className=\"Graph-container\">\r\n                    <div className=\"date-range-container\">\r\n                      <p>\r\n                        du {dateBegin} au {dateEnd}\r\n                      </p>\r\n                    </div>\r\n\r\n                  {\r\n                      this.state.data \r\n                          &&\r\n                          <>\r\n                        <ResponsiveContainer width=\"100%\" height=\"50%\">\r\n                          <BarChart\r\n                            data={this.state.data}\r\n                          >\r\n                            <XAxis \r\n                              dataKey=\"name\" \r\n                              tick={{fill: \"#706C7A\", fontSize: 14}}\r\n                              tickMargin={15}\r\n                                  // change tick color\r\n                              tickLine={false}\r\n                                  // don't plot the tick\r\n                              axisLine={false}\r\n                                  // don't plot the axis\r\n                              />\r\n                            <Tooltip \r\n                              cursor={false}\r\n                              contentStyle={{borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border:\"none\", fontFamily: \"Asap\", fontSize:\"12px\" }}\r\n                            />\r\n                            <Bar \r\n                              dataKey=\"value\" \r\n                              fill=\"#000000\" \r\n                              name=\"Visites\"\r\n                            >\r\n                              {data.map((entry, index) => (\r\n                                    <Cell key={`cell-${index}`} fill={this.colors[index % this.colors.length]} />\r\n                              ))}\r\n                            </Bar>\r\n                          </BarChart>\r\n                        </ResponsiveContainer>\r\n                        \r\n                        </>\r\n                  }\r\n\r\n                  </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CategoriesDistribution\r\n","import React, { Component } from 'react' ;\r\nimport { CSVLink } from \"react-csv\";\r\n\r\nimport './../../Styles/Calendar.css';\r\nimport './../../Styles/DataViz.css';\r\n\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\n\r\nimport Header from './../../Components/DataVizHeader';\r\n\r\n\r\nconst flatData = (datas) => {\r\n    return(datas.map(data => {return {    \r\n        categoryName: data.category.name,\r\n        categoryIsActive: data.category.isActive ? \"actif\" : \"archivé\",\r\n        contactTypeName: data.contactType.name,\r\n        contactTypeIsActive: data.contactType.isActive ? \"actif\" : \"archivé\",\r\n        date: data.date\r\n    }}\r\n    )\r\n)}\r\n\r\nexport class CategoriesDistribution extends Component {\r\n\r\n    state = {\r\n        data: null ,\r\n        date: [new Date(), new Date()],\r\n        calendarClicked: false,\r\n        isLoading: true\r\n    }\r\n\r\n    setStartDate = date => {\r\n\r\n        this.setState({date, isLoading:true},\r\n            () => apiHandler.getVisitsDateRange({dates: date})\r\n            .then(res =>  this.setState({data: flatData(res), isLoading:false}))\r\n            .catch(err => console.log(err))\r\n            ) ;\r\n            \r\n        this.setState({calendarClicked: false});\r\n    };\r\n\r\n    leaveSelectDay = () => {\r\n        this.setState({selectDayClicked: false, calendarClicked: false});\r\n    }\r\n\r\n    componentDidMount() {\r\n        const dateBegin = this.state.date[0].toISOString().substring(0,10) + \" 00:00:00\" ;\r\n        const dateEnd = this.state.date[1].toISOString().substring(0,10) + \" 23:59:59\" ;\r\n        apiHandler.getVisitsDateRange({dates: [dateBegin, dateEnd]})\r\n            .then(res =>   this.setState({data: flatData(res), isLoading:false}))\r\n            .catch(err => console.log(err))\r\n        \r\n    };\r\n\r\n    openCalendar = () => {\r\n        this.setState({calendarClicked: !this.state.calendarClicked});\r\n    };\r\n \r\n    render() {\r\n        const {date, data, calendarClicked, isLoading} = this.state ;\r\n        const dateBegin = date[0].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n        const dateEnd = date[1].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n\r\n        return (\r\n            <div className=\"main-container\">\r\n                <Header \r\n                    setStartDate={this.setStartDate} \r\n                    calendarClicked={calendarClicked}\r\n                    openCalendar={this.openCalendar}\r\n                    date={date}\r\n                    title=\"export\"\r\n                    leaveSelectDay={this.leaveSelectDay}\r\n                />\r\n                \r\n                <div className=\"export\">\r\n                        <h1>Récupérer la liste des visites du</h1>\r\n                        <p>{dateBegin} au {dateEnd}</p>\r\n                        {data \r\n                            &&\r\n                            <>\r\n                                {!isLoading &&\r\n                                    <CSVLink data={this.state.data} className=\"download-data\">Télécharger les données</CSVLink>\r\n                                }\r\n                                {isLoading &&\r\n                                    <div className=\"download-data\">\r\n                                        <p>Chargement des données</p>\r\n                                    </div>\r\n                                }\r\n                            </>\r\n                        }\r\n                        </div>\r\n                </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default CategoriesDistribution\r\n","import React, { Component } from \"react\";\r\nimport \"../Styles/NotFound.css\";\r\n\r\nexport class NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div id=\"not-found\">\r\n        <h1>404 bitch !</h1>\r\n        <img\r\n          src=\"https://media.tenor.co/images/68a83f039448147d2d56c179e43bb474/raw\"\r\n          alt=\"RuPaul GIF\"\r\n        />\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import \"./App.css\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ProtectedRoute from \"./Components/ProtectedRoute\";\r\n\r\nimport SettingsUsers from \"./Views/Settings/SettingsUsers\";\r\nimport HeaderFlag from './Components/GlobalElements/HeaderFlag';\r\n\r\nimport Home from './Views/Home';\r\n\r\nimport NavDashboard from './Components/GlobalElements/DashboardNavBar';\r\n\r\nimport History from './Views/Visits/History';\r\nimport CreateVisit from './Views/Visits/CreateVisit';\r\nimport UpdateVisit from './Views/Visits/UpdateVisit';\r\nimport SettingsCatCont from './Views/Settings/SettingsCatCont';\r\nimport CategoriesDistribution from './Views/Insights/CategoriesDistribution';\r\nimport HotDay from './Views/Insights/HotDay';\r\nimport HotTime from './Views/Insights/HotTime';\r\nimport RetrieveData from './Views/Insights/RetrieveData'\r\n\r\nimport NotFound from './Views/NotFound';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n\r\n      <HeaderFlag/>\r\n\r\n      <div id=\"left-side\">\r\n        <NavDashboard/>\r\n      </div>\r\n\r\n      <div id=\"right-side\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          {/* à protéger */}\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/categories-repartition\" component={CategoriesDistribution}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/jour-affluence\" component={HotDay}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/heure-affluence\" component={HotTime}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/exporter\" component={RetrieveData}/>\r\n\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/new-visit\" component={CreateVisit}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/update-visit\" component={UpdateVisit}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/history\" component={History}/>\r\n          \r\n          <ProtectedRoute protectionLevel=\"admin\" exact path=\"/parameters\" component={SettingsCatCont}/>\r\n\r\n          <ProtectedRoute protectionLevel=\"admin\" exact path=\"/users\" component={SettingsUsers} />\r\n\r\n          <ProtectedRoute protectionLevel=\"volunteer\" path=\"*\" component={NotFound} />\r\n        </Switch>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React, { Component } from \"react\";\r\nimport apiHandler from \"./../../apiHandler/apiHandler\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nclass UserProvider extends Component {\r\n  state = {\r\n    user: null,\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .isLoggedIn()\r\n      .then((data) => {\r\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\r\n      });\r\n  }\r\n\r\n  setUser = (user) => {\r\n    this.setState({ user, isLoggedIn: true });\r\n  };\r\n\r\n  removeUser = () => {\r\n    this.setState({ user: null, isLoggedIn: false });\r\n  };\r\n\r\n  render() {\r\n    //  Setup all the values/functions you want to expose to anybody reading\r\n    // from the AuthContext.\r\n    const authValues = {\r\n      user: this.state.user,\r\n      setUser: this.setUser,\r\n      removeUser: this.removeUser,\r\n      isLoggedIn: this.state.isLoggedIn,\r\n      isLoading: this.state.isLoading,\r\n    };\r\n\r\n    return (\r\n      <UserContext.Provider value={authValues}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProvider;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport UserProvider from \"./Components/Auth/UserProvider\";\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <UserProvider>\r\n        <App />\r\n      </UserProvider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}