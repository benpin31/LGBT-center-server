{"version":3,"sources":["Components/Auth/UserContext.jsx","Components/Auth/withUser.jsx","Components/ProtectedRoute.jsx","Assets/trash-icon.svg","Assets/edit-icon.svg","apiHandler/apiHandler.js","Components/UsersSettings/CardAdminsVolunteer.jsx","Components/UsersSettings/Admins.jsx","Components/UsersSettings/Volunteer.jsx","Components/UsersSettings/FormCreateUpdateAdmin.jsx","Assets/plus-icon.svg","Views/Settings/SettingsUsers.jsx","Components/GlobalElements/HeaderFlag.jsx","Assets/logo.svg","Components/FormLogIn.jsx","Views/Home.jsx","Assets/exit-icon.svg","Assets/drop-down-downarrow.svg","Assets/drop-down-uparrow.svg","Components/GlobalElements/DashboardNavBar.jsx","Components/Visits/VisitCardInfo.jsx","Views/Visits/History.jsx","Assets/info-icon.svg","Components/Visits/CategoryCard.jsx","Assets/purple-plus-icon.svg","Assets/minus-icon.svg","Assets/wait-icon.svg","Assets/check-icon.svg","Components/Visits/CreateVisitForm.jsx","Components/GlobalElements/FormHeader.jsx","Views/Visits/CreateVisit.jsx","Views/Visits/UpdateVisit.jsx","Assets/archive-icon.svg","Assets/on-off-icon.svg","Components/CategoriesContacts/CardCatCont.jsx","Components/CategoriesContacts/AllItems.jsx","Components/CategoriesContacts/FormCreateUpdateCategory.jsx","Components/CategoriesContacts/FormCreateUpdateContact.jsx","Views/Settings/SettingsCatCont.jsx","Components/DataVizHeader.jsx","Views/Insights/CategoriesDistribution.jsx","Views/Insights/HotDay.jsx","Views/Insights/HotTime.jsx","Views/Insights/RetrieveData.jsx","Views/NotFound.jsx","App.jsx","reportWebVitals.js","Components/Auth/UserProvider.jsx","index.js"],"names":["UserContext","React","createContext","withUser","ComponentToPassUserContextTo","props","Consumer","context","Component","component","protectionLevel","rest","isLoading","isLoggedIn","user","isAdmin","render","to","service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","signin","userInfo","post","then","res","catch","get","logout","getUsers","getOneUser","itemId","createUser","newUser","deleteUser","userId","delete","updateUser","updatedInfo","patch","getVisits","createVisit","visitInfo","updateVisit","visitId","deleteVisit","getCategories","createCategory","catefgoryInfo","updateCategory","categoryId","getContactTypes","createContactType","contactTypeInfo","updateContactType","contactTypeId","repartitionByCategory","dates","hotTime","weekDays","join","repartitionByWeeks","getVisitsDateRange","state","isHovering","handleDelete","api","getAllUsers","console","log","handleMouseEnterCard","setState","handleMouseLeaveCard","this","users","handlePopup","name","login","toUpperCase","substring","onMouseEnter","onMouseLeave","className","_id","onClick","src","editIcon","alt","binIcon","Admins","map","Volunteer","FormCreateUpdateAdmin","value","password","isLoginLengthValidated","isLoginFree","isPasswordValidated","isTestMode","wrapperRef","createRef","handleClickOutside","event","current","contains","target","handleChange","key","handleSubmit","a","preventDefault","action","REACT_APP_TEST","newValue","find","length","formAction","document","addEventListener","removeEventListener","ref","onSubmit","htmlFor","onChange","type","id","placeholder","substr","SettingsUsers","isShownCreate","isShownUpdate","handlePopupCreate","handlePopupUpdate","handleHidePopup","plusIcon","HeaderFlag","location","pathname","flag","withRouter","FormLogIn","username","onLoggedIn","isValidSignin","updateValidSignin","logo","Home","signInStyle","flagStyle","helloStyle","handleLoggedin","apiHandler","setUser","display","transform","animation","setTimeout","history","push","prevProps","style","DashboardNavBar","rapportClicked","handleOpen","handleClose","handleLogout","removeUser","exact","activeClassName","arrowUp","arrowDown","VisitCardInfo","visit","onDelete","date","Date","hour","getHours","minutes","getMinutes","category","contactType","deleteIcon","History","allVisits","filterDeletedVisit","filter","err","CategoryCard","isHoveringInfoIcon","handleMouseEnter","handleMouseLeave","handleTouchInfo","e","handleTouchEnd","handleSelectItem","isMobileOnly","description","opacity","onTouchStart","onTouchEnd","infoIcon","ChooseCategory","nbOfPerson","allCategories","allContactTypes","visitToUpdate","isUpdateVisit","handleDecrease","handleIncrease","item","handleChangeItem","i","activeCategories","cat","isActive","activeContacts","cont","dateFormat","toLocaleDateString","year","month","day","checkedIcon","minusIcon","waitIcon","contact","FormHeader","handleCancel","title","CreateVisit","CreateVisitForm","UpdateVisit","CardItemWidget","onOffItem","handleUpdateView","updateItem","handleOpenUpdate","archiveIcon","onOffIcone","AllItems","items","showCreateForm","showUpdateForm","getAllItmes","handleOpenCreate","handleCloseCreate","handleCloseUpdate","activeitems","inactiveitems","buttonName","FormCreateUpdateComponent","formCreateAction","titleFormat","CardCatCont","formType","formName","closeForm","values","FormCreateUpdateCategory","isNameValidated","isdescriptionValidated","prevName","FormCreateUpdateContact","SettingsCatCont","DataVizHeader","calendarClicked","setStartDate","openCalendar","selectDayClicked","openFilterDay","leaveSelectDay","isCheckboxes","handleToggleDay","defaultChecked","includes","selectRange","RADIAN","Math","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","toFixed","CategoriesDistribution","plotLegend","chartRef","colors","exportChart","exportComponentAsPNG","dateBegin","toISOString","dateEnd","ResponsiveContainer","width","height","PieChart","Legend","verticalAlign","align","Pie","startAngle","endAngle","dataKey","isAnimationActive","label","labelLine","legendType","entry","index","Cell","Tooltip","contentStyle","borderRadius","boxShadow","border","fontFamily","fontSize","reduce","acc","curr","CustomizedDot","viewBox","maskUnits","d","mask","CustomizedLabel","stroke","dy","PureComponent","HotDay","agregatedData","updatedDates","UTC","getFullYear","getMonth","getDate","paddingTop","LineChart","margin","top","right","left","bottom","XAxis","tick","tickMargin","YAxis","axisLine","padding","cursor","Line","dot","activeDot","indexOf","splice","status","BarChart","tickLine","Bar","position","flatData","datas","categoryName","categoryIsActive","contactTypeName","contactTypeIsActive","separator","NotFound","App","path","HotTime","RetrieveData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","UserProvider","authValues","Provider","children","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d39d1d0f.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const UserContext = React.createContext();","import React from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\n// This is what we call a HOC (Higher Order Component).\r\n// It takes a component as a parameter and it returns a component.\r\n// This technique can be used to abstract some logic in order to pass\r\n// some data down as props to the component sent as parameter.\r\n\r\n// The use case of this one is to make it easy to access the user context to\r\n// any component in our app.\r\n\r\n/* ******************************************************** */\r\n\r\n//  How to use:  =>\r\n// YourComponent.jsx\r\n// import React from \"react\"\r\n// function or class YourComponent()\r\n//\r\n// ... your implementation.\r\n//\r\n// export default withUser(YourComponent)\r\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\r\n\r\n// This component is not exported as default, so you have to import it\r\n// this way :\r\n// import { withUser } from \"../relative/path/to/this/file\"\r\n\r\nexport const withUser = (ComponentToPassUserContextTo) => {\r\n  return function (props) {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {(context) => (\r\n          <ComponentToPassUserContextTo {...props} context={context} />\r\n        )}\r\n      </UserContext.Consumer>\r\n    );\r\n  };\r\n};","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { withUser } from \"./Auth/withUser\";\r\n\r\nconst ProtectedRoute = ({ component: Component, context,protectionLevel, ...rest }) => {\r\n  if (context.isLoading) {\r\n    return null;\r\n  } else if (context.isLoggedIn) {\r\n    if (protectionLevel === \"volunteer\" || context.user.isAdmin) {\r\n      return <Route {...rest} render={(props) => <Component {...props} />} />;\r\n    } else {\r\n      return <Redirect to=\"/new-visit\" />;\r\n    }\r\n  } else {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n};\r\n\r\nexport default withUser(ProtectedRoute);","export default __webpack_public_path__ + \"static/media/trash-icon.adbd3cc3.svg\";","export default __webpack_public_path__ + \"static/media/edit-icon.0d2adfe8.svg\";","import axios from \"axios\";\r\n\r\nconst service = axios.create({\r\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\r\n\twithCredentials: true\r\n});\r\n\r\nfunction errorHandler(error) {\r\n\tif (error.response.data) {\r\n\t\tthrow error;\r\n\t}\r\n\tthrow error;\r\n}\r\n\r\nexport default {\r\n\tservice,\r\n\r\n\t// ---AUTH--- \r\n\tsignin(userInfo) {\r\n\t\treturn service\r\n\t\t\t.post(\"/api/auth/signin\", userInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tisLoggedIn() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/auth/isLoggedIn\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tlogout() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/auth/logout\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\t// ---USER CRUD---\r\n\tgetUsers() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/user\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tgetOneUser(itemId) {\r\n\t\treturn service\r\n\t\t\t.get(`/api/user${itemId}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tcreateUser(newUser) {\r\n\t\treturn service\r\n\t\t\t.post(\"/api/user/create\", newUser)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tdeleteUser(userId) {\r\n\t\treturn service\r\n\t\t\t.delete(`/api/user/delete/${userId}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tupdateUser(userId, updatedInfo) {\r\n\t\treturn service\r\n\t\t\t.patch(`/api/user/edit/${userId}`, updatedInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\t// ---VISITS--- \r\n\tgetVisits() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/visits\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tcreateVisit(visitInfo) {\r\n\t\treturn service\r\n\t\t\t.post(\"/api/visits\", visitInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tupdateVisit(visitId, visitInfo) {\r\n\t\treturn service\r\n\t\t\t.patch(`/api/visits/${visitId}`, visitInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tdeleteVisit(visitId) {\r\n\t\treturn service\r\n\t\t\t.delete(`/api/visits/${visitId}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\t// ---CATEGORIES--- \r\n\tgetCategories() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/categories\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tcreateCategory(catefgoryInfo) {\r\n\t\treturn service\r\n\t\t\t.post(\"/api/categories\", catefgoryInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tupdateCategory(categoryId, catefgoryInfo) {\r\n\t\treturn service\r\n\t\t\t.patch(`/api/categories/${categoryId}`, catefgoryInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\t// ---CONTACT TYPE--- \r\n\tgetContactTypes() {\r\n\t\treturn service\r\n\t\t\t.get(\"/api/contactTypes\")\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tcreateContactType(contactTypeInfo) {\r\n\t\treturn service\r\n\t\t\t.post(\"/api/contactTypes\", contactTypeInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tupdateContactType(contactTypeId, contactTypeInfo) {\r\n\t\treturn service\r\n\t\t\t.patch(`/api/contactTypes/${contactTypeId}`, contactTypeInfo)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\t//  Insights\r\n\trepartitionByCategory(data) {\r\n\t\treturn service\r\n\t\t\t.get(`/api/insight/get-category-repartition?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\thotTime(data) {\r\n\t\treturn service\r\n\t\t\t.get(`/api/insight/get-popular-hours?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}${data.weekDays?\"&weekDays=\"+data.weekDays.join(\",\"):\"\"}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\trepartitionByWeeks(data) {\r\n\t\treturn service\r\n\t\t\t.get(`/api/insight/get-popular-days?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t},\r\n\r\n\tgetVisitsDateRange(data) {\r\n\t\treturn service\r\n\t\t\t.get(`/api/visits?dateBegin=${data.dates[0]}&dateEnd=${data.dates[1]}`)\r\n\t\t\t.then((res) => res.data)\r\n\t\t\t.catch(errorHandler);\r\n\t}\r\n\r\n\r\n};\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport binIcon from \"../../Assets/trash-icon.svg\";\r\nimport editIcon from \"../../Assets/edit-icon.svg\";\r\nimport { withUser } from \"../Auth/withUser\";\r\nimport api from \"../../apiHandler/apiHandler\";\r\nimport \"../../Styles/CardAdminsVolunteer.css\";\r\n\r\nclass CardAdminsVolunteer extends Component {\r\n  state = {\r\n    isHovering: false,\r\n  };\r\n\r\n  handleDelete = (userId) => {\r\n    api\r\n      .deleteUser(userId)\r\n      .then((response) => {\r\n        this.props.getAllUsers();\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  handleMouseEnterCard = () => {\r\n    this.setState({ isHovering: true });\r\n  };\r\n\r\n  handleMouseLeaveCard = () => {\r\n    this.setState({ isHovering: false });\r\n  };\r\n\r\n  render() {\r\n    const {users, context, handlePopup} = this.props;\r\n    const name = users.login[0].toUpperCase() + users.login.substring(1);\r\n\r\n    return (\r\n      <div\r\n        onMouseEnter={this.handleMouseEnterCard}\r\n        onMouseLeave={this.handleMouseLeaveCard}\r\n        className=\"CardContainerAdminsVolunteer\"\r\n      >\r\n        {users.isAdmin && (\r\n          <div>\r\n            <div className=\"card-info-admins-volunteer\">\r\n              <div>Admin</div>\r\n              <p>{name}</p>\r\n            </div>\r\n            {this.state.isHovering && (\r\n              <aside>\r\n                {!context.isLoading &&\r\n                  context.user._id === users._id && (\r\n                    <img\r\n                      onClick={handlePopup}\r\n                      src={editIcon}\r\n                      alt=\"edit-icon\"\r\n                    />\r\n                  )}\r\n                {!context.isLoading &&\r\n                  context.user._id !== users._id && (\r\n                    <img\r\n                      onClick={() => this.handleDelete(users._id)}\r\n                      src={binIcon}\r\n                      alt=\"trash-icon\"\r\n                    />\r\n                  )}\r\n              </aside>\r\n            )}\r\n          </div>\r\n        )}\r\n        {!users.isAdmin && (\r\n          <div>\r\n            <div className=\"card-info-admins-volunteer\">\r\n              <div>Bnvole</div>\r\n              <p>{name}</p>\r\n            </div>\r\n            {this.state.isHovering && (\r\n              <aside onClick={handlePopup}>\r\n                <img src={editIcon} alt=\"edit-icon\" />\r\n              </aside>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withUser(CardAdminsVolunteer);\r\n","import React, { Component } from \"react\";\r\nimport Card from \"./CardAdminsVolunteer\";\r\n\r\nclass Admins extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.users && \r\n        this.props.users.map(user => {\r\n          return (\r\n            user.isAdmin \r\n              && \r\n            <Card \r\n              key={user._id} \r\n                users={user} \r\n                handlePopup = {() => this.props.handlePopup(user)}\r\n                getAllUsers={this.props.getAllUsers}            \r\n              />)\r\n        })}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admins;\r\n","import React, { Component } from \"react\";\r\nimport Card from \"./CardAdminsVolunteer\";\r\n\r\nclass Volunteer extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.users &&\r\n        this.props.users.map(user => {\r\n          return (\r\n            !user.isAdmin \r\n              && \r\n            <Card \r\n              key={user._id} \r\n              users={user} \r\n              handlePopup = {() => this.props.handlePopup(user)}\r\n              getAllUsers={this.props.getAllUsers}            \r\n            />)\r\n        })}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Volunteer;\r\n","import React, { Component } from \"react\";\r\nimport \"../../Styles/FormCreateCatCont.css\";\r\n\r\nclass FormCreateUpdateAdmin extends Component {\r\n  state = {\r\n    login: this.props.value ? this.props.value.login : \"\",\r\n    password: \"\",\r\n    isAdmin: this.props.value ? this.props.value.isAdmin : true,\r\n\r\n    //  input validation\r\n    isLoginLengthValidated: true,\r\n    isLoginFree: true,\r\n    isPasswordValidated: true,\r\n\r\n    //prevent update user if test mode\r\n    isTestMode: false\r\n  };\r\n\r\n  wrapperRef = React.createRef();\r\n\r\n  handleClickOutside = event => {\r\n    if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\r\n      this.props.handlePopup();\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const key = event.target.name;\r\n    this.setState({ [key]: event.target.value, isLoginLengthValidated:true,  isPasswordValidated: true});\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    \r\n    event.preventDefault();\r\n\r\n    const { login, password, isAdmin } = this.state;\r\n    const { users } = this.props;\r\n\r\n    if(this.props.action === 'modifier' && process.env.REACT_APP_TEST === 'true') {\r\n      this.setState({isTestMode: true});\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const newValue = { login, isAdmin };\r\n\r\n      //  input validation\r\n      let isLoginLengthValidated = true,\r\n        isLoginFree = true,\r\n        isPasswordValidated = true;\r\n\r\n      if (\r\n        users.find(\r\n          (user) =>\r\n            user.login === login && user.login !== this.props.value?.login\r\n        )\r\n      ) {\r\n        isLoginFree = false;\r\n      }\r\n\r\n      if (login.length < 3) {\r\n        isLoginLengthValidated = false;\r\n      }\r\n\r\n      if (password.length < 3) {\r\n        if (password.length !== 0 || !this.props.value) {\r\n          // in case of update (when this.props.value is not empty ), the input may be \"\" which mean that the user keep the same password\r\n          isPasswordValidated = false;\r\n        }\r\n      }\r\n\r\n      if (!isLoginLengthValidated || !isLoginFree || !isPasswordValidated) {\r\n        this.setState({\r\n          isLoginLengthValidated,\r\n          isLoginFree,\r\n          isPasswordValidated,\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (password !== \"\") {\r\n        newValue.password = password;\r\n      }\r\n\r\n      await this.props.formAction(newValue);\r\n      this.props.getAllUsers();\r\n      this.props.handlePopup();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      isLoginLengthValidated,\r\n      isLoginFree,\r\n      isPasswordValidated,\r\n      isTestMode\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className=\"shadow-pop-up\">\r\n        <div ref={this.wrapperRef} className=\"FormCreateUpdateContact\">\r\n          <div>\r\n            <h1>{this.props.action} une utilisateurice</h1>\r\n            <div className=\"close-pop-up\" onClick={this.props.handlePopup}>Annuler</div>\r\n          </div>\r\n          <form onSubmit={this.handleSubmit} className=\"form-update-create\">\r\n            <label htmlFor=\"login\">nom utilisateurice</label>\r\n            <input\r\n              className={!isLoginLengthValidated || !isLoginFree || isTestMode ?  \"error-input\" : \"\"}\r\n              onChange={this.handleChange}\r\n              value={this.state.login}\r\n              type=\"text\"\r\n              name=\"login\"\r\n              id=\"login\"\r\n            />\r\n            {!isLoginLengthValidated && (\r\n              <div className=\"error-message user-name-error\">\r\n                <p>Le login doit contenir au moins 3 caractres.</p>\r\n              </div>\r\n            )}\r\n            {!isLoginFree && (\r\n              <div className=\"error-message user-name-error\">\r\n                <p>Ce nom dutilisateur est dj pris.</p>\r\n              </div>\r\n            )} \r\n\r\n            <label htmlFor=\"password\">mot de passe</label>\r\n            <input\r\n              className={!isPasswordValidated || !isLoginFree || isTestMode ?  \"error-input\" : \"\"}\r\n              onChange={this.handleChange}\r\n              value={this.props.password}\r\n              type=\"password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              placeholder={this.props.action === \"ajouter\" ? '' : ''}\r\n            />\r\n            {!isPasswordValidated && (\r\n              <div className=\"error-message name-error-contact\">\r\n                <p>Le mot de passe doit contenir au moins 3 caractres.</p>\r\n              </div>\r\n            )}\r\n\r\n            {isTestMode && (\r\n              <div className=\"error-message name-error-contact\">\r\n                <p>Action impossible sur la version test</p>\r\n              </div>\r\n            )} \r\n\r\n            <button>{this.props.action[0].toUpperCase() + this.props.action.substr(1)}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormCreateUpdateAdmin;\r\n","export default __webpack_public_path__ + \"static/media/plus-icon.cc463e15.svg\";","import React, { Component } from \"react\";\r\n\r\nimport Admins from \"../../Components/UsersSettings/Admins\";\r\nimport Volunteer from \"../../Components/UsersSettings/Volunteer\";\r\nimport api from \"../../apiHandler/apiHandler\";\r\nimport FormUser from \"../../Components/UsersSettings/FormCreateUpdateAdmin\";\r\n\r\nimport \"../../Styles/SettingsUsers.css\";\r\nimport plusIcon from \"../../Assets/plus-icon.svg\";\r\n\r\nclass SettingsUsers extends Component {\r\n  state = {\r\n    users: null,\r\n    isShownCreate: false,\r\n    isShownUpdate: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    api\r\n      .getUsers()\r\n      .then((response) => this.setState({ users: response }))\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  getAllUsers = () => {\r\n    api\r\n      .getUsers()\r\n      .then((response) => this.setState({ users: response }))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  handlePopupCreate = () => {\r\n    this.setState({\r\n      isShownCreate: !this.state.isShownCreate,\r\n      isShownUpdate: null,\r\n    });\r\n  };\r\n\r\n  handlePopupUpdate = (user) => {\r\n    this.setState({ isShownUpdate: user, isShownCreate: false });\r\n  };\r\n\r\n  handleHidePopup = () => {\r\n    this.setState({ isShownUpdate: null, isShownCreate: false });\r\n  };\r\n\r\n  render() {\r\n    const {users, isShownCreate, isShownUpdate} = this.state;\r\n\r\n    return (\r\n      <div id=\"settings-users\">\r\n        <div id=\"header-users\">\r\n          <h1>utilisateurices</h1>\r\n          <button onClick={this.handlePopupCreate}>\r\n            <img src={plusIcon} alt=\"plus-icon\" />\r\n            <p>Ajouter une utilisateurice</p>\r\n          </button>\r\n        </div>\r\n        <div className=\"users-container\">\r\n          <Admins\r\n            users={users}\r\n            handlePopup={this.handlePopupUpdate}\r\n            getAllUsers={this.getAllUsers}\r\n          />\r\n        </div>\r\n        <div className=\"users-container\">\r\n          <Volunteer\r\n            users={users}\r\n            handlePopup={this.handlePopupUpdate}\r\n            getAllUsers={this.getAllUsers}\r\n          />\r\n        </div>\r\n        {isShownCreate && (\r\n          <FormUser\r\n            formAction={api.createUser}\r\n            handlePopup={this.handleHidePopup}\r\n            getAllUsers={this.getAllUsers}\r\n            users={users}\r\n            action=\"ajouter\"\r\n          />\r\n        )}\r\n        {isShownUpdate && (\r\n          <FormUser\r\n            formAction={(value) =>\r\n              api.updateUser(isShownUpdate._id, value)\r\n            }\r\n            handlePopup={this.handleHidePopup}\r\n            getAllUsers={this.getAllUsers}\r\n            value={isShownUpdate}\r\n            users={users}\r\n            action=\"modifier\"\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SettingsUsers;\r\n","import React, { Component } from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nexport class HeaderFlag extends Component {\r\n    render() {\r\n        const flags = [\"red\", \"orange\", \"yellow\", \"green\", \"blue\", \"purple\"];\r\n        return (\r\n            <>\r\n                {this.props.location.pathname !== '/' &&\r\n                    <div id=\"header-flag\">\r\n                        \r\n                        {flags.map(flag => \r\n                            <div key={flag} id={flag}></div>\r\n                        )} \r\n                        \r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(HeaderFlag);\r\n","export default __webpack_public_path__ + \"static/media/logo.362bd950.svg\";","import React, { Component } from 'react';\r\nimport './../Styles/LogIn.css';\r\nimport logo from './../Assets/logo.svg';\r\n\r\nclass FormLogIn extends Component {\r\n    state = {\r\n        username : \"\",\r\n        password : \"\"\r\n    }\r\n\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const {username: login, password} = this.state ;        \r\n\r\n        try {\r\n            await this.props.onLoggedIn({login, password});\r\n        } catch(err) {\r\n            console.log(err)\r\n        }\r\n    } \r\n\r\n    render() {\r\n\r\n        const { isValidSignin, updateValidSignin } = this.props ;\r\n\r\n        return (\r\n            <div className=\"form-container\">\r\n                <img src={logo} alt=\"\"/>\r\n                <form className=\"form-signin\" onSubmit={this.handleSubmit}>\r\n                    <label htmlFor=\"username\">Nom d'utilisateur.ice</label>\r\n                    <input \r\n                        className={!isValidSignin ?  \"error-input\" : \"\"}\r\n                        onChange={(event) => {\r\n                            this.setState({username : event.target.value})\r\n                            updateValidSignin()\r\n                        }}\r\n                        value={this.state.username}\r\n                        type=\"text\" \r\n                        id=\"username\" \r\n                        name=\"username\"\r\n                    />\r\n\r\n                    <label htmlFor=\"password\">Mot de passe</label>\r\n                    <input \r\n                        className={!isValidSignin ?  \"error-input\" : \"\"}\r\n                        onChange={(event) => {\r\n                            this.setState({password : event.target.value})\r\n                            updateValidSignin()\r\n                        }}\r\n                        value={this.state.password}\r\n                        type=\"password\" \r\n                        id=\"password\" \r\n                        name=\"password \"\r\n                    />\r\n                    {   !isValidSignin \r\n                            && \r\n                        <div className=\"error-message\"><p>Mauvais mot de passe et/ou nom d'utilisateur.ice</p></div>\r\n                    }\r\n                    <button >Connexion</button>\r\n                </form> \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FormLogIn\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { withUser } from \"./../Components/Auth/withUser\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport FormLogIn from './../Components/FormLogIn';\r\nimport './../Styles/LogIn.css';\r\n\r\nimport apiHandler from './../apiHandler/apiHandler'\r\n\r\nclass Home extends React.Component {\r\n    state = {\r\n        signInStyle : null,\r\n        flagStyle : null,\r\n        helloStyle : null,\r\n        isValidSignin: true\r\n    };\r\n\r\n    componentDidMount() {\r\n        //Dealing with arriving on Home page animation\r\n        if(!this.props.context.isLoggedIn & !this.props.context.isLoading) {\r\n            //css deals with making flag move up\r\n            // then after 700ms I want the \"bonjour\" to display \r\n            setTimeout(() => {\r\n                this.setState({\r\n                    helloStyle : {\r\n                        display : 'block',\r\n                    }\r\n                })\r\n            }, 700);\r\n            //then after 900ms I want the login form to move down\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    signInStyle: {\r\n                        display : 'block',\r\n                        animation : 'signinsweep 0.9s ease-out'\r\n                    }\r\n                })\r\n            }, 900);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        //Dealing with arriving at Home page animation\r\n        //but same time dealing with loading isLoggedIn asynchrone issues\r\n\r\n        //TO REFACTOR : we have the same animation twice\r\n        if (prevProps.context.isLoading !== this.props.context.isLoading) {\r\n            if (this.props.context.isLoggedIn) {\r\n                this.props.history.push(\"/new-visit\")\r\n            } else  {\r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        helloStyle : {\r\n                            display : 'block',\r\n                        }\r\n                    })\r\n                }, 700);\r\n\r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        signInStyle: {\r\n                            display : 'block',\r\n                            animation : 'signinsweep 0.9s ease-out'\r\n                        }\r\n                    })\r\n                }, 900);\r\n            }\r\n        }\r\n    }\r\n\r\n    handleLoggedin = (user) => {\r\n        //changer de route aprs le timeOut\r\n        apiHandler\r\n            .signin(user)\r\n            .then((data) => {\r\n                this.props.context.setUser(data);\r\n\r\n                this.setState({\r\n                    signInStyle: {\r\n                        display : 'block',\r\n                        transform : 'translateY(-100%)',\r\n                        animation : 'outro-sweep 1s ease-out'\r\n                    },\r\n                    helloStyle : {\r\n                        display : 'none',\r\n                    }\r\n                })\r\n        \r\n                setTimeout(() => {\r\n                    this.setState({\r\n                        flagStyle : {\r\n                            display : 'block',\r\n                            transform : 'translateY(calc(-100% + 6px))',\r\n                            animation : 'outro-sweep 0.5s ease-out'\r\n                        }\r\n                    })\r\n                }, 700);\r\n        \r\n                setTimeout(() => this.props.history.push(\"/history\"), 1500) ;\r\n            })\r\n            .catch((error) => {\r\n                this.setState({isValidSignin: false})\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    //show error message if sign in is not good\r\n    //to do = setState only if !isValidSignin\r\n    updateValidSignin = () => {\r\n        this.setState({isValidSignin: true})\r\n    }\r\n\r\n    render() {\r\n\r\n        const flags = [\"red\", \"orange\", \"yellow\", \"green\", \"blue\", \"purple\"];\r\n        const {isValidSignin} = this.state ;\r\n\r\n        return (\r\n            <div>\r\n                <div id=\"signin\" style={this.state.signInStyle}>\r\n                    <FormLogIn \r\n                        onLoggedIn={this.handleLoggedin} \r\n                        isValidSignin={isValidSignin}\r\n                        updateValidSignin={this.updateValidSignin}\r\n                    />\r\n                </div>\r\n\r\n                <div id=\"flag-container\">\r\n                    <p style={this.state.helloStyle}>bonjour</p>\r\n                    {flags.map(flag => \r\n                        <div key={flag} id={flag} style={this.state.flagStyle}></div>\r\n                    )} \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(withUser(Home))\r\n","export default __webpack_public_path__ + \"static/media/exit-icon.ee9ecdda.svg\";","export default __webpack_public_path__ + \"static/media/drop-down-downarrow.55d8cc96.svg\";","export default __webpack_public_path__ + \"static/media/drop-down-uparrow.3d642aba.svg\";","import React, { Component } from 'react';\r\nimport {withRouter, NavLink} from 'react-router-dom';\r\nimport { withUser } from \"./../../Components/Auth/withUser\";\r\nimport apiHandler from './../../apiHandler/apiHandler'\r\n\r\nimport './../../Styles/NavDashboard.css';\r\nimport logo from './../../Assets/logo.svg';\r\nimport logout from './../../Assets/exit-icon.svg';\r\nimport arrowDown from './../../Assets/drop-down-downarrow.svg';\r\nimport arrowUp from './../../Assets/drop-down-uparrow.svg';\r\n\r\nclass DashboardNavBar extends Component {\r\n\r\n    state = {\r\n        rapportClicked: false\r\n    }\r\n\r\n    handleOpen = () => {\r\n        this.setState({rapportClicked: !this.state.rapportClicked});\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({rapportClicked: false});\r\n    }\r\n\r\n    handleLogout = () => {\r\n        const {context} = this.props ;\r\n\r\n        apiHandler\r\n          .logout()\r\n          .then(() => {\r\n            context.removeUser();\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { context } = this.props ;\r\n        const { rapportClicked } = this.state\r\n\r\n        return (\r\n            <>\r\n            {this.props.location.pathname !== '/' &&\r\n                <div id=\"DashboardNavBar\">\r\n                    <img className=\"logo\" src={logo} alt=\"\"/>\r\n\r\n                    <NavLink \r\n                        exact\r\n                        to=\"/history\"\r\n                        className=\"link\" \r\n                        activeClassName=\"selected\"\r\n                        onClick={this.handleClose}\r\n                    >\r\n                        Visites\r\n                    </NavLink>\r\n                    <div className=\"rapport-container\">\r\n                        <div \r\n                            className=\"rapport\" \r\n                            onClick={this.handleOpen}\r\n                        >\r\n                            <p>Rapport</p>\r\n                            <img src={rapportClicked ? arrowUp : arrowDown} alt=\"\"/>\r\n                        </div>\r\n                        {rapportClicked &&\r\n                            <div \r\n                                onMouseLeave={this.handleClose}\r\n                                className=\"drop-down-rapport\"\r\n                            >\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/categories-repartition\"\r\n                                    className=\"sublink\" \r\n                                    activeClassName=\"selected\"\r\n                                >\r\n                                    Rpartition des visites\r\n                                </NavLink>\r\n\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/jour-affluence\"\r\n                                    className=\"sublink\"\r\n                                    activeClassName=\"selected\" \r\n                                >\r\n                                    Jours d'affluence\r\n                                </NavLink>\r\n\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/heure-affluence\"\r\n                                    className=\"sublink\" \r\n                                    activeClassName=\"selected\"\r\n                                >\r\n                                    Heures d'affluence\r\n                                </NavLink>\r\n\r\n                                <NavLink\r\n                                    exact\r\n                                    to=\"/exporter\"\r\n                                    className=\"sublink\" \r\n                                    activeClassName=\"selected\"\r\n                                >\r\n                                    Exporter\r\n                                </NavLink>\r\n                            </div>\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    {\r\n                        !context.isLoading && context.isLoggedIn && context.user.isAdmin &&\r\n                        <NavLink \r\n                            exact\r\n                            to=\"/parameters\"\r\n                            className=\"link\" \r\n                            activeClassName=\"selected\"\r\n                            onClick={this.handleClose}\r\n                        >\r\n                        Paramtres\r\n                        </NavLink>\r\n                    }\r\n\r\n                    {\r\n                        !context.isLoading && context.isLoggedIn && context.user.isAdmin &&\r\n                        <NavLink \r\n                            exact\r\n                            to=\"/users\"\r\n                            className=\"link\" \r\n                            activeClassName=\"selected\"\r\n                            onClick={this.handleClose}\r\n                        >\r\n                        Utilisateurices\r\n                        </NavLink>\r\n                    }\r\n\r\n\r\n                    <div className=\"logout\" onClick={this.handleLogout}>\r\n                        <img src={logout} alt=\"\"/>\r\n                        <p>Dconnexion</p>\r\n                    </div>\r\n                </div>\r\n            }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withUser(withRouter(DashboardNavBar))\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './../../Styles/VisitCardInfo.css';\r\nimport editIcon from './../../Assets/edit-icon.svg';\r\nimport deleteIcon from './../../Assets/trash-icon.svg';\r\n\r\nclass VisitCardInfo extends Component {\r\n    state = {\r\n        isHovering: false\r\n    }\r\n\r\n    handleMouseEnterCard = () => {\r\n        this.setState({isHovering: true})\r\n      }\r\n    \r\n    handleMouseLeaveCard = () => {\r\n        this.setState({isHovering: false})\r\n    }\r\n\r\n    render() {\r\n        const {isHovering} = this.state;\r\n        const {visit, onDelete} = this.props;\r\n\r\n        const date = new Date(visit.date);\r\n        const hour = date.getHours();\r\n        let minutes = date.getMinutes();\r\n        minutes = minutes < 10 ? '0' + minutes : minutes;\r\n    \r\n        return (\r\n            <div \r\n                onMouseEnter={this.handleMouseEnterCard}\r\n                onMouseLeave={this.handleMouseLeaveCard}\r\n                className=\"CardContainer\"\r\n            >\r\n                <div className=\"card-info\">\r\n                    <p>{`${hour}h${minutes}`}</p>\r\n                    <div>{visit.category.name}</div>\r\n                    <div>{visit.contactType.name}</div>\r\n                </div>\r\n                {isHovering &&\r\n                    <aside>\r\n                        <Link to={{\r\n                            pathname:\"/update-visit\",\r\n                            state: {\r\n                                visitId: visit\r\n                            }\r\n                        }}>\r\n                            <img src={editIcon} alt=\"\"/>\r\n                        </Link>\r\n                        <img onClick={() => onDelete(visit._id)} src={deleteIcon} alt=\"trash-can\"/>\r\n                    </aside>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default VisitCardInfo\r\n","import React, { Component } from 'react';\r\nimport apiHandler from './../../apiHandler/apiHandler';\r\nimport CardInfo from '../../Components/Visits/VisitCardInfo';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport './../../Styles/History.css';\r\nimport plusIcon from './../../Assets/plus-icon.svg';\r\n\r\nclass History extends Component {\r\n    state = {\r\n        allVisits: null\r\n    } \r\n\r\n    componentDidMount() {\r\n        apiHandler\r\n        .getVisits()\r\n        .then(res => {\r\n            this.setState({allVisits : res});\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    onDelete = (visitId) => {\r\n        apiHandler\r\n        .deleteVisit(visitId)\r\n        .then(res => {\r\n            const filterDeletedVisit = this.state.allVisits\r\n            .filter(visit => visit._id !== res._id);\r\n            \r\n            this.setState({allVisits : filterDeletedVisit});\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {allVisits} = this.state;\r\n\r\n        return (\r\n            <div id=\"History\">\r\n                <div id=\"header\">\r\n                    <p>dernires visites</p>\r\n                    <Link\r\n                        exact=\"true\"\r\n                        to='/new-visit'\r\n                        className=\"link\"\r\n                    >\r\n                        <button>\r\n                            <img src={plusIcon} alt=\"\"/>\r\n                            <p>Ajouter une visite </p>\r\n                        </button>\r\n                    </Link>\r\n                </div>\r\n                {allVisits && allVisits.map(visit =>\r\n                    <CardInfo \r\n                        key={visit._id}\r\n                        visit={visit}\r\n                        onDelete={this.onDelete}\r\n                    />\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default History\r\n","export default __webpack_public_path__ + \"static/media/info-icon.d796eed5.svg\";","import React, { Component } from 'react';\r\nimport infoIcon from './../../Assets/info-icon.svg';\r\nimport {isMobileOnly} from 'react-device-detect';\r\n\r\nexport class CategoryCard extends Component {\r\n    state = {\r\n        isHoveringInfoIcon: false\r\n    } \r\n\r\n    handleMouseEnter = () => {\r\n        this.setState({isHoveringInfoIcon: true});\r\n    } \r\n\r\n    handleMouseLeave = () => {\r\n        this.setState({isHoveringInfoIcon: false});\r\n    } \r\n\r\n    handleTouchInfo = (e) => {\r\n        e.preventDefault();\r\n        this.setState({isHoveringInfoIcon: !this.state.isHoveringInfoIcon});\r\n    }\r\n\r\n    handleTouchEnd = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        const {category, handleSelectItem} = this.props;\r\n        const {isHoveringInfoIcon} = this.state;\r\n\r\n        return (\r\n            <div className=\"cat-cont-card\">\r\n                <div \r\n                    onClick={() => handleSelectItem(category._id, category.name, \"category\")}\r\n                    className=\"cat-cont\"\r\n                >\r\n\r\n                    {isHoveringInfoIcon && !isMobileOnly &&\r\n                        <div className=\"info-toolbox\">\r\n                            <h3>{category.description}</h3> \r\n                            <div></div>\r\n                        </div>\r\n                    }\r\n\r\n                    <p>{category.name}</p> \r\n                    \r\n                    <img \r\n                        onMouseEnter={this.handleMouseEnter}\r\n                        onMouseLeave={this.handleMouseLeave}\r\n                        style= {{opacity : isHoveringInfoIcon ? \"1\" : \"0.5\"}}\r\n                        onTouchStart={this.handleTouchInfo}\r\n                        onTouchEnd={this.handleTouchEnd}\r\n                        src={infoIcon} alt=\"\"\r\n                    />\r\n                \r\n                </div>\r\n                \r\n                {isMobileOnly && isHoveringInfoIcon &&\r\n                    <div className=\"description-mobile\">\r\n                        <p>{category.description}</p>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CategoryCard\r\n","export default __webpack_public_path__ + \"static/media/purple-plus-icon.e544e5d6.svg\";","export default __webpack_public_path__ + \"static/media/minus-icon.6e71681a.svg\";","export default __webpack_public_path__ + \"static/media/wait-icon.bf1db0d1.svg\";","export default __webpack_public_path__ + \"static/media/check-icon.36bd77f3.svg\";","import React, { Component } from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\nimport CategoryCard from './CategoryCard';\r\n\r\nimport './../../Styles/CreateVisit.css';\r\nimport plusIcon from './../../Assets/purple-plus-icon.svg';\r\nimport minusIcon from './../../Assets/minus-icon.svg';\r\nimport editIcon from './../../Assets/edit-icon.svg';\r\nimport waitIcon from './../../Assets/wait-icon.svg';\r\nimport checkedIcon from './../../Assets/check-icon.svg';\r\n\r\nexport class ChooseCategory extends Component {\r\n    state = {\r\n        nbOfPerson: 1,\r\n        date: new Date(),\r\n\r\n        category: null,\r\n        contactType: null,\r\n\r\n        allCategories: null,\r\n        allContactTypes: null,\r\n\r\n        visitToUpdate: null,\r\n        isUpdateVisit: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        apiHandler\r\n        .getCategories()\r\n        .then(res => {\r\n            const activeCategories = res.filter(cat => cat.isActive);\r\n            this.setState({allCategories : activeCategories})\r\n        })\r\n        .catch(err => console.log(err));\r\n\r\n        apiHandler\r\n        .getContactTypes()\r\n        .then(res => {\r\n            const activeContacts = res.filter(cont => cont.isActive);\r\n            this.setState({allContactTypes : activeContacts});\r\n        })\r\n        .catch(err => console.log(err));\r\n\r\n        //if there is a visitId props, it means that I come from update a visit\r\n        //then I need the visit Information and isUpdateVisit\r\n        if(this.props.visitId) {\r\n            this.setState({visitToUpdate : this.props.visitId, isUpdateVisit: true})\r\n        }\r\n    }\r\n\r\n    handleDecrease = () => {\r\n        if(this.state.nbOfPerson > 1) \r\n            this.setState({nbOfPerson : this.state.nbOfPerson - 1});\r\n    }\r\n\r\n    handleIncrease = () => {\r\n        this.setState({nbOfPerson : this.state.nbOfPerson + 1});\r\n    }\r\n\r\n    handleSelectItem = (id, name, item) => {\r\n        this.setState({[item] : {id, name}});\r\n    }\r\n\r\n    //if user change their mind about selecting a category or contact type\r\n    //if user was here to update it resets information \r\n    handleChangeItem = (item) => {\r\n        this.setState({[item] : null, isUpdateVisit:false});\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        const {nbOfPerson, category, contactType, visitToUpdate} = this.state;\r\n\r\n        if(visitToUpdate) {\r\n\r\n            apiHandler\r\n            .updateVisit(visitToUpdate._id, {\r\n                date: visitToUpdate.date,\r\n                category: category.id,\r\n                contactType: contactType.id\r\n            })\r\n            .then(() => this.props.history.push('/history'))\r\n            .catch(error => console.log(error))\r\n\r\n        } else {\r\n\r\n            for(let i = 0; i < nbOfPerson; i++) {\r\n                apiHandler\r\n                .createVisit({\r\n                    category : category.id,\r\n                    contactType : contactType.id\r\n                })\r\n                .then(() => {\r\n                    if(i === nbOfPerson - 1) {\r\n                        this.props.history.push('/history')\r\n                    }\r\n                })\r\n                .catch(error => console.log(error));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {allCategories, category, allContactTypes, contactType, date, nbOfPerson, visitToUpdate, isUpdateVisit} = this.state\r\n\r\n        const dateFormat = date.toLocaleDateString('fr-FR', { year: 'numeric', month: 'long', day: 'numeric' });\r\n        \r\n        return (\r\n            <form \r\n                onSubmit={this.handleSubmit}\r\n                id=\"CreateForm\"\r\n            >\r\n                {/* if visit to update we don't want the user to change nbofperson and/or date */}\r\n                {!visitToUpdate &&\r\n                    <div id=\"first-form\">\r\n                        <div id=\"nb-of-person\">\r\n                            <div className=\"input-header\">\r\n                                <h2>nombre de personnes</h2>\r\n                                {nbOfPerson && \r\n                                    <img src={checkedIcon} alt=\"\"/>\r\n                                }\r\n                            </div>\r\n                            <div className=\"input-content\">\r\n                                <img \r\n                                    onClick={this.handleDecrease}\r\n                                    src={minusIcon} alt=\"\"\r\n                                />\r\n                                <p className=\"validated-input\">\r\n                                    {nbOfPerson} personne{nbOfPerson > 1 ? 's' : ''}\r\n                                </p>\r\n                                <img \r\n                                onClick={this.handleIncrease} \r\n                                src={plusIcon} alt=\"\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div id=\"date\">\r\n                            <div className=\"input-header\">\r\n                                <h2>date</h2>\r\n                                {date && \r\n                                    <img src={checkedIcon} alt=\"\"/>\r\n                                }\r\n                            </div>\r\n                            <div className=\"input-content\">\r\n                                <p className=\"validated-input\">{dateFormat}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"input-header\">\r\n                    <h2>service du centre demand</h2>\r\n                    {category && \r\n                        <img src={checkedIcon} alt=\"\"/>\r\n                    }\r\n                </div>\r\n                <div className=\"cat-cont-container\">\r\n                    {!isUpdateVisit && \r\n                    !category &&\r\n                    allCategories &&\r\n                        allCategories.map(category => \r\n                            <CategoryCard key={category._id} category={category} handleSelectItem={this.handleSelectItem}/>\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n                {/* probably an OR guardian for this one, to check on v2 */}\r\n                {category &&\r\n                    <div \r\n                        onClick={() => this.handleChangeItem('category')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{category.name}</p>\r\n                        <img src={editIcon} alt=\"\"/>\r\n                    </div>\r\n                }\r\n\r\n                {isUpdateVisit &&\r\n                    <div \r\n                        onClick={() => this.handleChangeItem('category')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{visitToUpdate.category.name}</p>\r\n                        <img src={editIcon} alt=\"\"/>\r\n                    </div>\r\n                }           \r\n\r\n                <div className=\"input-header\">\r\n                    <h2>mode de contact utilis</h2>\r\n                    {!category &&\r\n                        <img \r\n                            src={waitIcon} \r\n                            alt=\"\"\r\n                        />\r\n                    }\r\n                    {contactType &&\r\n                    category &&\r\n                        <img src={checkedIcon} alt=\"\"/>\r\n                    }\r\n                </div>\r\n                <div className=\"cat-cont-container\">\r\n                    {category && \r\n                    !contactType &&\r\n                    allContactTypes &&\r\n                        allContactTypes.map(contact => \r\n                            <div className=\"cat-cont-card\">\r\n                                <div \r\n                                    onClick={() => this.handleSelectItem(contact._id, contact.name, \"contactType\")}\r\n                                    key={contact._id}\r\n                                    className=\"cat-cont\"\r\n                                >\r\n                                    <p>{contact.name}</p>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n                {category && contactType &&\r\n                    <div \r\n                        onClick={() => this.handleChangeItem('contactType')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{contactType.name}</p>\r\n                        <img src={editIcon} alt=\"\"/>\r\n                    </div>\r\n                }   \r\n\r\n                {isUpdateVisit &&\r\n                    <div \r\n                        onClick={() => this.handleChangeItem('contactType')}\r\n                        className=\"selected-cat-cont\"\r\n                    >\r\n                        <p className=\"validated-input\">{visitToUpdate.contactType.name}</p>\r\n                        <img src={editIcon} alt=\"\"/>\r\n                    </div>\r\n                }   \r\n\r\n                {category && contactType &&\r\n                    <button>Enregistrer</button>\r\n                }\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ChooseCategory);\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './../../Styles/FormHeader.css';\r\n\r\n\r\nclass FormHeader extends Component {\r\n    handleCancel = () => {\r\n        this.props.history.push('/history');\r\n    } \r\n\r\n    render() {\r\n        return (\r\n            <div className=\"FormHeader\">\r\n                <h1>{this.props.title}</h1>\r\n                <button onClick={this.handleCancel}> <p> Annuler </p> </button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(FormHeader);\r\n","import React, { Component } from 'react';\r\nimport CreateVisitForm from '../../Components/Visits/CreateVisitForm';\r\nimport FormHeader from '../../Components/GlobalElements/FormHeader';\r\n\r\n\r\nclass CreateVisit extends Component {\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <>\r\n                <FormHeader title=\"ajouter une nouvelle visite\"/>\r\n                <CreateVisitForm />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreateVisit\r\n","import React, { Component } from 'react';\r\nimport UpdateVisitForm from './../../Components/Visits/CreateVisitForm';\r\nimport FormHeader from '../../Components/GlobalElements/FormHeader';\r\n\r\nclass UpdateVisit extends Component {\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                <FormHeader title=\"modifier une visite\"/>\r\n                {this.props.location.state.visitId &&\r\n                 <UpdateVisitForm visitId={this.props.location.state.visitId}/>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UpdateVisit\r\n","export default __webpack_public_path__ + \"static/media/archive-icon.3b723ef2.svg\";","export default __webpack_public_path__ + \"static/media/on-off-icon.3d90d127.svg\";","import React, { Component } from \"react\";\r\nimport archiveIcon from \"./../../Assets/archive-icon.svg\";\r\nimport editIcon from \"./../../Assets/edit-icon.svg\";\r\nimport onOffIcone from \"./../../Assets/on-off-icon.svg\";\r\n\r\nimport './../../Styles/CatContCard.css';\r\n\r\nexport class CardItemWidget extends Component {\r\n  state = {\r\n    isHovering: false\r\n  }\r\n\r\n  onOffItem = async () => {\r\n    const { _id, isActive, name, description } = this.props.item;\r\n    const { handleUpdateView } = this.props;\r\n    console.log(_id);\r\n    try {\r\n      await this.props.updateItem(_id, {\r\n        name,\r\n        description,\r\n        isActive: !isActive,\r\n      });\r\n      handleUpdateView();\r\n    } catch (err) {\r\n      console.log(err);\r\n      handleUpdateView();\r\n    }\r\n  };\r\n\r\n  handleMouseEnterCard = () => {\r\n    this.setState({isHovering: true})\r\n  }\r\n\r\n  handleMouseLeaveCard = () => {\r\n    this.setState({isHovering: false})\r\n  }\r\n\r\n  render() {\r\n    const {item, handleOpenUpdate} = this.props;\r\n\r\n    return (\r\n      <div \r\n        onMouseEnter={this.handleMouseEnterCard}\r\n        onMouseLeave={this.handleMouseLeaveCard}\r\n        className=\"CardContainerItem\"\r\n      >\r\n        <div className=\"left-container\">\r\n          <div className=\"status-container\">\r\n            <p>\r\n              {item.isActive ? \"actif\" : \"archiv\"}\r\n            </p>\r\n          </div>\r\n          <p>{item.name}</p>\r\n        </div>\r\n        {this.state.isHovering &&\r\n        item.isActive && (\r\n          <aside>\r\n            <img\r\n              src={editIcon}\r\n              alt=\"edit-icone\"\r\n              onClick={handleOpenUpdate}\r\n            />\r\n            <img\r\n              src={archiveIcon}\r\n              alt=\"archive-icon\"\r\n              onClick={this.onOffItem}\r\n            />\r\n          </aside>\r\n        )}\r\n        {this.state.isHovering &&\r\n        !item.isActive && (\r\n          <aside>\r\n            <img src={onOffIcone} alt=\"archive-icon\" onClick={this.onOffItem} />\r\n          </aside>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CardItemWidget;\r\n","import React, { Component } from \"react\";\r\nimport CardCatCont from \"./CardCatCont\";\r\n\r\nimport \"../../Styles/SettingsCatCont.css\";\r\nimport plusIcon from \"../../Assets/plus-icon.svg\";\r\n\r\nexport class AllItems extends Component {\r\n  state = {\r\n    items: null,\r\n    showCreateForm: false,\r\n    //  when click to add an item : become true and show the form popup by guardian\r\n    showUpdateForm: null,\r\n    //  When click to update an item : become become the full object (and so become truthy)\r\n    //  and the update form apears by guardian. Then one can use the content of the state to fill the form\r\n    //  with actual values\r\n  };\r\n\r\n  async componentDidMount() {\r\n    // Get the total list of items when the component is monted\r\n    try {\r\n      const items = await this.props.getAllItmes();\r\n      this.setState({ items });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  handleUpdateView = async () => {\r\n    // Use to update the list of items when an update has been done\r\n    try {\r\n      const items = await this.props.getAllItmes();\r\n      this.setState({ items });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  handleOpenCreate = () => {\r\n    this.setState({ showUpdateForm: null, showCreateForm: true });\r\n  };\r\n\r\n  handleOpenUpdate = (item) => {\r\n    this.setState({ showCreateForm: false, showUpdateForm: item });\r\n  };\r\n\r\n  handleCloseCreate = () => {\r\n    this.setState({ showCreateForm: false });\r\n  };\r\n\r\n  handleCloseUpdate = () => {\r\n    this.setState({ showUpdateForm: null });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      title,\r\n      buttonName,\r\n      updateItem,\r\n      FormCreateUpdateComponent,\r\n      formCreateAction,\r\n    } = this.props;\r\n    const { items, showCreateForm, showUpdateForm } = this.state;\r\n    \r\n    const titleFormat = title === \"Type de contact\" ? \"un type de contact\" : \"une catgorie\"\r\n\r\n    let activeitems, inactiveitems;\r\n\r\n    if (items) {\r\n      activeitems = items.filter((item) => item.isActive);\r\n      inactiveitems = items.filter((item) => !item.isActive);\r\n    }\r\n\r\n    return (\r\n      <div id=\"item-collection-container\"> \r\n        <div id=\"header-cat-cont\">\r\n          <p>{title}</p>\r\n          <div onClick={this.handleOpenCreate}>\r\n            <img src={plusIcon} alt=\"plus-icon\" />\r\n            <p>{buttonName}</p>\r\n          </div>\r\n        </div>\r\n        {items && (\r\n          <div id=\"items-container\">\r\n            <div className=\"dashboard-cat-cont\">\r\n              {activeitems.map((item) => (\r\n                <CardCatCont\r\n                  item={item}\r\n                  updateItem={updateItem}\r\n                  handleOpenUpdate={() => this.handleOpenUpdate(item)}\r\n                  handleUpdateView={this.handleUpdateView}\r\n                  // To update views after deleting an item for instance\r\n                  key={item._id}\r\n                />\r\n              ))}\r\n            </div>\r\n            <div className=\"dashboard-cat-cont\">\r\n              {inactiveitems.map((item) => (\r\n                <CardCatCont\r\n                  item={item}\r\n                  updateItem={updateItem}\r\n                  handleOpenUpdate={() => this.handleOpenUpdate(item)}\r\n                  handleUpdateView={this.handleUpdateView}\r\n                  key={item._id}\r\n                />\r\n              ))\r\n            }\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {showCreateForm && (\r\n          // appears only the the state is true\r\n          <FormCreateUpdateComponent\r\n            formType={\"Ajouter \"}\r\n            formName={titleFormat}\r\n            formAction={formCreateAction}\r\n            handleUpdateView={this.handleUpdateView}\r\n            closeForm={this.handleCloseCreate}\r\n          />\r\n        )}\r\n\r\n        {showUpdateForm && (\r\n          // appears only the the state is not empty/ here the state is a full item so that one can use\r\n          // its informations to fill the form\r\n          <FormCreateUpdateComponent\r\n            formType={\"Modifier \"}\r\n            formName={titleFormat}\r\n            formAction={(value) =>\r\n              updateItem(this.state.showUpdateForm._id, value)\r\n            }\r\n            handleUpdateView={this.handleUpdateView}\r\n            closeForm={this.handleCloseUpdate}\r\n            values={this.state.showUpdateForm}\r\n            // current value of the item\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AllItems;\r\n","import React, { Component } from \"react\";\r\nimport \"./../../Styles/FormCreateCatCont.css\";\r\n\r\nexport default class FormCreateUpdateCategory extends Component {\r\n    state={\r\n        name: this.props.values ? this.props.values.name: \"\",\r\n        description: this.props.values ? this.props.values.description: \"\",\r\n\r\n        isNameValidated: true,\r\n        isdescriptionValidated : true\r\n    }\r\n\r\n    wrapperRef = React.createRef();\r\n\r\n    handleClickOutside = event => {\r\n      if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\r\n        this.props.closeForm();\r\n      }\r\n    }\r\n  \r\n    componentDidMount() {\r\n      document.addEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      document.removeEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        //  when the user want to change the upfateform without closing the previous one\r\n        if (prevProps.values) {\r\n            const {name: prevName} = prevProps.values\r\n            if (this.props.values.name !== prevName) {\r\n                this.setState({name: this.props.values.name}) ;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleSubmit =  async event => {\r\n        event.preventDefault()\r\n\r\n        const {formAction, handleUpdateView, closeForm} = this.props ;\r\n        const {name, description} = this.state ;\r\n\r\n        if (name.length < 3 || description.length < 3) {\r\n            this.setState({isNameValidated: name.length >= 3, isdescriptionValidated: description.length >= 3}) ;\r\n            return ;\r\n        }\r\n\r\n        try {\r\n            await formAction({...this.state, isActive: true}) ;\r\n            handleUpdateView() ;\r\n            closeForm() ;\r\n        } catch(err) {\r\n            console.log(err) ;\r\n            closeForm() ;\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value, isNameValidated: true, isdescriptionValidated: true});\r\n    };\r\n\r\n\r\n  render() {\r\n    const { formType, formName, closeForm } = this.props;\r\n    const {name, description, isNameValidated, isdescriptionValidated} = this.state ;\r\n\r\n    return (\r\n      <div className=\"shadow-pop-up\">\r\n        <div ref={this.wrapperRef} className=\"FormCreateUpdateContact\">\r\n            <div>\r\n                <h1>{formType}{formName}</h1>\r\n                <div className=\"close-pop-up\" onClick={closeForm}>\r\n                Annuler\r\n                </div>\r\n            </div>\r\n          <form onSubmit={this.handleSubmit} className=\"form-update-create\">\r\n            <label htmlFor=\"name\">Name</label>\r\n            <input\r\n              className={!isNameValidated ?  \"error-input\" : \"\"}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              id=\"name\"\r\n              value={name}\r\n              onChange={this.handleChange}\r\n            />\r\n            {!isNameValidated && \r\n              <div className=\"error-message name-error\">\r\n                <p>Le nom doit contenir au moins 3 caractres</p>\r\n              </div> \r\n            }\r\n\r\n            <label htmlFor=\"description\">Description</label>\r\n            <textarea\r\n              className={!isdescriptionValidated ?  \"error-input\" : \"\"}\r\n              name=\"description\"\r\n              id=\"description\"\r\n              value={description}\r\n              onChange={this.handleChange}\r\n            />\r\n            {!isdescriptionValidated && \r\n              <div className=\"error-message description-error\">\r\n                <p>La description doit contenir au moins 3 caractres</p>\r\n              </div>\r\n            }\r\n            <button>{formType}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './../../Styles/FormCreateCatCont.css';\r\n\r\nexport default class FormCreateUpdateContact extends Component {\r\n\r\n    state={\r\n        name: this.props.values ? this.props.values.name: \"\",\r\n        //  if update type, this.props.values is given and the initial values of the item are given\r\n        isNameValidated: true \r\n    }\r\n\r\n    wrapperRef = React.createRef();\r\n\r\n    handleClickOutside = event => {\r\n      if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\r\n        this.props.closeForm();\r\n      }\r\n    }\r\n  \r\n    componentDidMount() {\r\n      document.addEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      document.removeEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        //  when the user want to change the updateform without closing the previous one\r\n        if (prevProps.values) {\r\n            // the fact that the props contains values property indicates the form is used for update\r\n            const {name: prevName} = prevProps.values ;\r\n            if (this.props.values.name !== prevName) {\r\n                // update only if change or name\r\n                this.setState({name: this.props.values.name}) ;\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = event => {\r\n        this.setState({name: event.target.value, isNameValidated:true})\r\n    }\r\n\r\n    handleSubmit =  async event => {\r\n        event.preventDefault()\r\n\r\n        const {formAction, handleUpdateView, closeForm} = this.props ;\r\n        const {name} = this.state ;\r\n\r\n        if (name.length < 3) {\r\n            this.setState({isNameValidated: false}) ;\r\n            return ;\r\n        }\r\n\r\n        try {\r\n            await formAction({name, isActive: true}) \r\n            handleUpdateView() ;\r\n            closeForm() ;\r\n        } catch(err) {\r\n            console.log(err) ;\r\n            closeForm() ;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const { formType, formName,closeForm } = this.props ;\r\n        const { name, isNameValidated}  = this.state ;\r\n        return (\r\n            <div className=\"shadow-pop-up\">\r\n                <div ref={this.wrapperRef} className=\"FormCreateUpdateContact\">\r\n                    <div>\r\n                        <h1>{formType}{formName}</h1>\r\n                        <div className=\"close-pop-up\" onClick={closeForm}>Annuler</div>\r\n                    </div>\r\n                    <form className=\"form-update-create\" onSubmit={this.handleSubmit}>\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input \r\n                            className={!isNameValidated ?  \"error-input\" : \"\"}\r\n                            type=\"text\" \r\n                            name=\"name\" \r\n                            id=\"name\"\r\n                            value={name}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        {!isNameValidated && \r\n                            <div className=\"error-message name-error-contact\">\r\n                            <p>Le nom doit contenir au moins 3 caractres</p>\r\n                            </div> \r\n                        }\r\n                    <button>{formType}</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport apiHandler from \"./../../apiHandler/apiHandler\";\r\n\r\nimport AllItems from \"./../../Components/CategoriesContacts/AllItems\";\r\nimport FormCreateUpdateCategory from \"./../../Components/CategoriesContacts/FormCreateUpdateCategory\";\r\nimport FormCreateUpdateContact from \"./../../Components/CategoriesContacts/FormCreateUpdateContact\";\r\n\r\n// Render a the catgory and contact management\r\n// The wiews contain two parts :\r\n//  - The display of all categories\r\n//  - the display of all contact type\r\n// those ewo parts arre render with the same component AllItems, use with diffeent props\r\n\r\nfunction SettingsCatCont() {\r\n  return (\r\n    <>\r\n      {/* Category lists */}\r\n      <AllItems\r\n        title={\"Catgories\"}\r\n        buttonName={\"Ajouter une catgorie\"}\r\n        getAllItmes={apiHandler.getCategories}\r\n        //  CRUD part\r\n        //  the list contains there own crud form used to update or crete a new item.\r\n        //  The form is different according the the item type, but is is the same for update and create.\r\n        //  So, we giva as props the form action for both case : here updateCatgery for the update part\r\n        //  and createCategort for the createPart. The user can't delete coompletely an item : it's only\r\n        //  a logic delete (isActive become false), so the delete part is managed by an update\r\n        FormCreateUpdateComponent={FormCreateUpdateCategory}\r\n        updateItem={apiHandler.updateCategory}\r\n        formCreateAction={apiHandler.createCategory}\r\n      />\r\n\r\n      {/* Contact lists */}\r\n      <AllItems\r\n        title={\"Type de contact\"}\r\n        buttonName={\"Ajouter un type de contact\"}\r\n        getAllItmes={apiHandler.getContactTypes}\r\n        FormCreateUpdateComponent={FormCreateUpdateContact}\r\n        updateItem={apiHandler.updateContactType}\r\n        formCreateAction={apiHandler.createContactType}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SettingsCatCont;\r\n","import React, { Component } from 'react';\r\nimport Calendar from 'react-calendar';\r\n\r\nexport class DataVizHeader extends Component {\r\n\r\n    render() {\r\n        const {calendarClicked, setStartDate, openCalendar, date, selectDayClicked, openFilterDay, weekDays, leaveSelectDay, title} = this.props;\r\n        \r\n        return (\r\n            <div className=\"Graph-header\">\r\n                <h2>{title}</h2>\r\n                <div className= \"filter-container\">\r\n                    {this.props.isCheckboxes &&\r\n                        <div className=\"select-day-container\">\r\n                            <p \r\n                            className={selectDayClicked ? \"selected-filter\" : \"\"}\r\n                            onClick={openFilterDay}>\r\n                                Choisir jours\r\n                            </p>\r\n                            {selectDayClicked &&\r\n                                <div \r\n                                    onMouseLeave={leaveSelectDay}\r\n                                    className=\"select-day-drop-down\">\r\n                                    <div>\r\n                                        <label htmlFor=\"Lundi\">Lundi</label>\r\n                                        <input type=\"checkbox\" name=\"Lundi\" id=\"Lundi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Lundi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Mardi\">Mardi</label>\r\n                                        <input type=\"checkbox\" name=\"Mardi\" id=\"Mardi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Mardi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Mercredi\">Mercredi</label>\r\n                                        <input type=\"checkbox\" name=\"Mercredi\" id=\"Mercredi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Mercredi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Jeudi\">Jeudi</label>\r\n                                        <input type=\"checkbox\" name=\"Jeudi\" id=\"Jeudi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Jeudi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Vendredi\">Vendredi</label>\r\n                                        <input type=\"checkbox\" name=\"Vendredi\" id=\"Vendredi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Vendredi\")}/>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label htmlFor=\"Samedi\">Samedi</label>\r\n                                        <input type=\"checkbox\" name=\"Samedi\" id=\"Samedi\" onChange={this.props.handleToggleDay} defaultChecked={weekDays.includes(\"Samedi\")}/>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    }\r\n                    <p \r\n                        className={calendarClicked ? \"selected-filter\" : \"\"}\r\n                        onClick={openCalendar}>Choisir dates</p>\r\n                    {calendarClicked &&\r\n                        <div onMouseLeave={leaveSelectDay}>\r\n                            <Calendar\r\n                                onChange={setStartDate}\r\n                                selectRange={true}\r\n                                value={date}\r\n                                className=\"small-calendar\"\r\n                            />\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DataVizHeader\r\n","import React, { Component, createRef } from 'react';\r\nimport { PieChart, Pie, Tooltip, Cell, ResponsiveContainer, Legend } from \"recharts\";\r\nimport { exportComponentAsPNG } from 'react-component-export-image';\r\n\r\nimport './../../Styles/Calendar.css';\r\nimport './../../Styles/DataViz.css';\r\n\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\n\r\nimport Header from './../../Components/DataVizHeader';\r\n\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, name }) => {\r\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n\tconst x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n\tconst y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n\treturn (\r\n\t\t<text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n\t\t\t{`${(percent * 100).toFixed(0)}%`}\r\n\t\t</text>\r\n\t);\r\n};\r\n\r\n\r\nexport class CategoriesDistribution extends Component {\r\n\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tdate: [new Date(), new Date()],\r\n\t\tcalendarClicked: false,\r\n\t\tplotLegend: false\r\n\t}\r\n\r\n\tchartRef = createRef();\r\n\r\n\tcolors = [\"#ffb0b0\", \"#fac696\", \"#f7e68f\", \"#a7f2a5\", \"#96f2ef\", \"#b5c8ff\", \"#F5C7FF\", \"#C4C4C4\"];\r\n\r\n\tsetStartDate = date => {\r\n\t\tthis.setState({ date },\r\n\t\t\t() => apiHandler.repartitionByCategory({ dates: date })\r\n\t\t\t\t.then(res => this.setState({ data: res }))\r\n\t\t\t\t.catch(err => console.log(err))\r\n\t\t);\r\n\r\n\t\tthis.setState({ calendarClicked: false });\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst dateBegin = this.state.date[0].toISOString().substring(0, 10) + \" 00:00:00\";\r\n\t\tconst dateEnd = this.state.date[1].toISOString().substring(0, 10) + \" 23:59:59\";\r\n\t\tapiHandler.repartitionByCategory({ dates: [dateBegin, dateEnd] })\r\n\t\t\t.then(res => this.setState({ data: res }))\r\n\t\t\t.catch(err => console.log(err))\r\n\t};\r\n\r\n\topenCalendar = () => {\r\n\t\tthis.setState({ calendarClicked: !this.state.calendarClicked });\r\n\t};\r\n\r\n\tleaveSelectDay = () => {\r\n\t\tthis.setState({ calendarClicked: false });\r\n\t}\r\n\r\n\texportChart = () => {\r\n\t\tthis.setState({ plotLegend: true }, () => {\r\n\t\t\texportComponentAsPNG(this.chartRef);\r\n\t\t\tthis.setState({ plotLegend: false })\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { date, data, calendarClicked, plotLegend } = this.state;\r\n\t\tconst dateBegin = date[0].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n\t\tconst dateEnd = date[1].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"main-container\">\r\n\t\t\t\t<Header\r\n\t\t\t\t\tsetStartDate={this.setStartDate}\r\n\t\t\t\t\tcalendarClicked={calendarClicked}\r\n\t\t\t\t\topenCalendar={this.openCalendar}\r\n\t\t\t\t\tleaveSelectDay={this.leaveSelectDay}\r\n\t\t\t\t\tdate={date}\r\n\t\t\t\t\ttitle=\"rpartitions des semaines\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"background-container\" ref={this.chartRef}>\r\n\t\t\t\t\t<div className=\"Graph-container\">\r\n\t\t\t\t\t\t<div className=\"date-range-container\">\r\n\t\t\t\t\t\t\t<p>du {dateBegin} au {dateEnd}</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t\t&&\r\n\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height=\"100%\" >\r\n\t\t\t\t\t\t\t\t<PieChart >\r\n\t\t\t\t\t\t\t\t\t<Legend verticalAlign=\"top\" align=\"center\" height=\"30px\" />\r\n\t\t\t\t\t\t\t\t\t<Pie\r\n\t\t\t\t\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\t\t\t\t\tstartAngle={180}\r\n\t\t\t\t\t\t\t\t\t\tendAngle={0}\r\n\t\t\t\t\t\t\t\t\t\tdataKey=\"value\"\r\n\t\t\t\t\t\t\t\t\t\touterRadius=\"100%\"\r\n\t\t\t\t\t\t\t\t\t\tisAnimationActive={false}\r\n\t\t\t\t\t\t\t\t\t\tlabel={plotLegend && renderCustomizedLabel}\r\n\t\t\t\t\t\t\t\t\t\tlabelLine={false}\r\n\t\t\t\t\t\t\t\t\t\theight={20}\r\n\t\t\t\t\t\t\t\t\t\tlegendType={plotLegend ? \"square\" : \"none\"}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{data.map((entry, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Cell key={`cell-${index}`} fill={this.colors[index % this.colors.length]} />\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</Pie>\r\n\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\tcontentStyle={{ borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border: \"none\", fontFamily: \"Asap\", fontSize: \"12px\", transform: \"translate(-60%, -100%)\" }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</PieChart>\r\n\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\t\t<div className=\"bottom-container\">\r\n\r\n\t\t\t\t\t\t\t{data &&\r\n\t\t\t\t\t\t\t\t<div className=\"total\">\r\n\t\t\t\t\t\t\t\t\t<h2>total des visites</h2>\r\n\t\t\t\t\t\t\t\t\t<p>{data.reduce((acc, curr) => acc + curr.value, 0)}</p>\r\n\t\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t\t<div className=\"download-data\" onClick={this.exportChart} style={{ display: plotLegend ? 'none' : 'flex' }}>\r\n\t\t\t\t\t\t\t\t<p>Exporter en PNG</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n};\r\n\r\nexport default CategoriesDistribution\r\n","import React, { Component, PureComponent, createRef } from \"react\";\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer } from \"recharts\";\r\nimport { exportComponentAsPNG } from 'react-component-export-image';\r\n\r\nimport apiHandler from \"../../apiHandler/apiHandler\";\r\nimport Header from \"../../Components/DataVizHeader\";\r\n\r\nconst CustomizedDot = (props) => {\r\n\tconst { cx, cy } = props;\r\n\treturn (\r\n\t\t<svg x={cx - 20} y={cy - 20} width={80} height={80} fill=\"red\" viewBox=\"0 0 1024 1024\">\r\n\t\t\t<mask id=\"a\" width=\"503\" height=\"457\" x=\"17\" y=\"44\" maskUnits=\"userSpaceOnUse\">\r\n\t\t\t\t<path fill=\"#FFFFFF\" d=\"M60.832 87.832c58.443-58.443 153.197-58.443 211.64 0l196.645 196.645c6.248 6.248 6.248 16.379 0 22.627L280.104 496.117c-6.248 6.248-16.379 6.248-22.627 0L60.832 299.472c-58.443-58.443-58.443-153.197 0-211.64z\" />\r\n\t\t\t\t<path fill=\"#FFFFFF\" d=\"M475.758 87.832c-58.443-58.443-153.197-58.443-211.64 0L67.474 284.477c-6.249 6.248-6.249 16.379 0 22.627l189.012 189.013c6.249 6.248 16.379 6.248 22.628 0l196.644-196.645c58.443-58.443 58.443-153.197 0-211.64z\" />\r\n\t\t\t</mask>\r\n\t\t\t<g mask=\"url(#a)\">\r\n\t\t\t\t<path fill=\"#FFB0B0\" d=\"M17 44h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#FAC696\" d=\"M17 110.143h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#F7E68F\" d=\"M17 176.286h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#A7F2A5\" d=\"M17 242.429h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#96F2EF\" d=\"M17 308.571h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#B5C8FF\" d=\"M17 374.714h503v66.143H17z\" />\r\n\t\t\t\t<path fill=\"#F5C7FF\" d=\"M17 440.857h503V507H17z\" />\r\n\t\t\t</g>\r\n\t\t</svg>\r\n\t);\r\n};\r\n\r\nclass CustomizedLabel extends PureComponent {\r\n\trender() {\r\n\t\tconst { x, y, stroke, value } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<text x={x} y={y} dy={-20} fill={stroke} fontSize={10} textAnchor=\"middle\">\r\n\t\t\t\t{value}\r\n\t\t\t</text>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport class HotDay extends Component {\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tdate: [new Date(new Date() - 31 * 24 * 3600 * 1000), new Date()],\r\n\t\t//  default view : 1 month of data\r\n\t\tcalendarClicked: false,\r\n\r\n\t\tplotLegend: false\r\n\t};\r\n\r\n\tchartRef = createRef();\r\n\r\n\tsetStartDate = (date) => {\r\n\t\tthis.setState({ date }, () =>\r\n\t\t\tapiHandler\r\n\t\t\t\t.repartitionByWeeks({ dates: date })\r\n\t\t\t\t.then((res) =>\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdata: res.agregatedData,\r\n\t\t\t\t\t\tdate: res.updatedDates.map((date) => new Date(date)),\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t\t.catch((err) => console.log(err))\r\n\t\t);\r\n\t\tthis.setState({ calendarClicked: false });\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { date } = this.state;\r\n\r\n\t\tconst dateBegin = new Date(\r\n\t\t\tDate.UTC(date[0].getFullYear(), date[0].getMonth(), date[0].getDate())\r\n\t\t);\r\n\t\tconst dateEnd = new Date(\r\n\t\t\tDate.UTC(date[1].getFullYear(), date[1].getMonth(), date[1].getDate(), 23, 59, 59)\r\n\t\t);\r\n\r\n\t\tapiHandler\r\n\t\t\t.repartitionByWeeks({ dates: [dateBegin, dateEnd] })\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: res.agregatedData,\r\n\t\t\t\t\tdate: res.updatedDates.map((date) => new Date(date)),\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}\r\n\r\n\topenCalendar = () => {\r\n\t\tthis.setState({ calendarClicked: !this.state.calendarClicked });\r\n\t};\r\n\r\n\tleaveSelectDay = () => {\r\n\t\tthis.setState({ calendarClicked: false });\r\n\t}\r\n\r\n\texportChart = () => {\r\n\t\tthis.setState({ plotLegend: true }, () => {\r\n\t\t\texportComponentAsPNG(this.chartRef);\r\n\t\t\tthis.setState({ plotLegend: false })\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { date, data, calendarClicked, plotLegend } = this.state;\r\n\t\tconst dateBegin = date[0].toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"numeric\", day: \"numeric\" });\r\n\t\tconst dateEnd = date[1].toLocaleDateString(\"fr-FR\", { year: \"numeric\", month: \"numeric\", day: \"numeric\" });\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"main-container\" >\r\n\t\t\t\t<Header\r\n\t\t\t\t\tsetStartDate={this.setStartDate}\r\n\t\t\t\t\tcalendarClicked={calendarClicked}\r\n\t\t\t\t\topenCalendar={this.openCalendar}\r\n\t\t\t\t\tleaveSelectDay={this.leaveSelectDay}\r\n\t\t\t\t\tdate={date}\r\n\t\t\t\t\ttitle=\"jours d'affluence\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"background-hot-day\" ref={this.chartRef}>\r\n\t\t\t\t\t<div className=\"date-range-container\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\tdu {dateBegin} au {dateEnd}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Graph-hot-day\">\r\n\t\t\t\t\t\t{this.state.data && (\r\n\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height=\"70%\" style={{ paddingTop: \"50px\" }}>\r\n\t\t\t\t\t\t\t\t<LineChart\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\theight=\"100%\"\r\n\t\t\t\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t\t\t\t\tmargin={{ top: 5, right: 30, left: 20, bottom: 5 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{/* <CartesianGrid strokeDasharray=\"3 3\" /> */}\r\n\t\t\t\t\t\t\t\t\t<XAxis\r\n\t\t\t\t\t\t\t\t\t\tdataKey=\"name\"\r\n\t\t\t\t\t\t\t\t\t\ttick={{ fill: \"#706C7A\", fontSize: 14 }}\r\n\t\t\t\t\t\t\t\t\t\ttickMargin={15}\r\n\t\t\t\t\t\t\t\t\t\tstroke=\"#706C7A\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<YAxis axisLine={false} tick={false} padding={{ top: 20 }} />\r\n\t\t\t\t\t\t\t\t\t<Tooltip cursor={false} contentStyle={{ borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border: \"none\", fontFamily: \"Asap\", fontSize: \"12px\", transform: \"translate(-60%, -100%)\" }} />\r\n\t\t\t\t\t\t\t\t\t{/* <Legend /> */}\r\n\t\t\t\t\t\t\t\t\t<Line\r\n\t\t\t\t\t\t\t\t\t\ttype=\"monotone\"\r\n\t\t\t\t\t\t\t\t\t\tdataKey=\"value\"\r\n\t\t\t\t\t\t\t\t\t\tstroke=\"#B5C8FF\"\r\n\t\t\t\t\t\t\t\t\t\tdot={<CustomizedDot />}\r\n\t\t\t\t\t\t\t\t\t\tname=\"Visites\"\r\n\t\t\t\t\t\t\t\t\t\tactiveDot={false}\r\n\t\t\t\t\t\t\t\t\t\tlabel={plotLegend && <CustomizedLabel />}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{/* <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" /> */}\r\n\t\t\t\t\t\t\t\t</LineChart>\r\n\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{data && (\r\n\t\t\t\t\t\t<div className=\"total-hot-day\">\r\n\t\t\t\t\t\t\t<h2>moyenne des visites en semaine</h2>\r\n\t\t\t\t\t\t\t<p>{data.reduce((acc, curr) => acc + curr.value, 0)}</p>\r\n\t\t\t\t\t\t\t<div className=\"download-data\" onClick={this.exportChart} style={{ display: plotLegend ? 'none' : 'flex' }}>\r\n\t\t\t\t\t\t\t\t<p>Exporter en PNG</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default HotDay;\r\n","import React, { Component, createRef } from 'react';\r\nimport { BarChart, Tooltip, ResponsiveContainer, XAxis, Bar, Cell } from \"recharts\";\r\nimport { exportComponentAsPNG } from 'react-component-export-image';\r\n\r\n\r\nimport './../../Styles/Calendar.css';\r\nimport './../../Styles/DataViz.css';\r\n\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\n\r\nimport Header from './../../Components/DataVizHeader';\r\n\r\n\r\nexport class CategoriesDistribution extends Component {\r\n\r\n\tstate = {\r\n\t\tdata: null,\r\n\t\tdate: [new Date(new Date() - 31 * 24 * 3600 * 1000), new Date()],\r\n\t\t//  default view : 1 month of data\r\n\t\tweekDays: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\r\n\t\tcalendarClicked: false,\r\n\t\tselectDayClicked: false,\r\n\t\tisCheckboxes: true,\r\n\r\n\t\tplotLegend: false\r\n\t}\r\n\r\n\tcolors = [\"#ffb0b0\", \"#fac696\", \"#f7e68f\", \"#a7f2a5\", \"#96f2ef\", \"#b5c8ff\", \"#F5C7FF\", \"#C4C4C4\"];\r\n\r\n\tchartRef = createRef();\r\n\r\n\tsetStartDate = date => {\r\n\t\tconst { weekDays } = this.state;\r\n\r\n\t\tthis.setState({ date },\r\n\t\t\t() => apiHandler.hotTime({ dates: date, weekDays })\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.setState({ data: res });\r\n\t\t\t\t\tthis.setState({ calendarClicked: false });\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.log(err))\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { date } = this.state;\r\n\r\n\t\tconst dateBegin = new Date(Date.UTC(date[0].getFullYear(), date[0].getMonth(), date[0].getDate()));\r\n\t\tconst dateEnd = new Date(Date.UTC(date[1].getFullYear(), date[1].getMonth(), date[1].getDate(), 23, 59, 59));\r\n\r\n\t\tapiHandler.hotTime({ dates: [dateBegin, dateEnd] })\r\n\t\t\t.then(res => this.setState({ data: res }))\r\n\t\t\t.catch(err => console.log(err))\r\n\t}\r\n\r\n\thandleToggleDay = event => {\r\n\t\tconst { date } = this.state;\r\n\r\n\t\tconst dateBegin = new Date(Date.UTC(date[0].getFullYear(), date[0].getMonth(), date[0].getDate()));\r\n\t\tconst dateEnd = new Date(Date.UTC(date[1].getFullYear(), date[1].getMonth(), date[1].getDate(), 23, 59, 59));\r\n\r\n\t\tconst { weekDays } = this.state;\r\n\t\tconst day = event.target.name;\r\n\t\tconst index = weekDays.indexOf(day);\r\n\r\n\t\tif (index > 0) {\r\n\t\t\tweekDays.splice(index, 1);\r\n\t\t} else {\r\n\t\t\tweekDays.push(day);\r\n\t\t}\r\n\r\n\t\tapiHandler.hotTime({ dates: [dateBegin, dateEnd], weekDays })\r\n\t\t\t.then(res => this.setState({ data: res }))\r\n\t\t\t.catch(err => console.log(err))\r\n\r\n\t}\r\n\r\n\topenCalendar = () => {\r\n\t\tthis.setState({ calendarClicked: !this.state.calendarClicked });\r\n\t\tthis.setState({ selectDayClicked: false });\r\n\t};\r\n\r\n\topenFilterDay = () => {\r\n\t\tthis.setState({ selectDayClicked: !this.state.selectDayClicked });\r\n\t\tthis.setState({ calendarClicked: false });\r\n\t}\r\n\r\n\tleaveSelectDay = () => {\r\n\t\tthis.setState({ selectDayClicked: false, calendarClicked: false });\r\n\t}\r\n\r\n\texportChart = () => {\r\n\t\tthis.setState({ plotLegend: true }, () => {\r\n\t\t\texportComponentAsPNG(this.chartRef);\r\n\t\t\tthis.setState({ plotLegend: false })\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { date, calendarClicked, isCheckboxes, selectDayClicked, weekDays, data, plotLegend } = this.state;\r\n\t\tconst dateBegin = date[0].toLocaleDateString(\"fr-FR\", {\r\n\t\t\tyear: \"numeric\",\r\n\t\t\tmonth: \"numeric\",\r\n\t\t\tday: \"numeric\",\r\n\t\t});\r\n\t\tconst dateEnd = date[1].toLocaleDateString(\"fr-FR\", {\r\n\t\t\tyear: \"numeric\",\r\n\t\t\tmonth: \"numeric\",\r\n\t\t\tday: \"numeric\",\r\n\t\t});\r\n\r\n\t\tlet name, visit;\r\n\t\tif (this.state.value) {\r\n\t\t\tname = this.state.status.name;\r\n\t\t\tvisit = this.state.status.visit;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"main-container\" >\r\n\t\t\t\t<Header\r\n\t\t\t\t\tsetStartDate={this.setStartDate}\r\n\t\t\t\t\tdate={date}\r\n\t\t\t\t\thandleToggleDay={this.handleToggleDay}\r\n\t\t\t\t\tweekDays={weekDays}\r\n\t\t\t\t\ttitle=\"heures d'affluence\"\r\n\r\n\t\t\t\t\t//Props passed for UI details\r\n\t\t\t\t\tcalendarClicked={calendarClicked}\r\n\t\t\t\t\tselectDayClicked={selectDayClicked}\r\n\t\t\t\t\topenCalendar={this.openCalendar}\r\n\t\t\t\t\topenFilterDay={this.openFilterDay}\r\n\t\t\t\t\tisCheckboxes={isCheckboxes}\r\n\t\t\t\t\tleaveSelectDay={this.leaveSelectDay}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"background-container-hot-time\" ref={this.chartRef}>\r\n\r\n\t\t\t\t\t<div className=\"Graph-container\">\r\n\t\t\t\t\t\t<div className=\"date-range-container\">\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tdu {dateBegin} au {dateEnd}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.data\r\n\t\t\t\t\t\t\t&&\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<ResponsiveContainer width=\"100%\" height=\"50%\">\r\n\t\t\t\t\t\t\t\t\t<BarChart\r\n\t\t\t\t\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<XAxis\r\n\t\t\t\t\t\t\t\t\t\t\tdataKey=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\ttick={{ fill: \"#706C7A\", fontSize: 14 }}\r\n\t\t\t\t\t\t\t\t\t\t\ttickMargin={15}\r\n\t\t\t\t\t\t\t\t\t\t\t// change tick color\r\n\t\t\t\t\t\t\t\t\t\t\ttickLine={false}\r\n\t\t\t\t\t\t\t\t\t\t\t// don't plot the tick\r\n\t\t\t\t\t\t\t\t\t\t\taxisLine={false}\r\n\t\t\t\t\t\t\t\t\t\t// don't plot the axis\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\t\t\t\tcursor={false}\r\n\t\t\t\t\t\t\t\t\t\t\tcontentStyle={{ borderRadius: \"8px\", boxShadow: \"1px 2px 4px rgba(0, 0, 0, 0.12)\", border: \"none\", fontFamily: \"Asap\", fontSize: \"12px\" }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Bar\r\n\t\t\t\t\t\t\t\t\t\t\tdataKey=\"value\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"#000000\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"Visites\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={plotLegend && { position: 'top' , fill: \"black\"}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{data.map((entry, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Cell key={`cell-${index}`} fill={this.colors[index % this.colors.length]} />\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Bar>\r\n\t\t\t\t\t\t\t\t\t</BarChart>\r\n\t\t\t\t\t\t\t\t</ResponsiveContainer>\r\n\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<div className=\"download-data\" onClick={this.exportChart} style={{ display: plotLegend ? 'none' : 'flex' }}>\r\n\t\t\t\t\t\t\t<p>Exporter en PNG</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default CategoriesDistribution\r\n","import React, { Component } from 'react' ;\r\nimport { CSVLink } from \"react-csv\";\r\n\r\nimport './../../Styles/Calendar.css';\r\nimport './../../Styles/DataViz.css';\r\n\r\nimport apiHandler from '../../apiHandler/apiHandler';\r\n\r\nimport Header from './../../Components/DataVizHeader';\r\n\r\n\r\nconst flatData = (datas) => {\r\n    return(datas.map(data => {return {    \r\n        categoryName: data.category.name,\r\n        categoryIsActive: data.category.isActive ? \"actif\" : \"archiv\",\r\n        contactTypeName: data.contactType.name,\r\n        contactTypeIsActive: data.contactType.isActive ? \"actif\" : \"archiv\",\r\n        date: data.date\r\n    }}\r\n    )\r\n)}\r\n\r\nexport class CategoriesDistribution extends Component {\r\n\r\n    state = {\r\n        data: null ,\r\n        date: [new Date(), new Date()],\r\n        calendarClicked: false,\r\n        isLoading: true\r\n    }\r\n\r\n    setStartDate = date => {\r\n\r\n        this.setState({date, isLoading:true},\r\n            () => apiHandler.getVisitsDateRange({dates: date})\r\n            .then(res =>  this.setState({data: flatData(res), isLoading:false}))\r\n            .catch(err => console.log(err))\r\n            ) ;\r\n            \r\n        this.setState({calendarClicked: false});\r\n    };\r\n\r\n    leaveSelectDay = () => {\r\n        this.setState({selectDayClicked: false, calendarClicked: false});\r\n    }\r\n\r\n    componentDidMount() {\r\n        const dateBegin = this.state.date[0].toISOString().substring(0,10) + \" 00:00:00\" ;\r\n        const dateEnd = this.state.date[1].toISOString().substring(0,10) + \" 23:59:59\" ;\r\n        apiHandler.getVisitsDateRange({dates: [dateBegin, dateEnd]})\r\n            .then(res =>   this.setState({data: flatData(res), isLoading:false}))\r\n            .catch(err => console.log(err))\r\n        \r\n    };\r\n\r\n    openCalendar = () => {\r\n        this.setState({calendarClicked: !this.state.calendarClicked});\r\n    };\r\n \r\n    render() {\r\n        const {date, data, calendarClicked, isLoading} = this.state ;\r\n        const dateBegin = date[0].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n        const dateEnd = date[1].toLocaleDateString('fr-FR', { year: 'numeric', month: 'numeric', day: 'numeric' });\r\n\r\n        return (\r\n            <div className=\"main-container\">\r\n                <Header \r\n                    setStartDate={this.setStartDate} \r\n                    calendarClicked={calendarClicked}\r\n                    openCalendar={this.openCalendar}\r\n                    date={date}\r\n                    title=\"export\"\r\n                    leaveSelectDay={this.leaveSelectDay}\r\n                />\r\n                \r\n                <div className=\"export\">\r\n                        <h1>Rcuprer la liste des visites du</h1>\r\n                        <p>{dateBegin} au {dateEnd}</p>\r\n                        {data \r\n                            &&\r\n                            <>\r\n                                {!isLoading &&\r\n                                    <CSVLink data={this.state.data} className=\"download-data\" separator={\";\"}>Tlcharger les donnes</CSVLink>\r\n                                }\r\n                                {isLoading &&\r\n                                    <div className=\"download-data\">\r\n                                        <p>Chargement des donnes</p>\r\n                                    </div>\r\n                                }\r\n                            </>\r\n                        }\r\n                        </div>\r\n                </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default CategoriesDistribution\r\n","import React, { Component } from \"react\";\r\nimport \"../Styles/NotFound.css\";\r\n\r\nexport class NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div id=\"not-found\">\r\n        <h1>404 bitch !</h1>\r\n        <img\r\n          src=\"https://media.tenor.co/images/68a83f039448147d2d56c179e43bb474/raw\"\r\n          alt=\"RuPaul GIF\"\r\n        />\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFound;\r\n","import \"./App.css\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport ProtectedRoute from \"./Components/ProtectedRoute\";\r\n\r\nimport SettingsUsers from \"./Views/Settings/SettingsUsers\";\r\nimport HeaderFlag from './Components/GlobalElements/HeaderFlag';\r\n\r\nimport Home from './Views/Home';\r\n\r\nimport NavDashboard from './Components/GlobalElements/DashboardNavBar';\r\n\r\nimport History from './Views/Visits/History';\r\nimport CreateVisit from './Views/Visits/CreateVisit';\r\nimport UpdateVisit from './Views/Visits/UpdateVisit';\r\nimport SettingsCatCont from './Views/Settings/SettingsCatCont';\r\nimport CategoriesDistribution from './Views/Insights/CategoriesDistribution';\r\nimport HotDay from './Views/Insights/HotDay';\r\nimport HotTime from './Views/Insights/HotTime';\r\nimport RetrieveData from './Views/Insights/RetrieveData'\r\n\r\nimport NotFound from './Views/NotFound';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n\r\n      <HeaderFlag/>\r\n\r\n      <div id=\"left-side\">\r\n        <NavDashboard/>\r\n      </div>\r\n\r\n      <div id=\"right-side\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          {/*  protger */}\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/categories-repartition\" component={CategoriesDistribution}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/jour-affluence\" component={HotDay}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/heure-affluence\" component={HotTime}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/exporter\" component={RetrieveData}/>\r\n\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/new-visit\" component={CreateVisit}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/update-visit\" component={UpdateVisit}/>\r\n          <ProtectedRoute protectionLevel=\"volunteer\" exact path=\"/history\" component={History}/>\r\n          \r\n          <ProtectedRoute protectionLevel=\"admin\" exact path=\"/parameters\" component={SettingsCatCont}/>\r\n\r\n          <ProtectedRoute protectionLevel=\"admin\" exact path=\"/users\" component={SettingsUsers} />\r\n\r\n          <ProtectedRoute protectionLevel=\"volunteer\" path=\"*\" component={NotFound} />\r\n        </Switch>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React, { Component } from \"react\";\r\nimport apiHandler from \"./../../apiHandler/apiHandler\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nclass UserProvider extends Component {\r\n  state = {\r\n    user: null,\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    apiHandler\r\n      .isLoggedIn()\r\n      .then((data) => {\r\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\r\n      });\r\n  }\r\n\r\n  setUser = (user) => {\r\n    this.setState({ user, isLoggedIn: true });\r\n  };\r\n\r\n  removeUser = () => {\r\n    this.setState({ user: null, isLoggedIn: false });\r\n  };\r\n\r\n  render() {\r\n    //  Setup all the values/functions you want to expose to anybody reading\r\n    // from the AuthContext.\r\n    const authValues = {\r\n      user: this.state.user,\r\n      setUser: this.setUser,\r\n      removeUser: this.removeUser,\r\n      isLoggedIn: this.state.isLoggedIn,\r\n      isLoading: this.state.isLoading,\r\n    };\r\n\r\n    return (\r\n      <UserContext.Provider value={authValues}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProvider;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport UserProvider from \"./Components/Auth/UserProvider\";\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <UserProvider>\r\n        <App />\r\n      </UserProvider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}